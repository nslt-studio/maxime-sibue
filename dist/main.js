(function(){"use strict";const mt="cubic-bezier(0.4, 0, 0.2, 1)";function se(){const t=`
    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 300ms ${mt};
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 300ms ${mt};
    }

    .selected-item.active .selected-progress,
    .selected-item.active .selected-cover {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }

    /* === DETAILS PAGE === */
    .progress-bar {
      transform-origin: left;
    }

    /* === PROJECT PROGRESS BAR (details page, CSS animation) === */
    .project-progress {
      width: 0;
      transition: width 600ms ${mt};
    }

    .project-progress.is-visible {
      width: 100%;
    }
  `,e=document.createElement("style");e.setAttribute("data-maxime-sibue",""),e.textContent=t,document.head.appendChild(e)}const oe=400,ie="cubic-bezier(0.4, 0, 0.2, 1)",re=100,ae=600,qt="loaderDone";function le(){if(sessionStorage.getItem(qt)){ue();return}const t=document.querySelector(".loader"),e=t?[...t.querySelectorAll(".loader-item")]:[];if(!t||!e.length)return;e.forEach(o=>{o.style.opacity="0"});let n=0;const s=setInterval(()=>{n>0&&(e[n-1].style.opacity="0"),e[n].style.opacity="1",n++,n>=e.length&&(clearInterval(s),setTimeout(()=>ce(t),ae))},re)}function ce(t){const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${oe}ms ${ie}`,t.style.height="0px",t.addEventListener("transitionend",()=>{t.style.display="none",sessionStorage.setItem(qt,"1")},{once:!0})}function ue(){const t=document.querySelector(".loader");t&&(t.style.display="none")}const gt=new WeakMap;function yt(t,e,n,s){if(!t&&!gt.has(e))return!1;const o=gt.get(e)??new WeakMap;gt.set(e,o);const i=o.get(n)??new Set;o.set(n,i);const r=i.has(s);return t?i.add(s):i.delete(s),r&&t}function he(t,e){let n=t.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&t.currentTarget instanceof Node){const s=n.closest(e);if(s&&t.currentTarget.contains(s))return s}}function de(t,e,n,s={}){const{signal:o,base:i=document}=s;if(o!=null&&o.aborted)return;const{once:r,...a}=s,l=i instanceof Document?i.documentElement:i,c=!!(typeof s=="object"?s.capture:s),u=m=>{const p=he(m,String(t));if(p){const f=Object.assign(m,{delegateTarget:p});n.call(l,f),r&&(l.removeEventListener(e,u,a),yt(!1,l,n,d))}},d=JSON.stringify({selector:t,type:e,capture:c});yt(!0,l,n,d)||l.addEventListener(e,u,a),o==null||o.addEventListener("abort",()=>{yt(!1,l,n,d)})}function w(){return w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},w.apply(null,arguments)}const At=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",U=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),fe=(t,e={})=>{const n=w({url:t=t||U({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(n,"",t)},z=(t=null,e={})=>{t=t||U({hash:!0});const n=w({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(n,"",t)},pe=(t,e,n,s)=>{const o=new AbortController;return s=w({},s,{signal:o.signal}),de(t,e,n,s),{destroy:()=>o.abort()}};let S=class pt extends URL{constructor(e,n=document.baseURI){super(e.toString(),n),Object.setPrototypeOf(this,pt.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const n=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new pt(n)}static fromUrl(e){return new pt(e)}};class Z extends Error{constructor(e,n){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function me(t,e={}){var n;t=S.fromUrl(t).url;const{visit:s=this.visit}=e,o=w({},this.options.requestHeaders,e.headers),i=(n=e.timeout)!=null?n:this.options.timeout,r=new AbortController,{signal:a}=r;e=w({},e,{headers:o,signal:a});let l,c=!1,u=null;i&&i>0&&(u=setTimeout(()=>{c=!0,r.abort("timeout")},i));try{l=await this.hooks.call("fetch:request",s,{url:t,options:e},(y,{url:v,options:P})=>fetch(v,P)),u&&clearTimeout(u)}catch(y){throw c?(this.hooks.call("fetch:timeout",s,{url:t}),new Z(`Request timed out: ${t}`,{url:t,timedOut:c})):(y==null?void 0:y.name)==="AbortError"||a.aborted?new Z(`Request aborted: ${t}`,{url:t,aborted:!0}):y}const{status:d,url:h}=l,m=await l.text();if(d===500)throw this.hooks.call("fetch:error",s,{status:d,response:l,url:h}),new Z(`Server error: ${h}`,{status:d,url:h});if(!m)throw new Z(`Empty response: ${h}`,{status:d,url:h});const{url:p}=S.fromUrl(h),f={url:p,html:m};return!s.cache.write||e.method&&e.method!=="GET"||t!==p||this.cache.set(f.url,f),f}class ge{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((n,s)=>{e.set(s,w({},n))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const n=this.pages.get(this.resolve(e));return n&&w({},n)}set(e,n){n=w({},n,{url:e=this.resolve(e)}),this.pages.set(e,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(e,n){e=this.resolve(e);const s=w({},this.get(e),n,{url:e});this.pages.set(e,s)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((n,s)=>{e(s,n)&&this.delete(s)})}resolve(e){const{url:n}=S.fromUrl(e);return this.swup.resolveUrl(n)}}const vt=(t,e=document)=>e.querySelector(t),wt=(t,e=document)=>Array.from(e.querySelectorAll(t)),Tt=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function Ct(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ye(t,e=[]){return new Promise((n,s)=>{const o=t(...e);Ct(o)?o.then(n,s):n(o)})}function It(t,e){const n=t==null?void 0:t.closest(`[${e}]`);return n!=null&&n.hasAttribute(e)?(n==null?void 0:n.getAttribute(e))||!0:void 0}class ve{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?wt(this.selector):[]}add(...e){this.targets.forEach(n=>n.classList.add(...e))}remove(...e){this.targets.forEach(n=>n.classList.remove(...e))}clear(){this.targets.forEach(e=>{const n=e.className.split(" ").filter(s=>this.isSwupClass(s));e.classList.remove(...n)})}isSwupClass(e){return this.swupClasses.some(n=>e.startsWith(n))}}class jt{constructor(e,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:s,from:o,hash:i,el:r,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:o??e.location.url,hash:e.location.hash},this.to={url:s,hash:i},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function we(t){return new jt(this,t)}class Se{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const n=this.registry.get(e);if(n)return n;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,n,s={}){const o=this.get(e);if(!o)return console.warn(`Hook '${e}' not found.`),()=>{};const i=w({},s,{id:o.size+1,hook:e,handler:n});return o.set(n,i),()=>this.off(e,n)}before(e,n,s={}){return this.on(e,n,w({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,w({},s,{replace:!0}))}once(e,n,s={}){return this.on(e,n,w({},s,{once:!0}))}off(e,n){const s=this.get(e);s&&n?s.delete(n)||console.warn(`Handler for hook '${e}' not found.`):s&&s.clear()}async call(e,n,s,o){const[i,r,a]=this.parseCallArgs(e,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(e,a);await this.run(l,i,r);const[d]=await this.run(c,i,r,!0);return await this.run(u,i,r),this.dispatchDomEvent(e,i,r),d}callSync(e,n,s,o){const[i,r,a]=this.parseCallArgs(e,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(e,a);this.runSync(l,i,r);const[d]=this.runSync(c,i,r,!0);return this.runSync(u,i,r),this.dispatchDomEvent(e,i,r),d}parseCallArgs(e,n,s,o){return n instanceof jt||typeof n!="object"&&typeof s!="function"?[n,s,o]:[void 0,n,s]}async run(e,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=await ye(a,[n,s,l]);i.push(u)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}runSync(e,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=a(n,s,l);i.push(u),Ct(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}getHandlers(e,n){const s=this.get(e);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(s.values()),i=this.sortRegistrations,r=o.filter(({before:d,replace:h})=>d&&!h).sort(i),a=o.filter(({replace:d})=>d).filter(d=>!0).sort(i),l=o.filter(({before:d,replace:h})=>!d&&!h).sort(i),c=a.length>0;let u=[];if(n&&(u=[{id:0,hook:e,handler:n}],c)){const d=a.length-1,{handler:h,once:m}=a[d],p=f=>{const y=a[f-1];return y?(v,P)=>y.handler(v,P,p(f-1)):n};u=[{id:0,hook:e,once:m,handler:h,defaultHandler:p(d)}]}return{found:!0,before:r,handler:u,after:l,replaced:c}}sortRegistrations(e,n){var s,o;return((s=e.priority)!=null?s:0)-((o=n.priority)!=null?o:0)||e.id-n.id||0}dispatchDomEvent(e,n,s){if(n!=null&&n.done)return;const o={hook:e,args:s,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:o,bubbles:!0}))}parseName(e){const[n,...s]=e.split(".");return[n,s.reduce((o,i)=>w({},o,{[i]:!0}),{})]}}const Ee=t=>{if(t&&t.charAt(0)==="#"&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||vt(`a[name='${CSS.escape(t)}']`)||vt(`a[name='${CSS.escape(e)}']`);return n||t!=="top"||(n=document.body),n},Q="transition",St="animation";async function be({selector:t,elements:e}){if(t===!1&&!e)return;let n=[];if(e)n=Array.from(e);else if(t&&(n=wt(t,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const s=n.map(o=>(function(i){const{type:r,timeout:a,propCount:l}=(function(c){const u=window.getComputedStyle(c),d=tt(u,`${Q}Delay`),h=tt(u,`${Q}Duration`),m=xt(d,h),p=tt(u,`${St}Delay`),f=tt(u,`${St}Duration`),y=xt(p,f),v=Math.max(m,y),P=v>0?m>y?Q:St:null;return{type:P,timeout:v,propCount:P?P===Q?h.length:f.length:0}})(i);return!(!r||!a)&&new Promise(c=>{const u=`${r}end`,d=performance.now();let h=0;const m=()=>{i.removeEventListener(u,p),c()},p=f=>{f.target===i&&((performance.now()-d)/1e3<f.elapsedTime||++h>=l&&m())};setTimeout(()=>{h<l&&m()},a+1),i.addEventListener(u,p)})})(o));s.filter(Boolean).length>0?await Promise.all(s):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function tt(t,e){return(t[e]||"").split(", ")}function xt(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ot(n)+Ot(t[s])))}function Ot(t){return 1e3*parseFloat(t)}function ke(t,e={},n={}){if(typeof t!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void window.location.assign(t);const{url:s,hash:o}=S.fromUrl(t),i=this.createVisit(w({},n,{to:s,hash:o}));this.performNavigation(i,e)}async function Le(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:n}=t.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const s=e.history||It(n,"data-swup-history");typeof s=="string"&&["push","replace"].includes(s)&&(t.history.action=s);const o=e.animation||It(n,"data-swup-animation");var i,r;typeof o=="string"&&(t.animation.name=o),t.meta=e.meta||{},typeof e.cache=="object"?(t.cache.read=(i=e.cache.read)!=null?i:t.cache.read,t.cache.write=(r=e.cache.write)!=null?r:t.cache.write):e.cache!==void 0&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;const a=this.hooks.call("page:load",t,{options:e},async(c,u)=>{let d;return c.cache.read&&(d=this.cache.get(c.to.url)),u.page=d||await this.fetchPage(c.to.url,u.options),u.cache=!!d,u.page});a.then(({html:c})=>{t.advance(5),t.to.html=c,t.to.document=new DOMParser().parseFromString(c,"text/html")});const l=t.to.url+t.to.hash;if(t.history.popstate||(t.history.action==="replace"||t.to.url===this.location.url?z(l):(this.currentHistoryIndex++,fe(l,{index:this.currentHistoryIndex}))),this.location=S.fromUrl(l),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${At(t.animation.name)}`),t.animation.wait&&await a,t.done||(await this.hooks.call("visit:transition",t,void 0,async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await a);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(t,await a)).finished:await this.renderPage(t,await a),await this.animatePageIn(t)}),t.done))return;await this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(t.state=8);t.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}const $e=async function(t){await this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",t,{skip:!1},(e,{skip:n})=>{if(!n)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",t,void 0)},Pe=function(t){var e;const n=t.to.document;if(!n)return!1;const s=((e=n.querySelector("title"))==null?void 0:e.innerText)||"";document.title=s;const o=wt('[data-swup-persist]:not([data-swup-persist=""])'),i=t.containers.map(r=>{const a=document.querySelector(r),l=n.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return o.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=vt(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),i.length===t.containers.length},qe=function(t){const e={behavior:"auto"},{target:n,reset:s}=t.scroll,o=n??t.to.hash;let i=!1;return o&&(i=this.hooks.callSync("scroll:anchor",t,{hash:o,options:e},(r,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),s&&!i&&(i=this.hooks.callSync("scroll:top",t,{options:e},(r,{options:a})=>(window.scrollTo(w({top:0,left:0},a)),!0))),i},Ae=async function(t){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},(n,{skip:s})=>{if(!s)return this.awaitAnimations({selector:n.animation.selector})});await Tt(),await this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",t,void 0)},Te=async function(t,e){if(t.done)return;t.advance(6);const{url:n}=e;this.isSameResolvedUrl(U(),n)||(z(n),this.location=S.fromUrl(n),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${At(s.animation.name)}`))}),await this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},Ce=function(t){var e;if(e=t,!!(e!=null&&e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function Ie(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==e),this.plugins;console.error("No such plugin",e)}function je(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function xe(t){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function Oe(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const Ue={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return((e=t.state)==null?void 0:e.source)!=="swup"},timeout:0};class He{get currentPageUrl(){return this.location.url}constructor(e={}){var n,s;this.version="4.8.2",this.options=void 0,this.defaults=Ue,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=S.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Ce,this.unuse=Ie,this.findPlugin=je,this.log=()=>{},this.navigate=ke,this.performNavigation=Le,this.createVisit=we,this.delegateEvent=pe,this.fetchPage=me,this.awaitAnimations=be,this.renderPage=Te,this.replaceContent=Pe,this.animatePageIn=Ae,this.animatePageOut=$e,this.scrollToContent=qe,this.getAnchorElement=Ee,this.getCurrentUrl=U,this.resolveUrl=xe,this.isSameResolvedUrl=Oe,this.options=w({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new ge(this),this.classes=new ve(this),this.hooks=new Se(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(s=window.history.state)==null?void 0:s.index)!=null?n:1,this.enable()}async enable(){var e;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s));for(const[s,o]of Object.entries(this.options.hooks)){const[i,r]=this.hooks.parseName(s);this.hooks.on(i,o,r)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&z(null,{index:this.currentHistoryIndex}),await Tt(),await this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:n,event:s}={}){const{origin:o,url:i,hash:r}=S.fromUrl(e);return o!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(i+r,{el:n,event:s})}handleLinkClick(e){const n=e.delegateTarget,{href:s,url:o,hash:i}=S.fromElement(n);if(this.shouldIgnoreVisit(s,{el:n,event:e}))return;if(this.navigating&&o===this.visit.to.url)return void e.preventDefault();const r=this.createVisit({to:o,hash:i,el:n,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",r,{href:s}):e.button===0&&this.hooks.callSync("link:click",r,{el:n,event:e},()=>{var a;const l=(a=r.from.url)!=null?a:"";e.preventDefault(),o&&o!==l?this.isSameResolvedUrl(o,l)||this.performNavigation(r):i?this.hooks.callSync("link:anchor",r,{hash:i},()=>{z(o+i),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(z(o),this.scrollToContent(r))})})}handlePopState(e){var n,s,o,i;const r=(n=(s=e.state)==null?void 0:s.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(U(),this.location.url))return;const{url:a,hash:l}=S.fromUrl(r),c=this.createVisit({to:a,hash:l,event:e});c.history.popstate=!0;const u=(o=(i=e.state)==null?void 0:i.index)!=null?o:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:e},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Y.apply(this,arguments)}const Ut=t=>String(t).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class De{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,n])=>{if(!(function(s,o,i){const r=(function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var u;const d=l.findPlugin(a);return(u=d==null?void 0:d.version)!=null?u:""}})(s,i);return!!r&&((a,l)=>l.every(c=>{const[,u,d]=c.match(/^([\D]+)?(.*)$/)||[];var h,m;return((p,f)=>{const y={"":v=>v===0,">":v=>v>0,">=":v=>v>=0,"<":v=>v<0,"<=":v=>v<=0};return(y[f]||y[""])(p)})((m=d,h=Ut(h=a),m=Ut(m),h.localeCompare(m,void 0,{numeric:!0})),u||">=")}))(r,o)})(e,n=Array.isArray(n)?n:[n],this.swup)){const s=`${e} ${n.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(e,n,s={}){var o;n=!(o=n).name.startsWith("bound ")||o.hasOwnProperty("prototype")?n.bind(this):n;const i=this.swup.hooks.on(e,n,s);return this.handlersToUnregister.push(i),i}once(e,n,s={}){return this.on(e,n,Y({},s,{once:!0}))}before(e,n,s={}){return this.on(e,n,Y({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,Y({},s,{replace:!0}))}off(e,n){return this.swup.hooks.off(e,n)}}function et(){return et=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},et.apply(null,arguments)}function Ht(){return window.matchMedia("(hover: hover)").matches}function nt(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const Dt=window.requestIdleCallback||(t=>setTimeout(t,1)),Ne=["preloadVisibleLinks"];class Me extends De{constructor(e={}){var n;super(),n=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(i,r,a)=>{const{url:l}=i.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(i,r)},this.onMouseEnter=async function(i){if(i.target!==i.delegateTarget||!Ht())return;const r=i.delegateTarget;if(!nt(r))return;const{url:a,hash:l}=S.fromElement(r),c=n.swup.createVisit({to:a,hash:l,el:r,event:i});n.swup.hooks.callSync("link:hover",c,{el:r,event:i}),n.preload(r,{priority:!0})},this.onTouchStart=i=>{if(Ht())return;const r=i.delegateTarget;nt(r)&&this.preload(r,{priority:!0})},this.onFocus=i=>{const r=i.delegateTarget;nt(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:s}=e,o=(function(i,r){if(i==null)return{};var a={};for(var l in i)if({}.hasOwnProperty.call(i,l)){if(r.includes(l))continue;a[l]=i[l]}return a})(e,Ne);this.options=et({},this.defaults,o),typeof s=="object"?this.options.preloadVisibleLinks=et({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=(function(i=1){const r=[],a=[];let l=0,c=0;function u(){c<i&&l>0&&((a.shift()||r.shift()||(()=>{}))(),l--,c++)}return{add:function(d,h=!1){if(d.__queued){if(!h)return;{const m=r.indexOf(d);if(m>=0){const p=r.splice(m,1);l-=p.length}}}d.__queued=!0,(h?a:r).push(d),l++,l<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const e=this.swup;e.options.cache?(e.hooks.create("page:preload"),e.hooks.create("link:hover"),e.preload=this.preload,e.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(U())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var e,n,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(e=this.mouseEnterDelegate)==null||e.destroy(),(n=this.touchStartDelegate)==null||n.destroy(),(s=this.focusDelegate)==null||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(e,n={}){var s;let o,i;const r=(s=n.priority)!=null&&s;if(Array.isArray(e))return Promise.all(e.map(l=>this.preload(l)));if(nt(e))i=e,{href:o}=S.fromElement(e);else{if(typeof e!="string")return;o=e}if(!o)return;if(this.swup.cache.has(o))return this.swup.cache.get(o);if(this.preloadPromises.has(o))return this.preloadPromises.get(o);if(!this.shouldPreload(o,{el:i}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(o).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(o)})},r)});return this.preloadPromises.set(o,a),a}preloadLinks(){Dt(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(e=>this.preload(e))})}preloadLinksOnAttention(){const{swup:e}=this,{linkSelector:n}=e.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=e.delegateEvent(n,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=e.delegateEvent(n,"touchstart",this.onTouchStart,s),this.focusDelegate=e.delegateEvent(n,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:e,delay:n,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:o,delay:i,containers:r,callback:a,filter:l}){const c=new Map,u=new IntersectionObserver(p=>{p.forEach(f=>{f.isIntersecting?d(f.target):h(f.target)})},{threshold:o}),d=p=>{var f;const{href:y}=S.fromElement(p),v=(f=c.get(y))!=null?f:new Set;c.set(y,v),v.add(p),setTimeout(()=>{const P=c.get(y);P!=null&&P.size&&(a(p),u.unobserve(p),P.delete(p))},i)},h=p=>{var f;const{href:y}=S.fromElement(p);(f=c.get(y))==null||f.delete(p)},m=()=>{Dt(()=>{const p=r.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(p)).filter(f=>l(f)).forEach(f=>u.observe(f))})};return{start:()=>m(),stop:()=>u.disconnect(),update:()=>(c.clear(),m())}})({threshold:e,delay:n,containers:s,callback:o=>this.preload(o),filter:o=>{if(this.options.preloadVisibleLinks.ignore(o)||!o.matches(this.swup.options.linkSelector))return!1;const{href:i}=S.fromElement(o);return this.shouldPreload(i,{el:o})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(e,{el:n}={}){const{url:s,href:o}=S.fromUrl(e);return!(!(function(){if(navigator.connection){var i;if(navigator.connection.saveData||(i=navigator.connection.effectiveType)!=null&&i.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(o,{el:n})||n&&this.swup.resolveUrl(s)===this.swup.resolveUrl(U()))}async performPreload(e){var n=this;const{url:s}=S.fromUrl(e),o=this.swup.createVisit({to:s});return await this.swup.hooks.call("page:preload",o,{url:s},async function(r,a){return a.page=await n.swup.fetchPage(e,{visit:r}),a.page})}}const g=300,I=50,q="cubic-bezier(0.4, 0, 0.2, 1)";function E(t){return new Promise(e=>setTimeout(e,t))}function Et(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function st(){return new Promise(t=>requestAnimationFrame(()=>requestAnimationFrame(t)))}function H(){var s;const t=document.querySelector('[data-link="projects"]'),e=(s=t==null?void 0:t.parentElement)==null?void 0:s.querySelector(".categories"),n=e?[...e.querySelectorAll(".categories-item")]:[];return{projectsLink:t,categories:e,items:n}}async function Re(){const{projectsLink:t}=H();t&&(t.style.transition=`opacity ${g}ms ${q}`,t.offsetHeight,t.style.opacity="0",t.style.pointerEvents="none",await E(g))}async function Fe(){const{projectsLink:t}=H();t&&(t.style.transition="none",t.style.opacity="0",await st(),t.style.transition=`opacity ${g}ms ${q}`,t.style.opacity="1",t.style.pointerEvents="",await E(g))}async function Nt(){const{categories:t,items:e}=H();!t||!e.length||(e.forEach(n=>{n.style.transition="none",n.style.opacity="0"}),await st(),t.style.pointerEvents="auto",e.forEach((n,s)=>{const o=s*I;n.style.transition=`opacity ${g}ms ${q} ${o}ms`,n.style.opacity="1"}),await E(g+(e.length-1)*I))}async function Mt(){const{categories:t,items:e}=H();!t||!e.length||(e.forEach((n,s)=>{const o=s*I;n.style.transition=`opacity ${g}ms ${q} ${o}ms`,n.style.opacity="0"}),await E(g+(e.length-1)*I),t.style.pointerEvents="none")}async function Ve(){const t=Re();await E(g/2);const e=Nt();await Promise.all([t,e])}async function Be(){const t=Mt();await E(g/2);const e=Fe();await Promise.all([t,e])}async function _e(){const t=document.querySelector(".footer");t&&(t.style.transition=`transform ${g}ms ${q}`,t.style.transform="translateY(100%)",await E(g))}async function Rt(){const t=document.querySelector(".footer");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${g}ms ${q}`,t.style.transform="translateY(0%)",await E(g))}async function Ft(){const t=document.querySelector(".video-controls");t&&(t.style.transition=`transform ${g}ms ${q}`,t.style.transform="translateY(100%)",await E(g))}async function Vt(){const t=document.querySelector(".video-controls");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${g}ms ${q}`,t.style.transform="translateY(0%)",await E(g))}async function Bt(){const t=document.querySelector(".nav");t&&(t.style.transition=`opacity ${g}ms ${q}`,t.style.opacity="0",t.style.pointerEvents="none",await E(g))}async function _t(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",await st(),t.style.transition=`opacity ${g}ms ${q}`,t.style.opacity="1",t.style.pointerEvents="",await E(g))}function We(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none")}async function Ge(){const t=document.querySelector(".project-progress");t&&(t.classList.remove("is-visible"),await E(2*g))}function Wt(){const t=document.querySelector(".project-header");if(!t)return null;const e=t.querySelector(".vert-flex"),n=t.querySelector("#services"),s=t.querySelector("#close"),o=e?[...e.children]:[],i=n?[...n.children]:[];return{header:t,col1:o,col2:i,col3:s?[s]:[]}}async function ze(){const t=Wt();if(!t)return;const{col1:e,col2:n,col3:s}=t;[e,n,s].forEach(i=>{i.forEach((r,a)=>{const l=a*I;r.style.transition=`opacity ${g}ms ${q} ${l}ms`,r.style.opacity="0"})});const o=Math.max(e.length,n.length,s.length,1);await E(g+(o-1)*I)}async function Ye(){const t=Wt();if(!t)return;const{header:e,col1:n,col2:s,col3:o}=t,i=[...n,...s,...o];if(!i.length)return;e.style.transition="none",e.style.opacity="1",i.forEach(a=>{a.style.transition="none",a.style.opacity="0"}),await st(),[n,s,o].forEach(a=>{a.forEach((l,c)=>{const u=c*I;l.style.transition=`opacity ${g}ms ${q} ${u}ms`,l.style.opacity="1"})});const r=Math.max(n.length,s.length,o.length);r>0&&await E(g+(r-1)*I)}function Ke(){const{projectsLink:t,categories:e,items:n}=H();!t||!e||(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none",e.style.pointerEvents="auto",n.forEach(s=>{s.style.transition="none",s.style.opacity="1"}))}function bt(){const{projectsLink:t,categories:e,items:n}=H();!t||!e||(t.style.transition="none",t.style.opacity="1",t.style.pointerEvents="",e.style.pointerEvents="none",n.forEach(s=>{s.style.transition="none",s.style.opacity="0"}))}function Je(t){const e=t.trigger.el;return e?!!e.closest('[data-page="details"]')||!e.closest("[data-link]")&&!e.closest("#close"):!1}function Xe({initCurrentPage:t,cleanupCurrentPage:e}){const n=new He({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new Me]});let s=!1,o=!1,i=!1,r=null,a=null,l=null;return n.hooks.before("content:replace",()=>{e()}),n.hooks.on("content:replace",()=>{const c=Et();c==="details"&&a!=="details"&&(r=a,window.__detailsEnteredFrom=a,window.__detailsReturnUrl=l||"/"),o&&c!=="details"&&(r=null,window.__detailsEnteredFrom=null,window.__detailsReturnUrl=null),t()}),n.hooks.replace("animation:out:await",async(c,u,d)=>{var te,ee,ne;const h=Et();a=h,l=c.from.url;const m=!!((te=c.trigger.el)!=null&&te.closest('[data-link="projects"]')),p=!!((ee=c.trigger.el)!=null&&ee.closest('[data-link="home"]')),f=Je(c),y=!!((ne=c.trigger.el)!=null&&ne.closest('[data-link="information"]'));s=h==="projects"&&!m,o=h==="details";const v=h==="projects"||h==="information",P=document.querySelector(".footer"),Qt=P?P.getBoundingClientRect().top<window.innerHeight:!1,On=v&&(p||f||h==="information"&&m||h==="projects"&&y&&!Qt);i=h==="home"&&!f||h==="information"&&m||h==="projects"&&y&&!Qt;const T=[d(c,u)];h==="home"&&!f&&T.push(Ft()),On&&T.push(_e()),m&&!o&&T.push(Ve()),s&&!f&&T.push(Be()),f&&(h==="projects"?T.push((async()=>{const Un=Mt();await E(g/2);const Hn=Bt();await Promise.all([Un,Hn])})()):T.push(Bt())),o&&(T.push(ze()),T.push(Ge()),r==="projects"&&T.push(Ft())),await Promise.all(T)}),n.hooks.replace("animation:in:await",async(c,u,d)=>{const h=Et(),m=h==="projects"||h==="information",p=[d(c,u)];if(h==="home"&&!o&&p.push(Vt()),m&&i&&p.push(Rt()),h==="details"&&(p.push(Ye()),r==="projects"&&p.push(Vt())),o&&h!=="details"){if(h==="projects"){const{projectsLink:f}=H();f&&(f.style.transition="none",f.style.opacity="0",f.style.pointerEvents="none"),p.push((async()=>{const y=_t();await E(g/2);const v=Nt();await Promise.all([y,v])})())}else bt(),p.push(_t());m&&p.push(Rt())}await Promise.all(p),o=!1}),n}let ot=null;function Ze(t){Gt(),zt(),t.hooks.on("page:view",()=>{Gt()}),t.hooks.before("content:replace",()=>{Qe()}),t.hooks.on("content:replace",()=>{zt()})}function Gt(){var e;const t=(e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace;document.querySelectorAll("[data-link]").forEach(n=>{const s=n.dataset.link===t;n.classList.toggle("w--current",s),n.classList.toggle("is-active",s)})}function zt(){const t=document.querySelector("#currentYear"),e=document.querySelector("#currentTime");if(t&&(t.textContent=new Date().getFullYear()),e){const n=()=>{e.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};n(),ot=setInterval(n,1e3)}}function Qe(){ot&&(clearInterval(ot),ot=null)}const tn=200,en="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)";let A=[],j=[],$=-1,R=!0,F=!1,it="",rt=null,at=null,b=null,lt=-1,V=0,ct=0,B=0,_=!1;function nn(){b=document.querySelector(".selected-list"),A=b?[...b.querySelectorAll(".selected-item")]:[],!(!b||!A.length)&&(A.forEach((t,e)=>{const n=t.querySelector(".selected-full video");if(!n)return;n.removeAttribute("loop"),n.muted=!0,j[e]=n;const s=t.querySelector(".selected-full-poster");let o=!1;n.addEventListener("timeupdate",()=>{!o&&s&&n.currentTime>0&&(o=!0,s.style.transition=en,s.style.opacity="0",s.style.pointerEvents="none"),e===$&&(V=n.currentTime,ct=performance.now(),B=n.duration||0)}),n.addEventListener("ended",()=>{e===$&&Kt((e+1)%A.length)}),n.addEventListener("playing",()=>{e===$&&(_=!0,V=n.currentTime,ct=performance.now())}),n.addEventListener("waiting",()=>{e===$&&(_=!1,V=n.currentTime)}),n.addEventListener("pause",()=>{e===$&&(_=!1,V=n.currentTime)}),n.play().catch(()=>{})}),b.addEventListener("scroll",Yt,{passive:!0}),A.forEach((t,e)=>t.addEventListener("click",()=>Kt(e))),an(),rn(),kt(0))}function sn(){cancelAnimationFrame(rt),cancelAnimationFrame(at),j.forEach(t=>{t&&(t.pause(),t.removeAttribute("src"),t.load())}),j=[],b==null||b.removeEventListener("scroll",Yt),A=[],b=null,$=-1,lt=-1,F=!1,R=!0,_=!1,rt=null}function Yt(){at||(at=requestAnimationFrame(()=>{on(),at=null}))}function on(){if(!b||!A.length||lt>=0)return;const t=b.getBoundingClientRect().left;let e=0,n=1/0;A.forEach((s,o)=>{const i=Math.abs(s.getBoundingClientRect().left-t);i<n&&(n=i,e=o)}),n<tn&&e!==$&&kt(e)}function Kt(t){if(!b||!A[t])return;lt=t,b.scrollTo({left:A[t].offsetLeft-b.offsetLeft,behavior:"smooth"});let e=null;const n=()=>{clearTimeout(e),e=setTimeout(()=>{b.removeEventListener("scroll",n),lt=-1},100)};b.addEventListener("scroll",n,{passive:!0}),F=!1;const s=document.querySelector('[data-controls="pause"]');s&&it&&(s.textContent=it),kt(t)}function kt(t){if(t===$)return;const e=$;$=t,A.forEach((s,o)=>s.classList.toggle("active",o===t)),e>=0&&j[e]&&j[e].pause(),V=0,ct=performance.now(),B=0,_=!1,Jt(0,0);const n=j[t];n&&(n.currentTime=0,n.muted=R,B=n.duration||0,F||n.play().catch(()=>{}))}function rn(){function t(){if($>=0&&_&&B>0){const e=(performance.now()-ct)/1e3,n=Math.min(V+e,B);Jt(n/B,n)}rt=requestAnimationFrame(t)}rt=requestAnimationFrame(t)}function Jt(t,e){const n=A[$];if(!n)return;const s=`${(t*100).toFixed(2)}%`,o=n.querySelector(".selected-progress");o&&(o.style.left=s);const i=n.querySelector(".selected-cover");i&&i.style.setProperty("--progress",s);const r=document.querySelector("#videoDuration");r&&(r.textContent=un(e))}function an(){const t=document.querySelector('[data-controls="pause"]');t&&(it=t.textContent,t.addEventListener("click",ln));const e=document.querySelector('[data-controls="muted"]');e&&e.addEventListener("click",cn)}function ln(){const t=j[$],e=document.querySelector('[data-controls="pause"]');!t||!e||(F=!F,F?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=it))}function cn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;R=!R,t.classList.toggle("active",R);const e=j[$];e&&(e.muted=R)}function un(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const Lt=300,$t="cubic-bezier(0.4, 0, 0.2, 1)";let D=new Set,ut=[],N=null;function hn(){const t=document.querySelectorAll(".projects-item");if(!t.length)return;N&&N.abort(),N=new AbortController;const e=N.signal;ut=[...document.querySelectorAll(".categories-button[data-categories]")],ut.forEach(n=>{n.classList.remove("active"),n.addEventListener("click",()=>dn(n),{signal:e})}),D.clear(),document.querySelectorAll(".projects-item[data-filter]").forEach(n=>{n.style.height="",n.style.overflow="",n.style.transition=""}),t.forEach(n=>{const s=n.querySelector(".projects-cover-inner");if(!s)return;const o=s.querySelector("video"),i=s.querySelector(".projects-cover-poster");if(!o)return;o.addEventListener("loadedmetadata",()=>{o.videoWidth&&o.videoHeight&&(s.style.aspectRatio=`${o.videoWidth} / ${o.videoHeight}`)},{signal:e});let r=!1;o.addEventListener("timeupdate",()=>{!r&&i&&o.currentTime>0&&(r=!0,i.style.transition=`opacity ${Lt}ms ${$t}`,i.style.opacity="0",i.style.pointerEvents="none")},{signal:e}),o.removeAttribute("autoplay"),o.preload="none",o.paused||o.pause(),n.addEventListener("mouseenter",()=>{o.readyState===0&&o.load(),o.play().catch(()=>{})},{signal:e}),n.addEventListener("mouseleave",()=>{o.pause()},{signal:e})})}function dn(t){const e=t.dataset.categories;D.has(e)?(D.delete(e),t.classList.remove("active")):(D.add(e),t.classList.add("active")),fn()}function fn(){document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{D.size===0||D.has(t.dataset.filter)?mn(t):pn(t)})}function pn(t){if(t.style.height==="0px")return;const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${Lt}ms ${$t}`,t.style.height="0px"}function mn(t){if(!t.style.height||t.style.height==="")return;t.style.transition="none",t.style.height="",t.style.overflow="";const e=t.offsetHeight;t.style.height="0px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${Lt}ms ${$t}`,t.style.height=e+"px",t.addEventListener("transitionend",()=>{t.style.height="",t.style.overflow="",t.style.transition=""},{once:!0})}function gn(){document.querySelectorAll(".projects-cover-inner video").forEach(t=>{t.pause(),t.removeAttribute("src"),t.load()}),N&&(N.abort(),N=null),D.clear(),ut.forEach(t=>t.classList.remove("active")),ut=[],document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.height="",t.style.overflow="",t.style.transition=""})}let x=null;function yn(){const t=document.querySelector(".background-full");if(!t)return;x=t.querySelector("video");const e=document.querySelector(".background-full-poster");if(!x)return;let n=!1;x.addEventListener("timeupdate",()=>{!n&&e&&x.currentTime>0&&(n=!0,e.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="0",e.style.pointerEvents="none")}),x.play().catch(()=>{})}function vn(){x&&(x.pause(),x=null)}const wn=300,Sn="cubic-bezier(0.4, 0, 0.2, 1)";let k=[],L=-1,W=!0,K=!1,Xt="",ht=null,O=!1,C=0,G=0,M=0,J=null,X=null;function En(){X=new AbortController;const t=X.signal;In(),k=[...document.querySelectorAll("#swup video")];const e=document.querySelector("#index");e&&k.length<=1&&(e.style.display="none"),k.forEach((o,i)=>{o.muted=!0,o.preload="auto",o.style.opacity="0",o.style.transition=`opacity ${wn}ms ${Sn}`;const r=()=>{o.style.opacity="1"};o.readyState>=2?r():(o.load(),o.addEventListener("loadeddata",r,{once:!0,signal:t}),o.addEventListener("playing",r,{once:!0,signal:t})),o.addEventListener("timeupdate",()=>{i===L&&(C=o.currentTime,G=performance.now(),M=o.duration||0)},{signal:t}),o.addEventListener("playing",()=>{i===L&&(O=!0,C=o.currentTime,G=performance.now())},{signal:t}),o.addEventListener("waiting",()=>{i===L&&(O=!1,C=o.currentTime)},{signal:t}),o.addEventListener("pause",()=>{i===L&&(O=!1,C=o.currentTime)},{signal:t}),o.addEventListener("ended",()=>{i===L&&(O=!1,C=o.currentTime)},{signal:t})}),J=new IntersectionObserver(o=>{o.forEach(i=>{const r=i.target,a=k.indexOf(r);a!==-1&&(i.isIntersecting?kn(a):(r.pause(),a===L&&(O=!1)))})},{threshold:.5}),k.forEach(o=>J.observe(o)),Pn(t),Tn(t),Ln(),Cn();const n=document.querySelector(".progress-bar");n&&(n.style.transformOrigin="left",n.style.transform="scaleX(0)");const s=document.querySelector(".project-progress");s&&(s.classList.remove("is-visible"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.classList.add("is-visible")})}))}function bn(){cancelAnimationFrame(ht),J&&(J.disconnect(),J=null),X&&(X.abort(),X=null),k.forEach(e=>{e.pause(),e.removeAttribute("src"),e.load()});const t=document.querySelector(".project-progress");t&&t.classList.remove("is-visible"),k=[],L=-1,K=!1,W=!0,O=!1,ht=null,C=0,G=0,M=0}function kn(t){if(t===L)return;const e=L;L=t,e>=0&&k[e]&&k[e].pause(),C=0,G=performance.now(),M=0,O=!1,Pt(0,0),$n();const n=k[t];n&&(n.currentTime=0,n.muted=W,M=n.duration||0,K||n.play().catch(()=>{}))}function Ln(){function t(){if(L>=0&&O&&M>0){const e=(performance.now()-G)/1e3,n=Math.min(C+e,M);Pt(n/M,n)}ht=requestAnimationFrame(t)}ht=requestAnimationFrame(t)}function Pt(t,e){const n=document.querySelector(".progress-bar");n&&(n.style.transform=`scaleX(${t})`);const s=document.querySelector("#videoDuration");s&&(s.textContent=jn(e))}function $n(){const t=document.querySelector("#index");if(!t||k.length<=1)return;const e=String(L+1).padStart(2,"0"),n=String(k.length).padStart(2,"0");t.textContent=`${e} / ${n}`}function Pn(t){const e=document.querySelector('[data-controls="pause"]');e&&(Xt=e.textContent,e.addEventListener("click",qn,{signal:t}));const n=document.querySelector('[data-controls="muted"]');n&&n.addEventListener("click",An,{signal:t})}function qn(){const t=k[L],e=document.querySelector('[data-controls="pause"]');!t||!e||(K=!K,K?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=Xt))}function An(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;W=!W,t.classList.toggle("active",W);const e=k[L];e&&(e.muted=W)}function Tn(t){const e=document.querySelector(".project-progress");e&&e.addEventListener("click",n=>{const s=e.getBoundingClientRect(),o=Math.max(0,Math.min(1,(n.clientX-s.left)/s.width)),i=k[L];i&&i.duration&&(i.currentTime=o*i.duration,C=i.currentTime,G=performance.now(),Pt(o,i.currentTime))},{signal:t})}function Cn(){const t=document.querySelector("#close");t&&t.setAttribute("href",window.__detailsReturnUrl||"/")}function In(){const t=document.querySelector("#services");if(!t)return;const e=t.textContent.split(",").map(n=>n.trim()).filter(Boolean);t.innerHTML=e.map(n=>`<span style="display:block">${n}</span>`).join("")}function jn(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const dt={home:{init:nn,cleanup:sn},projects:{init:hn,cleanup:gn},information:{init:yn,cleanup:vn},details:{init:En,cleanup:bn}};function ft(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function Zt(){const t=ft();t&&dt[t]&&dt[t].init()}function xn(){const t=ft();t&&dt[t]&&dt[t].cleanup()}document.addEventListener("DOMContentLoaded",()=>{se(),le();const t=Xe({initCurrentPage:Zt,cleanupCurrentPage:xn});Ze(t),ft()==="projects"?Ke():ft()==="details"?(bt(),We()):bt(),Zt()})})();
