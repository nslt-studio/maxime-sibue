(function(){"use strict";const mt="cubic-bezier(0.4, 0, 0.2, 1)";function oe(){const t=`
    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 300ms ${mt};
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 300ms ${mt};
    }

    .selected-item.active .selected-progress,
    .selected-item.active .selected-cover {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }

    /* === DETAILS - LOADING ANIMATION === */
    @keyframes loading-wave {
      0%, 100% { opacity: 0.15; }
      50%      { opacity: 1;    }
    }

    .loading-letter {
      display: inline-block;
      opacity: 0.15;
      animation: loading-wave 1200ms ease-in-out infinite;
      animation-delay: calc(var(--i) * 120ms);
    }

    /* === DETAILS PAGE === */
    .progress-bar {
      transform-origin: left;
      transition: none !important;
    }

    /* === PROJECT PROGRESS BAR (details page, CSS animation) === */
    .project-progress {
      width: 0;
      transition: width 600ms ${mt};
    }

    .project-progress.is-visible {
      width: 100%;
    }
  `,e=document.createElement("style");e.setAttribute("data-maxime-sibue",""),e.textContent=t,document.head.appendChild(e)}const ie=400,re="cubic-bezier(0.4, 0, 0.2, 1)",ae=100,le=300,At="loaderDone";function ce(){if(sessionStorage.getItem(At)){he();return}const t=document.querySelector(".loader"),e=t?[...t.querySelectorAll(".loader-item")]:[];if(!t||!e.length)return;e.forEach(i=>{i.style.opacity="0"});let n=0;const s=setInterval(()=>{n>0&&(e[n-1].style.opacity="0"),e[n].style.opacity="1",n++,n>=e.length&&(clearInterval(s),setTimeout(()=>ue(t),le))},ae)}function ue(t){const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${ie}ms ${re}`,t.style.height="0px",t.addEventListener("transitionend",()=>{t.style.display="none",sessionStorage.setItem(At,"1")},{once:!0})}function he(){const t=document.querySelector(".loader");t&&(t.style.display="none")}const gt=new WeakMap;function yt(t,e,n,s){if(!t&&!gt.has(e))return!1;const i=gt.get(e)??new WeakMap;gt.set(e,i);const o=i.get(n)??new Set;i.set(n,o);const r=o.has(s);return t?o.add(s):o.delete(s),r&&t}function de(t,e){let n=t.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&t.currentTarget instanceof Node){const s=n.closest(e);if(s&&t.currentTarget.contains(s))return s}}function fe(t,e,n,s={}){const{signal:i,base:o=document}=s;if(i!=null&&i.aborted)return;const{once:r,...a}=s,l=o instanceof Document?o.documentElement:o,c=!!(typeof s=="object"?s.capture:s),u=g=>{const p=de(g,String(t));if(p){const f=Object.assign(g,{delegateTarget:p});n.call(l,f),r&&(l.removeEventListener(e,u,a),yt(!1,l,n,d))}},d=JSON.stringify({selector:t,type:e,capture:c});yt(!0,l,n,d)||l.addEventListener(e,u,a),i==null||i.addEventListener("abort",()=>{yt(!1,l,n,d)})}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},S.apply(null,arguments)}const qt=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",H=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),pe=(t,e={})=>{const n=S({url:t=t||H({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(n,"",t)},W=(t=null,e={})=>{t=t||H({hash:!0});const n=S({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(n,"",t)},me=(t,e,n,s)=>{const i=new AbortController;return s=S({},s,{signal:i.signal}),fe(t,e,n,s),{destroy:()=>i.abort()}};let k=class pt extends URL{constructor(e,n=document.baseURI){super(e.toString(),n),Object.setPrototypeOf(this,pt.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const n=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new pt(n)}static fromUrl(e){return new pt(e)}};class et extends Error{constructor(e,n){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function ge(t,e={}){var n;t=k.fromUrl(t).url;const{visit:s=this.visit}=e,i=S({},this.options.requestHeaders,e.headers),o=(n=e.timeout)!=null?n:this.options.timeout,r=new AbortController,{signal:a}=r;e=S({},e,{headers:i,signal:a});let l,c=!1,u=null;o&&o>0&&(u=setTimeout(()=>{c=!0,r.abort("timeout")},o));try{l=await this.hooks.call("fetch:request",s,{url:t,options:e},(v,{url:w,options:q})=>fetch(w,q)),u&&clearTimeout(u)}catch(v){throw c?(this.hooks.call("fetch:timeout",s,{url:t}),new et(`Request timed out: ${t}`,{url:t,timedOut:c})):(v==null?void 0:v.name)==="AbortError"||a.aborted?new et(`Request aborted: ${t}`,{url:t,aborted:!0}):v}const{status:d,url:h}=l,g=await l.text();if(d===500)throw this.hooks.call("fetch:error",s,{status:d,response:l,url:h}),new et(`Server error: ${h}`,{status:d,url:h});if(!g)throw new et(`Empty response: ${h}`,{status:d,url:h});const{url:p}=k.fromUrl(h),f={url:p,html:g};return!s.cache.write||e.method&&e.method!=="GET"||t!==p||this.cache.set(f.url,f),f}class ye{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((n,s)=>{e.set(s,S({},n))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const n=this.pages.get(this.resolve(e));return n&&S({},n)}set(e,n){n=S({},n,{url:e=this.resolve(e)}),this.pages.set(e,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(e,n){e=this.resolve(e);const s=S({},this.get(e),n,{url:e});this.pages.set(e,s)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((n,s)=>{e(s,n)&&this.delete(s)})}resolve(e){const{url:n}=k.fromUrl(e);return this.swup.resolveUrl(n)}}const vt=(t,e=document)=>e.querySelector(t),wt=(t,e=document)=>Array.from(e.querySelectorAll(t)),Pt=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function Tt(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ve(t,e=[]){return new Promise((n,s)=>{const i=t(...e);Tt(i)?i.then(n,s):n(i)})}function It(t,e){const n=t==null?void 0:t.closest(`[${e}]`);return n!=null&&n.hasAttribute(e)?(n==null?void 0:n.getAttribute(e))||!0:void 0}class we{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?wt(this.selector):[]}add(...e){this.targets.forEach(n=>n.classList.add(...e))}remove(...e){this.targets.forEach(n=>n.classList.remove(...e))}clear(){this.targets.forEach(e=>{const n=e.className.split(" ").filter(s=>this.isSwupClass(s));e.classList.remove(...n)})}isSwupClass(e){return this.swupClasses.some(n=>e.startsWith(n))}}class jt{constructor(e,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:s,from:i,hash:o,el:r,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:i??e.location.url,hash:e.location.hash},this.to={url:s,hash:o},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function Ee(t){return new jt(this,t)}class Se{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const n=this.registry.get(e);if(n)return n;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,n,s={}){const i=this.get(e);if(!i)return console.warn(`Hook '${e}' not found.`),()=>{};const o=S({},s,{id:i.size+1,hook:e,handler:n});return i.set(n,o),()=>this.off(e,n)}before(e,n,s={}){return this.on(e,n,S({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,S({},s,{replace:!0}))}once(e,n,s={}){return this.on(e,n,S({},s,{once:!0}))}off(e,n){const s=this.get(e);s&&n?s.delete(n)||console.warn(`Handler for hook '${e}' not found.`):s&&s.clear()}async call(e,n,s,i){const[o,r,a]=this.parseCallArgs(e,n,s,i),{before:l,handler:c,after:u}=this.getHandlers(e,a);await this.run(l,o,r);const[d]=await this.run(c,o,r,!0);return await this.run(u,o,r),this.dispatchDomEvent(e,o,r),d}callSync(e,n,s,i){const[o,r,a]=this.parseCallArgs(e,n,s,i),{before:l,handler:c,after:u}=this.getHandlers(e,a);this.runSync(l,o,r);const[d]=this.runSync(c,o,r,!0);return this.runSync(u,o,r),this.dispatchDomEvent(e,o,r),d}parseCallArgs(e,n,s,i){return n instanceof jt||typeof n!="object"&&typeof s!="function"?[n,s,i]:[void 0,n,s]}async run(e,n=this.swup.visit,s,i=!1){const o=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=await ve(a,[n,s,l]);o.push(u)}catch(u){if(i)throw u;console.error(`Error in hook '${r}':`,u)}}return o}runSync(e,n=this.swup.visit,s,i=!1){const o=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=a(n,s,l);o.push(u),Tt(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(u){if(i)throw u;console.error(`Error in hook '${r}':`,u)}}return o}getHandlers(e,n){const s=this.get(e);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const i=Array.from(s.values()),o=this.sortRegistrations,r=i.filter(({before:d,replace:h})=>d&&!h).sort(o),a=i.filter(({replace:d})=>d).filter(d=>!0).sort(o),l=i.filter(({before:d,replace:h})=>!d&&!h).sort(o),c=a.length>0;let u=[];if(n&&(u=[{id:0,hook:e,handler:n}],c)){const d=a.length-1,{handler:h,once:g}=a[d],p=f=>{const v=a[f-1];return v?(w,q)=>v.handler(w,q,p(f-1)):n};u=[{id:0,hook:e,once:g,handler:h,defaultHandler:p(d)}]}return{found:!0,before:r,handler:u,after:l,replaced:c}}sortRegistrations(e,n){var s,i;return((s=e.priority)!=null?s:0)-((i=n.priority)!=null?i:0)||e.id-n.id||0}dispatchDomEvent(e,n,s){if(n!=null&&n.done)return;const i={hook:e,args:s,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:i,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:i,bubbles:!0}))}parseName(e){const[n,...s]=e.split(".");return[n,s.reduce((i,o)=>S({},i,{[o]:!0}),{})]}}const be=t=>{if(t&&t.charAt(0)==="#"&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||vt(`a[name='${CSS.escape(t)}']`)||vt(`a[name='${CSS.escape(e)}']`);return n||t!=="top"||(n=document.body),n},nt="transition",Et="animation";async function ke({selector:t,elements:e}){if(t===!1&&!e)return;let n=[];if(e)n=Array.from(e);else if(t&&(n=wt(t,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const s=n.map(i=>(function(o){const{type:r,timeout:a,propCount:l}=(function(c){const u=window.getComputedStyle(c),d=st(u,`${nt}Delay`),h=st(u,`${nt}Duration`),g=Ct(d,h),p=st(u,`${Et}Delay`),f=st(u,`${Et}Duration`),v=Ct(p,f),w=Math.max(g,v),q=w>0?g>v?nt:Et:null;return{type:q,timeout:w,propCount:q?q===nt?h.length:f.length:0}})(o);return!(!r||!a)&&new Promise(c=>{const u=`${r}end`,d=performance.now();let h=0;const g=()=>{o.removeEventListener(u,p),c()},p=f=>{f.target===o&&((performance.now()-d)/1e3<f.elapsedTime||++h>=l&&g())};setTimeout(()=>{h<l&&g()},a+1),o.addEventListener(u,p)})})(i));s.filter(Boolean).length>0?await Promise.all(s):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function st(t,e){return(t[e]||"").split(", ")}function Ct(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>xt(n)+xt(t[s])))}function xt(t){return 1e3*parseFloat(t)}function Le(t,e={},n={}){if(typeof t!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void window.location.assign(t);const{url:s,hash:i}=k.fromUrl(t),o=this.createVisit(S({},n,{to:s,hash:i}));this.performNavigation(o,e)}async function $e(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:n}=t.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const s=e.history||It(n,"data-swup-history");typeof s=="string"&&["push","replace"].includes(s)&&(t.history.action=s);const i=e.animation||It(n,"data-swup-animation");var o,r;typeof i=="string"&&(t.animation.name=i),t.meta=e.meta||{},typeof e.cache=="object"?(t.cache.read=(o=e.cache.read)!=null?o:t.cache.read,t.cache.write=(r=e.cache.write)!=null?r:t.cache.write):e.cache!==void 0&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;const a=this.hooks.call("page:load",t,{options:e},async(c,u)=>{let d;return c.cache.read&&(d=this.cache.get(c.to.url)),u.page=d||await this.fetchPage(c.to.url,u.options),u.cache=!!d,u.page});a.then(({html:c})=>{t.advance(5),t.to.html=c,t.to.document=new DOMParser().parseFromString(c,"text/html")});const l=t.to.url+t.to.hash;if(t.history.popstate||(t.history.action==="replace"||t.to.url===this.location.url?W(l):(this.currentHistoryIndex++,pe(l,{index:this.currentHistoryIndex}))),this.location=k.fromUrl(l),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${qt(t.animation.name)}`),t.animation.wait&&await a,t.done||(await this.hooks.call("visit:transition",t,void 0,async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await a);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(t,await a)).finished:await this.renderPage(t,await a),await this.animatePageIn(t)}),t.done))return;await this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(t.state=8);t.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}const Ae=async function(t){await this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",t,{skip:!1},(e,{skip:n})=>{if(!n)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",t,void 0)},qe=function(t){var e;const n=t.to.document;if(!n)return!1;const s=((e=n.querySelector("title"))==null?void 0:e.innerText)||"";document.title=s;const i=wt('[data-swup-persist]:not([data-swup-persist=""])'),o=t.containers.map(r=>{const a=document.querySelector(r),l=n.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return i.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=vt(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),o.length===t.containers.length},Pe=function(t){const e={behavior:"auto"},{target:n,reset:s}=t.scroll,i=n??t.to.hash;let o=!1;return i&&(o=this.hooks.callSync("scroll:anchor",t,{hash:i,options:e},(r,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),s&&!o&&(o=this.hooks.callSync("scroll:top",t,{options:e},(r,{options:a})=>(window.scrollTo(S({top:0,left:0},a)),!0))),o},Te=async function(t){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},(n,{skip:s})=>{if(!s)return this.awaitAnimations({selector:n.animation.selector})});await Pt(),await this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",t,void 0)},Ie=async function(t,e){if(t.done)return;t.advance(6);const{url:n}=e;this.isSameResolvedUrl(H(),n)||(W(n),this.location=k.fromUrl(n),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${qt(s.animation.name)}`))}),await this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},je=function(t){var e;if(e=t,!!(e!=null&&e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function Ce(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==e),this.plugins;console.error("No such plugin",e)}function xe(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function Oe(t){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function He(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const De={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return((e=t.state)==null?void 0:e.source)!=="swup"},timeout:0};class Ue{get currentPageUrl(){return this.location.url}constructor(e={}){var n,s;this.version="4.8.2",this.options=void 0,this.defaults=De,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=k.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=je,this.unuse=Ce,this.findPlugin=xe,this.log=()=>{},this.navigate=Le,this.performNavigation=$e,this.createVisit=Ee,this.delegateEvent=me,this.fetchPage=ge,this.awaitAnimations=ke,this.renderPage=Ie,this.replaceContent=qe,this.animatePageIn=Te,this.animatePageOut=Ae,this.scrollToContent=Pe,this.getAnchorElement=be,this.getCurrentUrl=H,this.resolveUrl=Oe,this.isSameResolvedUrl=He,this.options=S({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new ye(this),this.classes=new we(this),this.hooks=new Se(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(s=window.history.state)==null?void 0:s.index)!=null?n:1,this.enable()}async enable(){var e;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s));for(const[s,i]of Object.entries(this.options.hooks)){const[o,r]=this.hooks.parseName(s);this.hooks.on(o,i,r)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&W(null,{index:this.currentHistoryIndex}),await Pt(),await this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:n,event:s}={}){const{origin:i,url:o,hash:r}=k.fromUrl(e);return i!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(o+r,{el:n,event:s})}handleLinkClick(e){const n=e.delegateTarget,{href:s,url:i,hash:o}=k.fromElement(n);if(this.shouldIgnoreVisit(s,{el:n,event:e}))return;if(this.navigating&&i===this.visit.to.url)return void e.preventDefault();const r=this.createVisit({to:i,hash:o,el:n,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",r,{href:s}):e.button===0&&this.hooks.callSync("link:click",r,{el:n,event:e},()=>{var a;const l=(a=r.from.url)!=null?a:"";e.preventDefault(),i&&i!==l?this.isSameResolvedUrl(i,l)||this.performNavigation(r):o?this.hooks.callSync("link:anchor",r,{hash:o},()=>{W(i+o),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(W(i),this.scrollToContent(r))})})}handlePopState(e){var n,s,i,o;const r=(n=(s=e.state)==null?void 0:s.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(H(),this.location.url))return;const{url:a,hash:l}=k.fromUrl(r),c=this.createVisit({to:a,hash:l,event:e});c.history.popstate=!0;const u=(i=(o=e.state)==null?void 0:o.index)!=null?i:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:e},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Y.apply(this,arguments)}const Ot=t=>String(t).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class Ne{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,n])=>{if(!(function(s,i,o){const r=(function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var u;const d=l.findPlugin(a);return(u=d==null?void 0:d.version)!=null?u:""}})(s,o);return!!r&&((a,l)=>l.every(c=>{const[,u,d]=c.match(/^([\D]+)?(.*)$/)||[];var h,g;return((p,f)=>{const v={"":w=>w===0,">":w=>w>0,">=":w=>w>=0,"<":w=>w<0,"<=":w=>w<=0};return(v[f]||v[""])(p)})((g=d,h=Ot(h=a),g=Ot(g),h.localeCompare(g,void 0,{numeric:!0})),u||">=")}))(r,i)})(e,n=Array.isArray(n)?n:[n],this.swup)){const s=`${e} ${n.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(e,n,s={}){var i;n=!(i=n).name.startsWith("bound ")||i.hasOwnProperty("prototype")?n.bind(this):n;const o=this.swup.hooks.on(e,n,s);return this.handlersToUnregister.push(o),o}once(e,n,s={}){return this.on(e,n,Y({},s,{once:!0}))}before(e,n,s={}){return this.on(e,n,Y({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,Y({},s,{replace:!0}))}off(e,n){return this.swup.hooks.off(e,n)}}function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ot.apply(null,arguments)}function Ht(){return window.matchMedia("(hover: hover)").matches}function it(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const Dt=window.requestIdleCallback||(t=>setTimeout(t,1)),Me=["preloadVisibleLinks"];class Ve extends Ne{constructor(e={}){var n;super(),n=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(o,r,a)=>{const{url:l}=o.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(o,r)},this.onMouseEnter=async function(o){if(o.target!==o.delegateTarget||!Ht())return;const r=o.delegateTarget;if(!it(r))return;const{url:a,hash:l}=k.fromElement(r),c=n.swup.createVisit({to:a,hash:l,el:r,event:o});n.swup.hooks.callSync("link:hover",c,{el:r,event:o}),n.preload(r,{priority:!0})},this.onTouchStart=o=>{if(Ht())return;const r=o.delegateTarget;it(r)&&this.preload(r,{priority:!0})},this.onFocus=o=>{const r=o.delegateTarget;it(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:s}=e,i=(function(o,r){if(o==null)return{};var a={};for(var l in o)if({}.hasOwnProperty.call(o,l)){if(r.includes(l))continue;a[l]=o[l]}return a})(e,Me);this.options=ot({},this.defaults,i),typeof s=="object"?this.options.preloadVisibleLinks=ot({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=(function(o=1){const r=[],a=[];let l=0,c=0;function u(){c<o&&l>0&&((a.shift()||r.shift()||(()=>{}))(),l--,c++)}return{add:function(d,h=!1){if(d.__queued){if(!h)return;{const g=r.indexOf(d);if(g>=0){const p=r.splice(g,1);l-=p.length}}}d.__queued=!0,(h?a:r).push(d),l++,l<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const e=this.swup;e.options.cache?(e.hooks.create("page:preload"),e.hooks.create("link:hover"),e.preload=this.preload,e.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(H())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var e,n,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(e=this.mouseEnterDelegate)==null||e.destroy(),(n=this.touchStartDelegate)==null||n.destroy(),(s=this.focusDelegate)==null||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(e,n={}){var s;let i,o;const r=(s=n.priority)!=null&&s;if(Array.isArray(e))return Promise.all(e.map(l=>this.preload(l)));if(it(e))o=e,{href:i}=k.fromElement(e);else{if(typeof e!="string")return;i=e}if(!i)return;if(this.swup.cache.has(i))return this.swup.cache.get(i);if(this.preloadPromises.has(i))return this.preloadPromises.get(i);if(!this.shouldPreload(i,{el:o}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(i).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(i)})},r)});return this.preloadPromises.set(i,a),a}preloadLinks(){Dt(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(e=>this.preload(e))})}preloadLinksOnAttention(){const{swup:e}=this,{linkSelector:n}=e.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=e.delegateEvent(n,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=e.delegateEvent(n,"touchstart",this.onTouchStart,s),this.focusDelegate=e.delegateEvent(n,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:e,delay:n,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:i,delay:o,containers:r,callback:a,filter:l}){const c=new Map,u=new IntersectionObserver(p=>{p.forEach(f=>{f.isIntersecting?d(f.target):h(f.target)})},{threshold:i}),d=p=>{var f;const{href:v}=k.fromElement(p),w=(f=c.get(v))!=null?f:new Set;c.set(v,w),w.add(p),setTimeout(()=>{const q=c.get(v);q!=null&&q.size&&(a(p),u.unobserve(p),q.delete(p))},o)},h=p=>{var f;const{href:v}=k.fromElement(p);(f=c.get(v))==null||f.delete(p)},g=()=>{Dt(()=>{const p=r.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(p)).filter(f=>l(f)).forEach(f=>u.observe(f))})};return{start:()=>g(),stop:()=>u.disconnect(),update:()=>(c.clear(),g())}})({threshold:e,delay:n,containers:s,callback:i=>this.preload(i),filter:i=>{if(this.options.preloadVisibleLinks.ignore(i)||!i.matches(this.swup.options.linkSelector))return!1;const{href:o}=k.fromElement(i);return this.shouldPreload(o,{el:i})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(e,{el:n}={}){const{url:s,href:i}=k.fromUrl(e);return!(!(function(){if(navigator.connection){var o;if(navigator.connection.saveData||(o=navigator.connection.effectiveType)!=null&&o.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(i,{el:n})||n&&this.swup.resolveUrl(s)===this.swup.resolveUrl(H()))}async performPreload(e){var n=this;const{url:s}=k.fromUrl(e),i=this.swup.createVisit({to:s});return await this.swup.hooks.call("page:preload",i,{url:s},async function(r,a){return a.page=await n.swup.fetchPage(e,{visit:r}),a.page})}}const m=300,C=50,L="cubic-bezier(0.4, 0, 0.2, 1)";function E(t){return new Promise(e=>setTimeout(e,t))}function St(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function G(){return new Promise(t=>requestAnimationFrame(()=>requestAnimationFrame(t)))}function D(){var s;const t=document.querySelector('[data-link="projects"]'),e=(s=t==null?void 0:t.parentElement)==null?void 0:s.querySelector(".categories"),n=e?[...e.querySelectorAll(".categories-item")]:[];return{projectsLink:t,categories:e,items:n}}async function Re(){const{projectsLink:t}=D();t&&(t.style.transition=`opacity ${m}ms ${L}`,t.offsetHeight,t.style.opacity="0",t.style.pointerEvents="none",await E(m))}async function Fe(){const{projectsLink:t}=D();t&&(t.style.transition="none",t.style.opacity="0",await G(),t.style.transition=`opacity ${m}ms ${L}`,t.style.opacity="1",t.style.pointerEvents="",await E(m))}async function Ut(){const{categories:t,items:e}=D();!t||!e.length||(e.forEach(n=>{n.getAnimations().forEach(s=>s.cancel()),n.style.transition="none",n.style.opacity="0"}),await G(),t.style.pointerEvents="auto",e.forEach((n,s)=>{const i=s*C;n.style.transition=`opacity ${m}ms ${L} ${i}ms`,n.style.opacity="1"}),await E(m+(e.length-1)*C))}async function Nt(){const{categories:t,items:e}=D();!t||!e.length||(e.forEach(n=>{n.getAnimations().forEach(s=>s.cancel()),n.style.transition="none",n.style.opacity="1"}),await G(),t.style.pointerEvents="none",e.forEach((n,s)=>{const i=Math.max(1,s*C);n.style.transition=`opacity ${m}ms ${L} ${i}ms`,n.style.opacity="0"}),await E(m+(e.length-1)*C))}async function Be(){const t=Re();await E(m/2);const e=Ut();await Promise.all([t,e])}async function _e(){await Nt(),await Fe()}async function We(){const t=document.querySelector(".footer");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Mt(){const t=document.querySelector(".footer");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Ye(){const t=document.querySelector(".copyrights");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Ge(){const t=document.querySelector(".copyrights");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function ze(){const t=document.querySelector(".project-index");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Ke(){const t=document.querySelector(".project-index");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Vt(){const t=document.querySelector(".video-controls");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Rt(){const t=document.querySelector(".video-controls");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Ft(){const t=document.querySelector(".nav");t&&(t.style.transition=`opacity ${m}ms ${L}`,t.style.opacity="0",t.style.pointerEvents="none",await E(m))}async function Bt(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",await G(),t.style.transition=`opacity ${m}ms ${L}`,t.style.opacity="1",t.style.pointerEvents="",await E(m))}function Xe(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none")}async function Je(){const t=document.querySelector(".project-progress");t&&(t.classList.remove("is-visible"),await E(2*m))}function _t(){const t=document.querySelector(".project-header");if(!t)return null;const e=t.querySelector(".vert-flex"),n=t.querySelector("#services"),s=t.querySelector("#close"),i=e?[...e.children]:[],o=n?[...n.children]:[];return{header:t,col1:i,col2:o,col3:s?[s]:[]}}async function Ze(){const t=_t();if(!t)return;const{col1:e,col2:n,col3:s}=t;[e,n,s].forEach(o=>{o.forEach((r,a)=>{const l=a*C;r.style.transition=`opacity ${m}ms ${L} ${l}ms`,r.style.opacity="0"})});const i=Math.max(e.length,n.length,s.length,1);await E(m+(i-1)*C)}async function Qe(){const t=_t();if(!t)return;const{header:e,col1:n,col2:s,col3:i}=t,o=[...n,...s,...i];if(!o.length)return;e.style.transition="none",e.style.opacity="1",o.forEach(a=>{a.style.transition="none",a.style.opacity="0"}),await G(),[n,s,i].forEach(a=>{a.forEach((l,c)=>{const u=c*C;l.style.transition=`opacity ${m}ms ${L} ${u}ms`,l.style.opacity="1"})});const r=Math.max(n.length,s.length,i.length);r>0&&await E(m+(r-1)*C)}function tn(){const{projectsLink:t,categories:e,items:n}=D();!t||!e||(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none",e.style.pointerEvents="auto",n.forEach(s=>{s.getAnimations().forEach(i=>i.cancel()),s.style.transition="none",s.style.opacity="1"}))}function bt(){const{projectsLink:t,categories:e,items:n}=D();!t||!e||(t.style.transition="none",t.style.opacity="1",t.style.pointerEvents="",e.style.pointerEvents="none",n.forEach(s=>{s.getAnimations().forEach(i=>i.cancel()),s.style.transition="none",s.style.opacity="0"}))}function en(t){const e=t.trigger.el;if(e)return{goingToProjects:!!e.closest('[data-link="projects"]'),goingToHome:!!e.closest('[data-link="home"]'),goingToInfo:!!e.closest('[data-link="information"]'),goingToDetails:!!e.closest('[data-page="details"]')||!e.closest("[data-link]")&&!e.closest("#close")};const n=(t.to.url||"").replace(/\/$/,"")||"/";return{goingToProjects:n==="/projects",goingToHome:n==="/",goingToInfo:n==="/informations",goingToDetails:n.startsWith("/projects/")}}function nn(t){const e=document.querySelector(".nav"),n=document.querySelector(".copyrights"),s=document.querySelector(".project-index");t==="details"?e&&(e.style.opacity="0",e.style.pointerEvents="none"):(e&&(e.style.transition="",e.style.opacity="1",e.style.pointerEvents=""),n&&(n.style.transform="",n.style.transition=""),s&&(s.style.transform="",s.style.transition=""))}function sn({initCurrentPage:t,cleanupCurrentPage:e}){const n=new Ue({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new Ve]});n.hooks.on("visit:start",c=>{c.trigger.el||(c.animation.animate=!0)});let s=!1,i=!1,o=!1,r=null,a=null,l=null;return n.hooks.before("content:replace",()=>{e()}),n.hooks.on("content:replace",()=>{const c=St();c==="details"&&a!=="details"&&(r=a,window.__detailsEnteredFrom=a,window.__detailsReturnUrl=l||"/"),i&&c!=="details"&&(r=null,window.__detailsEnteredFrom=null,window.__detailsReturnUrl=null),t()}),n.hooks.replace("animation:out:await",async(c,u,d)=>{const h=St();a=h,l=c.from.url;const{goingToProjects:g,goingToHome:p,goingToDetails:f,goingToInfo:v}=en(c);s=h==="projects"&&!g,i=h==="details";const w=h==="projects"||h==="information",q=document.querySelector(".footer"),se=q?q.getBoundingClientRect().top<window.innerHeight:!1,Mn=w&&(p||f||h==="information"&&g||h==="projects"&&v&&!se);o=h==="home"&&!f||h==="information"&&g||h==="projects"&&v&&!se;const T=[d(c,u)];h==="home"&&!f&&T.push(Vt()),Mn&&T.push(We()),g&&!i&&T.push(Be()),s&&!f&&T.push(_e()),f&&(h==="home"||h==="projects")&&T.push(Ye()),f&&(h==="projects"?T.push((async()=>{const Vn=Nt();await E(m/2);const Rn=Ft();await Promise.all([Vn,Rn])})()):T.push(Ft())),i&&(T.push(Ze()),T.push(Je()),r==="projects"&&T.push(Vt()),T.push(ze())),await Promise.all(T)}),n.hooks.replace("animation:in:await",async(c,u,d)=>{const h=St(),g=h==="projects"||h==="information",p=[d(c,u)];if(h==="home"&&!i&&p.push(Rt()),g&&o&&p.push(Mt()),h==="details"&&(p.push(Qe()),p.push(Ke()),r==="projects"&&p.push(Rt())),i&&(h==="home"||h==="projects")&&p.push(Ge()),i&&h!=="details"){if(h==="projects"){const{projectsLink:f}=D();f&&(f.style.transition="none",f.style.opacity="0",f.style.pointerEvents="none"),p.push((async()=>{const v=Bt();await E(m/2);const w=Ut();await Promise.all([v,w])})())}else bt(),p.push(Bt());g&&p.push(Mt())}await Promise.all(p),nn(h),i=!1}),n}let rt=null;function on(t){Wt(),Yt(),t.hooks.on("page:view",()=>{Wt()}),t.hooks.before("content:replace",()=>{rn()}),t.hooks.on("content:replace",()=>{Yt()})}function Wt(){var e;const t=(e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace;document.querySelectorAll("[data-link]").forEach(n=>{const s=n.dataset.link===t;n.classList.toggle("w--current",s),n.classList.toggle("is-active",s)})}function Yt(){const t=document.querySelector("#currentYear"),e=document.querySelector("#currentTime");if(t&&(t.textContent=new Date().getFullYear()),e){const n=()=>{e.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};n(),rt=setInterval(n,1e3)}}function rn(){rt&&(clearInterval(rt),rt=null)}const an=200,ln="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)";let b=[],j=[],Gt=[],$=-1,R=!0,U=!1,at="",lt=null,ct=null,y=null,F=-1,B=!1;function cn(){y=document.querySelector(".selected-list"),b=y?[...y.querySelectorAll(".selected-item")]:[],!(!y||!b.length)&&(b.forEach((t,e)=>{const n=t.querySelector(".selected-full video");if(!n)return;n.removeAttribute("loop"),n.muted=!0,j[e]=n;const s=t.querySelector(".selected-full-poster");Gt[e]=s,n.addEventListener("timeupdate",()=>{s&&s.style.opacity!=="0"&&n.currentTime>0&&(s.style.transition=ln,s.style.opacity="0",s.style.pointerEvents="none")}),n.addEventListener("ended",()=>{e===$&&dn((e+1)%b.length)}),n.addEventListener("playing",()=>{e===$&&(B=!0)}),n.addEventListener("waiting",()=>{e===$&&(B=!1)}),n.addEventListener("pause",()=>{e===$&&(B=!1)})}),y.addEventListener("scroll",Xt,{passive:!0}),y.addEventListener("wheel",Kt,{passive:!1}),b.forEach((t,e)=>t.addEventListener("click",()=>zt(e))),pn(),fn(),ut(0))}function un(){cancelAnimationFrame(lt),cancelAnimationFrame(ct),j.forEach(t=>{t&&(t.pause(),t.removeAttribute("src"),t.load())}),j=[],Gt=[],y==null||y.removeEventListener("scroll",Xt),y==null||y.removeEventListener("wheel",Kt),b=[],y=null,$=-1,F=-1,U=!1,R=!0,B=!1,lt=null}function zt(t){if(!y||!b[t])return;F=t,b.forEach((s,i)=>s.classList.toggle("active",i===t)),y.scrollTo({left:b[t].offsetLeft-y.offsetLeft,behavior:"smooth"});let e=null;const n=()=>{clearTimeout(e),e=setTimeout(()=>{y.removeEventListener("scroll",n),F=-1,ut(t)},100)};y.addEventListener("scroll",n,{passive:!0})}let kt=!1;function Kt(t){if(!y||Math.abs(t.deltaY)<=Math.abs(t.deltaX)||(t.preventDefault(),kt))return;const e=t.deltaY>0?1:-1,n=$+e;n<0||n>=b.length||(kt=!0,zt(n),setTimeout(()=>{kt=!1},600))}function Xt(){ct||(ct=requestAnimationFrame(()=>{hn(),ct=null}))}function hn(){if(!y||!b.length||F>=0)return;const t=y.getBoundingClientRect().left;let e=0,n=1/0;b.forEach((s,i)=>{const o=Math.abs(s.getBoundingClientRect().left-t);o<n&&(n=o,e=i)}),n<an&&e!==$&&ut(e)}function dn(t){if(!y||!b[t])return;F=t,y.scrollTo({left:b[t].offsetLeft-y.offsetLeft,behavior:"smooth"});let e=null;const n=()=>{clearTimeout(e),e=setTimeout(()=>{y.removeEventListener("scroll",n),F=-1},100)};y.addEventListener("scroll",n,{passive:!0}),U=!1;const s=document.querySelector('[data-controls="pause"]');s&&at&&(s.textContent=at),ut(t)}function ut(t){var i,o;if(t===$)return;const e=$;if($=t,b.forEach((r,a)=>r.classList.toggle("active",a===t)),e>=0){const r=j[e];r&&(r.pause(),r.currentTime=0);const a=(i=b[e])==null?void 0:i.querySelector(".selected-progress");a&&(a.style.left="0%");const l=(o=b[e])==null?void 0:o.querySelector(".selected-cover");l&&l.style.setProperty("--progress","0%")}B=!1,Jt(0,0);const n=j[t];n&&(n.muted=R,U||n.play().catch(()=>{n.addEventListener("canplay",()=>{$===t&&!U&&n.play().catch(()=>{})},{once:!0})}));const s=j[(t+1)%b.length];s&&s.readyState<=1&&s.load()}function fn(){function t(){if($>=0&&B){const e=j[$];e&&e.duration>0&&Jt(e.currentTime/e.duration,e.currentTime)}lt=requestAnimationFrame(t)}lt=requestAnimationFrame(t)}function Jt(t,e){const n=b[$];if(!n)return;const s=`${(t*100).toFixed(2)}%`,i=n.querySelector(".selected-progress");i&&(i.style.left=s);const o=n.querySelector(".selected-cover");o&&o.style.setProperty("--progress",s);const r=document.querySelector("#videoDuration");r&&(r.textContent=yn(e))}function pn(){const t=document.querySelector('[data-controls="pause"]');t&&(at=t.textContent,t.addEventListener("click",mn));const e=document.querySelector('[data-controls="muted"]');e&&e.addEventListener("click",gn)}function mn(){const t=j[$],e=document.querySelector('[data-controls="pause"]');!t||!e||(U=!U,U?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=at))}function gn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;R=!R,t.classList.toggle("active",R);const e=j[$];e&&(e.muted=R)}function yn(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const z=300,K="cubic-bezier(0.4, 0, 0.2, 1)";let N=null,X=[],M=null,J=null;function vn(){const t=document.querySelectorAll(".projects-item");if(!t.length)return;M&&M.abort(),M=new AbortController;const e=M.signal;X=[...document.querySelectorAll(".categories-button[data-categories]")],X.forEach(s=>{s.classList.remove("active"),s.addEventListener("click",()=>wn(s),{signal:e})}),N=null,document.querySelectorAll(".projects-item[data-filter]").forEach(s=>{s.style.height="",s.style.overflow="",s.style.transition=""}),t.forEach(s=>{const i=s.querySelector(".projects-cover-inner");if(!i)return;const o=i.querySelector("video"),r=i.querySelector(".projects-cover-poster");if(!o)return;o.addEventListener("loadedmetadata",()=>{o.videoWidth&&o.videoHeight&&(i.style.aspectRatio=`${o.videoWidth} / ${o.videoHeight}`)},{signal:e});let a=!1;o.addEventListener("timeupdate",()=>{!a&&r&&o.currentTime>0&&(a=!0,r.style.transition=`opacity ${z}ms ${K}`,r.style.opacity="0",r.style.pointerEvents="none")},{signal:e}),o.removeAttribute("autoplay"),o.preload="none",o.paused||o.pause(),s.addEventListener("mouseenter",()=>{o.readyState===0&&o.load(),o.play().catch(()=>{})},{signal:e}),s.addEventListener("mouseleave",()=>{o.pause()},{signal:e})});const n=document.querySelector(".nav");if(n){const s=n.getBoundingClientRect().height;J=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting?(o.target.style.transition=`opacity ${z}ms ${K}`,o.target.style.opacity="",o.target.style.pointerEvents=""):o.boundingClientRect.top<s+40?(o.target.style.transition=`opacity ${z}ms ${K}`,o.target.style.opacity="0.1",o.target.style.pointerEvents="none"):(o.target.style.transition="none",o.target.style.opacity="",o.target.style.pointerEvents="")})},{rootMargin:`-${s+40}px 0px 0px 0px`,threshold:0}),t.forEach(i=>J.observe(i))}}function wn(t){const e=t.dataset.categories;N===e?(N=null,t.classList.remove("active")):(X.forEach(n=>n.classList.remove("active")),N=e,t.classList.add("active")),En()}function En(){document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{!N||N===t.dataset.filter?bn(t):Sn(t)})}function Sn(t){if(t.style.height==="0px")return;const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${z}ms ${K}`,t.style.height="0px"}function bn(t){if(!t.style.height||t.style.height==="")return;t.style.transition="none",t.style.height="",t.style.overflow="";const e=t.offsetHeight;t.style.height="0px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${z}ms ${K}`,t.style.height=e+"px",t.addEventListener("transitionend",()=>{t.style.height="",t.style.overflow="",t.style.transition=""},{once:!0})}function kn(){document.querySelectorAll(".projects-cover-inner video").forEach(t=>{t.pause(),t.removeAttribute("src"),t.load()}),J&&(J.disconnect(),J=null),M&&(M.abort(),M=null),N=null,X.forEach(t=>t.classList.remove("active")),X=[],document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.height="",t.style.overflow="",t.style.transition="",t.style.opacity="",t.style.pointerEvents=""})}let I=null;function Ln(){const t=document.querySelector(".background-full");if(!t)return;I=t.querySelector("video");const e=document.querySelector(".background-full-poster");if(!I)return;let n=!1;I.addEventListener("timeupdate",()=>{!n&&e&&I.currentTime>0&&(n=!0,e.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="0",e.style.pointerEvents="none")}),I.play().catch(()=>{I.addEventListener("canplay",()=>I.play().catch(()=>{}),{once:!0})})}function $n(){I&&(I.pause(),I=null)}const Zt=300,Qt="cubic-bezier(0.4, 0, 0.2, 1)";let P=[],A=-1,_=!0,V=!1,te="",ht=null,x=!1,Z=null,O=null,Q=[],tt=[],Lt=!1;function An(){O=new AbortController;const t=O.signal;Dn(),P=[...document.querySelectorAll("#swup video")],Q=[...document.querySelectorAll("[project-item]")],tt=[...document.querySelectorAll(".project-index-item[project-index]")],tt.forEach(s=>{s.addEventListener("click",()=>{const i=s.getAttribute("project-index"),o=Q.find(c=>c.getAttribute("project-item")===i);if(!o)return;Lt=!0,ee(i),o.scrollIntoView({behavior:"smooth",block:"start"});let r=null;const a=o.closest(".project-item-wrapper")||window,l=()=>{clearTimeout(r),r=setTimeout(()=>{a.removeEventListener("scroll",l),Lt=!1},150)};a.addEventListener("scroll",l,{passive:!0})},{signal:t})}),On(t),P.forEach((s,i)=>{s.muted=!0,s.preload="metadata",s.style.opacity="0",s.style.transition=`opacity ${Zt}ms ${Qt}`;const o=()=>{s.style.opacity="1"};s.readyState>=2?o():(s.addEventListener("loadeddata",o,{once:!0,signal:t}),s.addEventListener("playing",o,{once:!0,signal:t})),s.addEventListener("playing",()=>{i===A&&(x=!0)},{signal:t}),s.addEventListener("waiting",()=>{i===A&&(x=!1)},{signal:t}),s.addEventListener("pause",()=>{i===A&&(x=!1)},{signal:t}),s.addEventListener("ended",()=>{i===A&&(x=!1)},{signal:t})}),Z=new IntersectionObserver(s=>{s.forEach(i=>{const o=i.target,r=o.getAttribute("project-item"),a=o.querySelector("video"),l=a?P.indexOf(a):-1;i.isIntersecting?(Lt||r&&ee(r),l!==-1&&(l===A?a&&a.paused&&!V&&a.play().catch(()=>{}):Pn(l))):(a&&a.pause(),l===A&&(x=!1))})},{threshold:.5}),Q.forEach(s=>Z.observe(s)),In(t),xn(t),Tn(),Hn();const e=document.querySelector(".progress-bar");e&&(e.style.transformOrigin="left",e.style.transform="scaleX(0)");const n=document.querySelector(".project-progress");n&&(n.classList.remove("is-visible"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.add("is-visible")})}))}function qn(){cancelAnimationFrame(ht),Z&&(Z.disconnect(),Z=null),O&&(O.abort(),O=null),P.forEach(e=>{e.pause(),e.removeAttribute("src"),e.load()});const t=document.querySelector(".project-progress");t&&t.classList.remove("is-visible"),tt.forEach(e=>e.classList.remove("active")),tt=[],Q=[],P=[],A=-1,V=!1,_=!0,x=!1,ht=null}function ee(t){tt.forEach(e=>{e.classList.toggle("active",e.getAttribute("project-index")===t)})}function Pn(t){if(t===A)return;const e=A;A=t,e>=0&&P[e]&&P[e].pause(),x=!1,$t(0,0);const n=P[t];n&&(n.muted=_,V||(n.readyState===0&&n.load(),n.play().catch(()=>{n.addEventListener("canplay",()=>{A===t&&!V&&n.play().catch(()=>{})},{once:!0,signal:O==null?void 0:O.signal})})));const s=P[t+1];s&&s.readyState<=1&&s.load()}function Tn(){function t(){if(A>=0&&x){const e=P[A];e&&e.duration>0&&$t(e.currentTime/e.duration,e.currentTime)}ht=requestAnimationFrame(t)}ht=requestAnimationFrame(t)}function $t(t,e){const n=document.querySelector(".progress-bar");n&&(n.style.transform=`scaleX(${t})`);const s=document.querySelector("#videoDuration");s&&(s.textContent=Un(e))}function In(t){const e=document.querySelector('[data-controls="pause"]');e&&(te=e.textContent,e.addEventListener("click",jn,{signal:t}));const n=document.querySelector('[data-controls="muted"]');n&&n.addEventListener("click",Cn,{signal:t})}function jn(){const t=P[A],e=document.querySelector('[data-controls="pause"]');!t||!e||(V=!V,V?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=te))}function Cn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;_=!_,t.classList.toggle("active",_);const e=P[A];e&&(e.muted=_)}function xn(t){const e=document.querySelector(".project-progress");e&&e.addEventListener("click",n=>{const s=e.getBoundingClientRect(),i=Math.max(0,Math.min(1,(n.clientX-s.left)/s.width)),o=P[A];o&&o.duration&&(o.currentTime=i*o.duration,$t(i,o.currentTime))},{signal:t})}function On(t){Q.forEach(e=>{const n=[...e.querySelectorAll("p")].find(r=>r.textContent.trim()==="Chargement");if(!n)return;const s=[...n.textContent],i=s.length;n.innerHTML=s.map((r,a)=>`<span class="loading-letter" style="--i:${a};--n:${i}">${r}</span>`).join("");const o=e.querySelector("video");o&&o.addEventListener("playing",()=>{n.style.transition=`opacity ${Zt}ms ${Qt}`,n.style.opacity="0"},{once:!0,signal:t})})}function Hn(){const t=document.querySelector("#close");t&&t.setAttribute("href",window.__detailsReturnUrl||"/")}function Dn(){const t=document.querySelector("#services");if(!t)return;const e=t.textContent.split(",").map(n=>n.trim()).filter(Boolean);t.innerHTML=e.map(n=>`<span style="display:block">${n}</span>`).join("")}function Un(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const dt={home:{init:cn,cleanup:un},projects:{init:vn,cleanup:kn},information:{init:Ln,cleanup:$n},details:{init:An,cleanup:qn}};function ft(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function ne(){const t=ft();t&&dt[t]&&dt[t].init()}function Nn(){const t=ft();t&&dt[t]&&dt[t].cleanup()}document.addEventListener("DOMContentLoaded",()=>{oe(),ce();const t=sn({initCurrentPage:ne,cleanupCurrentPage:Nn});on(t),ft()==="projects"?tn():ft()==="details"?(bt(),Xe()):bt(),ne()})})();
