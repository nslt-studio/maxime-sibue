(function(){"use strict";const st="cubic-bezier(0.4, 0, 0.2, 1)";function Ut(){const e=`
    /* === GLOBAL IMAGES (hidden until loaded) === */
    img {
      opacity: 0;
      transition: opacity 200ms ${st};
    }

    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 200ms ${st};
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 200ms ${st};
    }

    .selected-item.active .selected-progress {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      opacity: 1 !important;
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }
  `,t=document.createElement("style");t.setAttribute("data-maxime-sibue",""),t.textContent=e,document.head.appendChild(t)}const Ht=400,xt="cubic-bezier(0.4, 0, 0.2, 1)",Dt=100,Vt=1e3,ft="loaderDone";function Nt(){if(sessionStorage.getItem(ft)){Rt();return}const e=document.querySelector(".loader"),t=e?[...e.querySelectorAll(".loader-item")]:[];if(!e||!t.length)return;t.forEach(o=>{o.style.opacity="0"});let s=0;const n=setInterval(()=>{s>0&&(t[s-1].style.opacity="0"),t[s].style.opacity="1",s++,s>=t.length&&(clearInterval(n),setTimeout(()=>Mt(e),Vt))},Dt)}function Mt(e){const t=e.offsetHeight;e.style.height=t+"px",e.style.overflow="hidden",e.offsetHeight,e.style.transition=`height ${Ht}ms ${xt}`,e.style.height="0px",e.addEventListener("transitionend",()=>{e.style.display="none",sessionStorage.setItem(ft,"1")},{once:!0})}function Rt(){const e=document.querySelector(".loader");e&&(e.style.display="none")}const nt=new WeakMap;function ot(e,t,s,n){if(!e&&!nt.has(t))return!1;const o=nt.get(t)??new WeakMap;nt.set(t,o);const i=o.get(s)??new Set;o.set(s,i);const r=i.has(n);return e?i.add(n):i.delete(n),r&&e}function Ft(e,t){let s=e.target;if(s instanceof Text&&(s=s.parentElement),s instanceof Element&&e.currentTarget instanceof Node){const n=s.closest(t);if(n&&e.currentTarget.contains(n))return n}}function Bt(e,t,s,n={}){const{signal:o,base:i=document}=n;if(o!=null&&o.aborted)return;const{once:r,...l}=n,a=i instanceof Document?i.documentElement:i,c=!!(typeof n=="object"?n.capture:n),u=m=>{const f=Ft(m,String(e));if(f){const d=Object.assign(m,{delegateTarget:f});s.call(a,d),r&&(a.removeEventListener(t,u,l),ot(!1,a,s,h))}},h=JSON.stringify({selector:e,type:t,capture:c});ot(!0,a,s,h)||a.addEventListener(t,u,l),o==null||o.addEventListener("abort",()=>{ot(!1,a,s,h)})}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},y.apply(null,arguments)}const pt=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",I=({hash:e}={})=>window.location.pathname+window.location.search+(e?window.location.hash:""),Wt=(e,t={})=>{const s=y({url:e=e||I({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(s,"",e)},D=(e=null,t={})=>{e=e||I({hash:!0});const s=y({},window.history.state||{},{url:e,random:Math.random(),source:"swup"},t);window.history.replaceState(s,"",e)},_t=(e,t,s,n)=>{const o=new AbortController;return n=y({},n,{signal:o.signal}),Bt(e,t,s,n),{destroy:()=>o.abort()}};let k=class et extends URL{constructor(t,s=document.baseURI){super(t.toString(),s),Object.setPrototypeOf(this,et.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const s=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new et(s)}static fromUrl(t){return new et(t)}};class R extends Error{constructor(t,s){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=s.url,this.status=s.status,this.aborted=s.aborted||!1,this.timedOut=s.timedOut||!1}}async function Gt(e,t={}){var s;e=k.fromUrl(e).url;const{visit:n=this.visit}=t,o=y({},this.options.requestHeaders,t.headers),i=(s=t.timeout)!=null?s:this.options.timeout,r=new AbortController,{signal:l}=r;t=y({},t,{headers:o,signal:l});let a,c=!1,u=null;i&&i>0&&(u=setTimeout(()=>{c=!0,r.abort("timeout")},i));try{a=await this.hooks.call("fetch:request",n,{url:e,options:t},(g,{url:v,options:E})=>fetch(v,E)),u&&clearTimeout(u)}catch(g){throw c?(this.hooks.call("fetch:timeout",n,{url:e}),new R(`Request timed out: ${e}`,{url:e,timedOut:c})):(g==null?void 0:g.name)==="AbortError"||l.aborted?new R(`Request aborted: ${e}`,{url:e,aborted:!0}):g}const{status:h,url:p}=a,m=await a.text();if(h===500)throw this.hooks.call("fetch:error",n,{status:h,response:a,url:p}),new R(`Server error: ${p}`,{status:h,url:p});if(!m)throw new R(`Empty response: ${p}`,{status:h,url:p});const{url:f}=k.fromUrl(p),d={url:f,html:m};return!n.cache.write||t.method&&t.method!=="GET"||e!==f||this.cache.set(d.url,d),d}class zt{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((s,n)=>{t.set(n,y({},s))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const s=this.pages.get(this.resolve(t));return s&&y({},s)}set(t,s){s=y({},s,{url:t=this.resolve(t)}),this.pages.set(t,s),this.swup.hooks.callSync("cache:set",void 0,{page:s})}update(t,s){t=this.resolve(t);const n=y({},this.get(t),s,{url:t});this.pages.set(t,n)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((s,n)=>{t(n,s)&&this.delete(n)})}resolve(t){const{url:s}=k.fromUrl(t);return this.swup.resolveUrl(s)}}const it=(e,t=document)=>t.querySelector(e),rt=(e,t=document)=>Array.from(t.querySelectorAll(e)),mt=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function gt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Yt(e,t=[]){return new Promise((s,n)=>{const o=e(...t);gt(o)?o.then(s,n):s(o)})}function vt(e,t){const s=e==null?void 0:e.closest(`[${t}]`);return s!=null&&s.hasAttribute(t)?(s==null?void 0:s.getAttribute(t))||!0:void 0}class Kt{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?rt(this.selector):[]}add(...t){this.targets.forEach(s=>s.classList.add(...t))}remove(...t){this.targets.forEach(s=>s.classList.remove(...t))}clear(){this.targets.forEach(t=>{const s=t.className.split(" ").filter(n=>this.isSwupClass(n));t.classList.remove(...s)})}isSwupClass(t){return this.swupClasses.some(s=>t.startsWith(s))}}class yt{constructor(t,s){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:n,from:o,hash:i,el:r,event:l}=s;this.id=Math.random(),this.state=1,this.from={url:o??t.location.url,hash:t.location.hash},this.to={url:n,hash:i},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:r,event:l},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function Jt(e){return new yt(this,e)}class Xt{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const s=this.registry.get(t);if(s)return s;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,s,n={}){const o=this.get(t);if(!o)return console.warn(`Hook '${t}' not found.`),()=>{};const i=y({},n,{id:o.size+1,hook:t,handler:s});return o.set(s,i),()=>this.off(t,s)}before(t,s,n={}){return this.on(t,s,y({},n,{before:!0}))}replace(t,s,n={}){return this.on(t,s,y({},n,{replace:!0}))}once(t,s,n={}){return this.on(t,s,y({},n,{once:!0}))}off(t,s){const n=this.get(t);n&&s?n.delete(s)||console.warn(`Handler for hook '${t}' not found.`):n&&n.clear()}async call(t,s,n,o){const[i,r,l]=this.parseCallArgs(t,s,n,o),{before:a,handler:c,after:u}=this.getHandlers(t,l);await this.run(a,i,r);const[h]=await this.run(c,i,r,!0);return await this.run(u,i,r),this.dispatchDomEvent(t,i,r),h}callSync(t,s,n,o){const[i,r,l]=this.parseCallArgs(t,s,n,o),{before:a,handler:c,after:u}=this.getHandlers(t,l);this.runSync(a,i,r);const[h]=this.runSync(c,i,r,!0);return this.runSync(u,i,r),this.dispatchDomEvent(t,i,r),h}parseCallArgs(t,s,n,o){return s instanceof yt||typeof s!="object"&&typeof n!="function"?[s,n,o]:[void 0,s,n]}async run(t,s=this.swup.visit,n,o=!1){const i=[];for(const{hook:r,handler:l,defaultHandler:a,once:c}of t)if(s==null||!s.done){c&&this.off(r,l);try{const u=await Yt(l,[s,n,a]);i.push(u)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}runSync(t,s=this.swup.visit,n,o=!1){const i=[];for(const{hook:r,handler:l,defaultHandler:a,once:c}of t)if(s==null||!s.done){c&&this.off(r,l);try{const u=l(s,n,a);i.push(u),gt(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}getHandlers(t,s){const n=this.get(t);if(!n)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(n.values()),i=this.sortRegistrations,r=o.filter(({before:h,replace:p})=>h&&!p).sort(i),l=o.filter(({replace:h})=>h).filter(h=>!0).sort(i),a=o.filter(({before:h,replace:p})=>!h&&!p).sort(i),c=l.length>0;let u=[];if(s&&(u=[{id:0,hook:t,handler:s}],c)){const h=l.length-1,{handler:p,once:m}=l[h],f=d=>{const g=l[d-1];return g?(v,E)=>g.handler(v,E,f(d-1)):s};u=[{id:0,hook:t,once:m,handler:p,defaultHandler:f(h)}]}return{found:!0,before:r,handler:u,after:a,replaced:c}}sortRegistrations(t,s){var n,o;return((n=t.priority)!=null?n:0)-((o=s.priority)!=null?o:0)||t.id-s.id||0}dispatchDomEvent(t,s,n){if(s!=null&&s.done)return;const o={hook:t,args:n,visit:s||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:o,bubbles:!0}))}parseName(t){const[s,...n]=t.split(".");return[s,n.reduce((o,i)=>y({},o,{[i]:!0}),{})]}}const Zt=e=>{if(e&&e.charAt(0)==="#"&&(e=e.substring(1)),!e)return null;const t=decodeURIComponent(e);let s=document.getElementById(e)||document.getElementById(t)||it(`a[name='${CSS.escape(e)}']`)||it(`a[name='${CSS.escape(t)}']`);return s||e!=="top"||(s=document.body),s},F="transition",at="animation";async function Qt({selector:e,elements:t}){if(e===!1&&!t)return;let s=[];if(t)s=Array.from(t);else if(e&&(s=rt(e,document.body),!s.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);const n=s.map(o=>(function(i){const{type:r,timeout:l,propCount:a}=(function(c){const u=window.getComputedStyle(c),h=B(u,`${F}Delay`),p=B(u,`${F}Duration`),m=wt(h,p),f=B(u,`${at}Delay`),d=B(u,`${at}Duration`),g=wt(f,d),v=Math.max(m,g),E=v>0?m>g?F:at:null;return{type:E,timeout:v,propCount:E?E===F?p.length:d.length:0}})(i);return!(!r||!l)&&new Promise(c=>{const u=`${r}end`,h=performance.now();let p=0;const m=()=>{i.removeEventListener(u,f),c()},f=d=>{d.target===i&&((performance.now()-h)/1e3<d.elapsedTime||++p>=a&&m())};setTimeout(()=>{p<a&&m()},l+1),i.addEventListener(u,f)})})(o));n.filter(Boolean).length>0?await Promise.all(n):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)}function B(e,t){return(e[t]||"").split(", ")}function wt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>kt(s)+kt(e[n])))}function kt(e){return 1e3*parseFloat(e)}function te(e,t={},s={}){if(typeof e!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(e,{el:s.el,event:s.event}))return void window.location.assign(e);const{url:n,hash:o}=k.fromUrl(e),i=this.createVisit(y({},s,{to:n,hash:o}));this.performNavigation(i,t)}async function ee(e,t={}){if(this.navigating){if(this.visit.state>=6)return e.state=2,void(this.onVisitEnd=()=>this.performNavigation(e,t));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=e;const{el:s}=e.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();const n=t.history||vt(s,"data-swup-history");typeof n=="string"&&["push","replace"].includes(n)&&(e.history.action=n);const o=t.animation||vt(s,"data-swup-animation");var i,r;typeof o=="string"&&(e.animation.name=o),e.meta=t.meta||{},typeof t.cache=="object"?(e.cache.read=(i=t.cache.read)!=null?i:e.cache.read,e.cache.write=(r=t.cache.write)!=null?r:e.cache.write):t.cache!==void 0&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",e,void 0),e.state=3;const l=this.hooks.call("page:load",e,{options:t},async(c,u)=>{let h;return c.cache.read&&(h=this.cache.get(c.to.url)),u.page=h||await this.fetchPage(c.to.url,u.options),u.cache=!!h,u.page});l.then(({html:c})=>{e.advance(5),e.to.html=c,e.to.document=new DOMParser().parseFromString(c,"text/html")});const a=e.to.url+e.to.hash;if(e.history.popstate||(e.history.action==="replace"||e.to.url===this.location.url?D(a):(this.currentHistoryIndex++,Wt(a,{index:this.currentHistoryIndex}))),this.location=k.fromUrl(a),e.history.popstate&&this.classes.add("is-popstate"),e.animation.name&&this.classes.add(`to-${pt(e.animation.name)}`),e.animation.wait&&await l,e.done||(await this.hooks.call("visit:transition",e,void 0,async()=>{if(!e.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(e,await l);e.advance(4),await this.animatePageOut(e),e.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(e,await l)).finished:await this.renderPage(e,await l),await this.animatePageIn(e)}),e.done))return;await this.hooks.call("visit:end",e,void 0,()=>this.classes.clear()),e.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(l){if(!l||l!=null&&l.aborted)return void(e.state=8);e.state=9,console.error(l),this.options.skipPopStateHandling=()=>(window.location.assign(e.to.url+e.to.hash),!0),window.history.back()}finally{delete e.to.document}}const se=async function(e){await this.hooks.call("animation:out:start",e,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",e,{skip:!1},(t,{skip:s})=>{if(!s)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",e,void 0)},ne=function(e){var t;const s=e.to.document;if(!s)return!1;const n=((t=s.querySelector("title"))==null?void 0:t.innerText)||"";document.title=n;const o=rt('[data-swup-persist]:not([data-swup-persist=""])'),i=e.containers.map(r=>{const l=document.querySelector(r),a=s.querySelector(r);return l&&a?(l.replaceWith(a.cloneNode(!0)),!0):(l||console.warn(`[swup] Container missing in current document: ${r}`),a||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return o.forEach(r=>{const l=r.getAttribute("data-swup-persist"),a=it(`[data-swup-persist="${l}"]`);a&&a!==r&&a.replaceWith(r)}),i.length===e.containers.length},oe=function(e){const t={behavior:"auto"},{target:s,reset:n}=e.scroll,o=s??e.to.hash;let i=!1;return o&&(i=this.hooks.callSync("scroll:anchor",e,{hash:o,options:t},(r,{hash:l,options:a})=>{const c=this.getAnchorElement(l);return c&&c.scrollIntoView(a),!!c})),n&&!i&&(i=this.hooks.callSync("scroll:top",e,{options:t},(r,{options:l})=>(window.scrollTo(y({top:0,left:0},l)),!0))),i},ie=async function(e){if(e.done)return;const t=this.hooks.call("animation:in:await",e,{skip:!1},(s,{skip:n})=>{if(!n)return this.awaitAnimations({selector:s.animation.selector})});await mt(),await this.hooks.call("animation:in:start",e,void 0,()=>{this.classes.remove("is-animating")}),await t,await this.hooks.call("animation:in:end",e,void 0)},re=async function(e,t){if(e.done)return;e.advance(6);const{url:s}=t;this.isSameResolvedUrl(I(),s)||(D(s),this.location=k.fromUrl(s),e.to.url=this.location.url,e.to.hash=this.location.hash),await this.hooks.call("content:replace",e,{page:t},(n,{})=>{if(this.classes.remove("is-leaving"),n.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(n))throw new Error("[swup] Container mismatch, aborting");n.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),n.animation.name&&this.classes.add(`to-${pt(n.animation.name)}`))}),await this.hooks.call("content:scroll",e,void 0,()=>this.scrollToContent(e)),await this.hooks.call("page:view",e,{url:this.location.url,title:document.title})},ae=function(e){var t;if(t=e,!!(t!=null&&t.isSwupPlugin)){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)};function le(e){const t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(s=>s!==t),this.plugins;console.error("No such plugin",t)}function ce(e){return this.plugins.find(t=>t===e||t.name===e||t.name===`Swup${String(e)}`)}function ue(e){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),e;const t=this.options.resolveUrl(e);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function he(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}const de={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(e,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>{var t;return((t=e.state)==null?void 0:t.source)!=="swup"},timeout:0};class fe{get currentPageUrl(){return this.location.url}constructor(t={}){var s,n;this.version="4.8.2",this.options=void 0,this.defaults=de,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=k.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=ae,this.unuse=le,this.findPlugin=ce,this.log=()=>{},this.navigate=te,this.performNavigation=ee,this.createVisit=Jt,this.delegateEvent=_t,this.fetchPage=Gt,this.awaitAnimations=Qt,this.renderPage=re,this.replaceContent=ne,this.animatePageIn=ie,this.animatePageOut=se,this.scrollToContent=oe,this.getAnchorElement=Zt,this.getCurrentUrl=I,this.resolveUrl=ue,this.isSameResolvedUrl=he,this.options=y({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new zt(this),this.classes=new Kt(this),this.hooks=new Xt(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(s=(n=window.history.state)==null?void 0:n.index)!=null?s:1,this.enable()}async enable(){var t;const{linkSelector:s}=this.options;this.clickDelegate=this.delegateEvent(s,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(n=>this.use(n));for(const[n,o]of Object.entries(this.options.hooks)){const[i,r]=this.hooks.parseName(n);this.hooks.on(i,o,r)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&D(null,{index:this.currentHistoryIndex}),await mt(),await this.hooks.call("enable",void 0,void 0,()=>{const n=document.documentElement;n.classList.add("swup-enabled"),n.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:s,event:n}={}){const{origin:o,url:i,hash:r}=k.fromUrl(t);return o!==window.location.origin||!(!s||!this.triggerWillOpenNewWindow(s))||!!this.options.ignoreVisit(i+r,{el:s,event:n})}handleLinkClick(t){const s=t.delegateTarget,{href:n,url:o,hash:i}=k.fromElement(s);if(this.shouldIgnoreVisit(n,{el:s,event:t}))return;if(this.navigating&&o===this.visit.to.url)return void t.preventDefault();const r=this.createVisit({to:o,hash:i,el:s,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",r,{href:n}):t.button===0&&this.hooks.callSync("link:click",r,{el:s,event:t},()=>{var l;const a=(l=r.from.url)!=null?l:"";t.preventDefault(),o&&o!==a?this.isSameResolvedUrl(o,a)||this.performNavigation(r):i?this.hooks.callSync("link:anchor",r,{hash:i},()=>{D(o+i),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(D(o),this.scrollToContent(r))})})}handlePopState(t){var s,n,o,i;const r=(s=(n=t.state)==null?void 0:n.url)!=null?s:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(I(),this.location.url))return;const{url:l,hash:a}=k.fromUrl(r),c=this.createVisit({to:l,hash:a,event:t});c.history.popstate=!0;const u=(o=(i=t.state)==null?void 0:i.index)!=null?o:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:t},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},V.apply(this,arguments)}const St=e=>String(e).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");class pe{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,s])=>{if(!(function(n,o,i){const r=(function(l,a){var c;if(l==="swup")return(c=a.version)!=null?c:"";{var u;const h=a.findPlugin(l);return(u=h==null?void 0:h.version)!=null?u:""}})(n,i);return!!r&&((l,a)=>a.every(c=>{const[,u,h]=c.match(/^([\D]+)?(.*)$/)||[];var p,m;return((f,d)=>{const g={"":v=>v===0,">":v=>v>0,">=":v=>v>=0,"<":v=>v<0,"<=":v=>v<=0};return(g[d]||g[""])(f)})((m=h,p=St(p=l),m=St(m),p.localeCompare(m,void 0,{numeric:!0})),u||">=")}))(r,o)})(t,s=Array.isArray(s)?s:[s],this.swup)){const n=`${t} ${s.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${n}`)}}),!0}on(t,s,n={}){var o;s=!(o=s).name.startsWith("bound ")||o.hasOwnProperty("prototype")?s.bind(this):s;const i=this.swup.hooks.on(t,s,n);return this.handlersToUnregister.push(i),i}once(t,s,n={}){return this.on(t,s,V({},n,{once:!0}))}before(t,s,n={}){return this.on(t,s,V({},n,{before:!0}))}replace(t,s,n={}){return this.on(t,s,V({},n,{replace:!0}))}off(t,s){return this.swup.hooks.off(t,s)}}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},W.apply(null,arguments)}function Et(){return window.matchMedia("(hover: hover)").matches}function _(e){return!!e&&(e instanceof HTMLAnchorElement||e instanceof SVGAElement)}const bt=window.requestIdleCallback||(e=>setTimeout(e,1)),me=["preloadVisibleLinks"];class ge extends pe{constructor(t={}){var s;super(),s=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(i,r,l)=>{const{url:a}=i.to;return a&&this.preloadPromises.has(a)?this.preloadPromises.get(a):l(i,r)},this.onMouseEnter=async function(i){if(i.target!==i.delegateTarget||!Et())return;const r=i.delegateTarget;if(!_(r))return;const{url:l,hash:a}=k.fromElement(r),c=s.swup.createVisit({to:l,hash:a,el:r,event:i});s.swup.hooks.callSync("link:hover",c,{el:r,event:i}),s.preload(r,{priority:!0})},this.onTouchStart=i=>{if(Et())return;const r=i.delegateTarget;_(r)&&this.preload(r,{priority:!0})},this.onFocus=i=>{const r=i.delegateTarget;_(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:n}=t,o=(function(i,r){if(i==null)return{};var l={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(r.includes(a))continue;l[a]=i[a]}return l})(t,me);this.options=W({},this.defaults,o),typeof n=="object"?this.options.preloadVisibleLinks=W({},this.options.preloadVisibleLinks,{enabled:!0},n):this.options.preloadVisibleLinks.enabled=!!n,this.preload=this.preload.bind(this),this.queue=(function(i=1){const r=[],l=[];let a=0,c=0;function u(){c<i&&a>0&&((l.shift()||r.shift()||(()=>{}))(),a--,c++)}return{add:function(h,p=!1){if(h.__queued){if(!p)return;{const m=r.indexOf(h);if(m>=0){const f=r.splice(m,1);a-=f.length}}}h.__queued=!0,(p?l:r).push(h),a++,a<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const t=this.swup;t.options.cache?(t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(I())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var t,s,n;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(t=this.mouseEnterDelegate)==null||t.destroy(),(s=this.touchStartDelegate)==null||s.destroy(),(n=this.focusDelegate)==null||n.destroy(),this.stopPreloadingVisibleLinks()}async preload(t,s={}){var n;let o,i;const r=(n=s.priority)!=null&&n;if(Array.isArray(t))return Promise.all(t.map(a=>this.preload(a)));if(_(t))i=t,{href:o}=k.fromElement(t);else{if(typeof t!="string")return;o=t}if(!o)return;if(this.swup.cache.has(o))return this.swup.cache.get(o);if(this.preloadPromises.has(o))return this.preloadPromises.get(o);if(!this.shouldPreload(o,{el:i}))return;const l=new Promise(a=>{this.queue.add(()=>{this.performPreload(o).catch(()=>{}).then(c=>a(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(o)})},r)});return this.preloadPromises.set(o,l),l}preloadLinks(){bt(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(t=>this.preload(t))})}preloadLinksOnAttention(){const{swup:t}=this,{linkSelector:s}=t.options,n={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(s,"mouseenter",this.onMouseEnter,n),this.touchStartDelegate=t.delegateEvent(s,"touchstart",this.onTouchStart,n),this.focusDelegate=t.delegateEvent(s,"focus",this.onFocus,n)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:s,containers:n}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:o,delay:i,containers:r,callback:l,filter:a}){const c=new Map,u=new IntersectionObserver(f=>{f.forEach(d=>{d.isIntersecting?h(d.target):p(d.target)})},{threshold:o}),h=f=>{var d;const{href:g}=k.fromElement(f),v=(d=c.get(g))!=null?d:new Set;c.set(g,v),v.add(f),setTimeout(()=>{const E=c.get(g);E!=null&&E.size&&(l(f),u.unobserve(f),E.delete(f))},i)},p=f=>{var d;const{href:g}=k.fromElement(f);(d=c.get(g))==null||d.delete(f)},m=()=>{bt(()=>{const f=r.map(d=>`${d} a[*|href]`).join(", ");Array.from(document.querySelectorAll(f)).filter(d=>a(d)).forEach(d=>u.observe(d))})};return{start:()=>m(),stop:()=>u.disconnect(),update:()=>(c.clear(),m())}})({threshold:t,delay:s,containers:n,callback:o=>this.preload(o),filter:o=>{if(this.options.preloadVisibleLinks.ignore(o)||!o.matches(this.swup.options.linkSelector))return!1;const{href:i}=k.fromElement(o);return this.shouldPreload(i,{el:o})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:s}={}){const{url:n,href:o}=k.fromUrl(t);return!(!(function(){if(navigator.connection){var i;if(navigator.connection.saveData||(i=navigator.connection.effectiveType)!=null&&i.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(n)||this.preloadPromises.has(n)||this.swup.shouldIgnoreVisit(o,{el:s})||s&&this.swup.resolveUrl(n)===this.swup.resolveUrl(I()))}async performPreload(t){var s=this;const{url:n}=k.fromUrl(t),o=this.swup.createVisit({to:n});return await this.swup.hooks.call("page:preload",o,{url:n},async function(r,l){return l.page=await s.swup.fetchPage(t,{visit:r}),l.page})}}const w=200,G=50,A="cubic-bezier(0.4, 0, 0.2, 1)";function P(e){return new Promise(t=>setTimeout(t,e))}function Lt(){var e;return((e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace)||null}function Pt(){return new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(e)))}function O(){var n;const e=document.querySelector('[data-link="projects"]'),t=(n=e==null?void 0:e.parentElement)==null?void 0:n.querySelector(".categories"),s=t?[...t.querySelectorAll(".categories-item")]:[];return{projectsLink:e,categories:t,items:s}}async function ve(){const{projectsLink:e}=O();e&&(e.style.transition=`opacity ${w}ms ${A}`,e.offsetHeight,e.style.opacity="0",e.style.pointerEvents="none",await P(w))}async function ye(){const{projectsLink:e}=O();e&&(e.style.transition="none",e.style.opacity="0",await Pt(),e.style.transition=`opacity ${w}ms ${A}`,e.style.opacity="1",e.style.pointerEvents="",await P(w))}async function we(){const{categories:e,items:t}=O();!e||!t.length||(t.forEach(s=>{s.style.transition="none",s.style.opacity="0"}),await Pt(),e.style.pointerEvents="auto",t.forEach((s,n)=>{const o=n*G;s.style.transition=`opacity ${w}ms ${A} ${o}ms`,s.style.opacity="1"}),await P(w+(t.length-1)*G))}async function ke(){const{categories:e,items:t}=O();!e||!t.length||(t.forEach((s,n)=>{const o=n*G;s.style.transition=`opacity ${w}ms ${A} ${o}ms`,s.style.opacity="0"}),await P(w+(t.length-1)*G),e.style.pointerEvents="none")}async function Se(){const e=ve();await P(w/2);const t=we();await Promise.all([e,t])}async function Ee(){const e=ke();await P(w/2);const t=ye();await Promise.all([e,t])}async function be(){const e=document.querySelector(".footer");e&&(e.style.transition=`transform ${w}ms ${A}`,e.style.transform="translateY(100%)",await P(w))}async function Le(){const e=document.querySelector(".footer");e&&(e.style.transition="none",e.style.transform="translateY(100%)",e.offsetHeight,e.style.transition=`transform ${w}ms ${A}`,e.style.transform="translateY(0%)",await P(w))}async function Pe(){const e=document.querySelector(".video-controls");e&&(e.style.transition=`transform ${w}ms ${A}`,e.style.transform="translateY(100%)",await P(w))}async function Ae(){const e=document.querySelector(".video-controls");e&&(e.style.transition="none",e.style.transform="translateY(100%)",e.offsetHeight,e.style.transition=`transform ${w}ms ${A}`,e.style.transform="translateY(0%)",await P(w))}function $e(){const{projectsLink:e,categories:t,items:s}=O();!e||!t||(e.style.transition="none",e.style.opacity="0",e.style.pointerEvents="none",t.style.pointerEvents="auto",s.forEach(n=>{n.style.transition="none",n.style.opacity="1"}))}function qe(){const{projectsLink:e,categories:t,items:s}=O();!e||!t||(e.style.transition="none",e.style.opacity="1",e.style.pointerEvents="",t.style.pointerEvents="none",s.forEach(n=>{n.style.transition="none",n.style.opacity="0"}))}function Ie({initCurrentPage:e,cleanupCurrentPage:t}){const s=new fe({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new ge]});let n=!1,o=!1;return s.hooks.before("content:replace",()=>{t()}),s.hooks.on("content:replace",()=>{e()}),s.hooks.replace("animation:out:await",async(i,r,l)=>{var v,E,jt;const a=Lt(),c=!!((v=i.trigger.el)!=null&&v.closest('[data-link="projects"]')),u=!!((E=i.trigger.el)!=null&&E.closest('[data-link="home"]'));n=a==="projects"&&!c;const h=a==="projects"||a==="information",p=!!((jt=i.trigger.el)!=null&&jt.closest('[data-link="information"]')),m=document.querySelector(".footer"),f=m?m.getBoundingClientRect().top<window.innerHeight:!1,d=h&&(u||a==="information"&&c||a==="projects"&&p&&!f);o=a==="home"||a==="information"&&c||a==="projects"&&p&&!f;const g=[l(i,r)];a==="home"&&g.push(Pe()),d&&g.push(be()),c&&g.push(Se()),n&&g.push(Ee()),await Promise.all(g)}),s.hooks.replace("animation:in:await",async(i,r,l)=>{const a=Lt(),c=a==="projects"||a==="information",u=[l(i,r)];a==="home"&&u.push(Ae()),c&&o&&u.push(Le()),await Promise.all(u)}),s}let z=null;function Te(e){At(),qt(),$t(),e.hooks.on("page:view",()=>{At()}),e.hooks.before("content:replace",()=>{Ce()}),e.hooks.on("content:replace",()=>{qt(),$t()})}function At(){var t;const e=(t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace;document.querySelectorAll("[data-link]").forEach(s=>{const n=s.dataset.link===e;s.classList.toggle("w--current",n),s.classList.toggle("is-active",n)})}function $t(){const e=document.querySelector("#currentYear"),t=document.querySelector("#currentTime");if(e&&(e.textContent=new Date().getFullYear()),t){const s=()=>{t.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};s(),z=setInterval(s,1e3)}}function Ce(){z&&(clearInterval(z),z=null)}function qt(){document.querySelectorAll("img").forEach(e=>{e.dataset.watched||(e.dataset.watched="true",e.complete&&e.naturalWidth>0?e.style.opacity="1":e.addEventListener("load",()=>{e.style.opacity="1"},{once:!0}))})}const Oe=200,je="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)";let L=[],$=[],b=-1,j=!0,U=!1,Y="",K=null,J=null,S=null,X=-1,lt=0,N=0,H=0,x=!1;function Ue(){S=document.querySelector(".selected-list"),L=S?[...S.querySelectorAll(".selected-item")]:[],!(!S||!L.length)&&(L.forEach((e,t)=>{const s=e.querySelector(".selected-full video");if(!s)return;s.removeAttribute("loop"),s.muted=!0,$[t]=s;const n=e.querySelector(".selected-full-poster");let o=!1;s.addEventListener("timeupdate",()=>{!o&&n&&s.currentTime>0&&(o=!0,n.style.transition=je,n.style.opacity="0",n.style.pointerEvents="none"),t===b&&(lt=s.currentTime,N=performance.now(),H=s.duration||0)}),s.addEventListener("ended",()=>{t===b&&Tt((t+1)%L.length)}),s.addEventListener("play",()=>{t===b&&(x=!0,N=performance.now())}),s.addEventListener("pause",()=>{t===b&&(x=!1)}),s.play().catch(()=>{})}),S.addEventListener("scroll",It,{passive:!0}),L.forEach((e,t)=>e.addEventListener("click",()=>Tt(t))),Ve(),De(),ct(0))}function He(){cancelAnimationFrame(K),cancelAnimationFrame(J),$.forEach(e=>{e&&e.pause()}),$=[],S==null||S.removeEventListener("scroll",It),L=[],S=null,b=-1,X=-1,U=!1,j=!0,x=!1,K=null}function It(){J||(J=requestAnimationFrame(()=>{xe(),J=null}))}function xe(){if(!S||!L.length||X>=0)return;const e=S.getBoundingClientRect().left;let t=0,s=1/0;L.forEach((n,o)=>{const i=Math.abs(n.getBoundingClientRect().left-e);i<s&&(s=i,t=o)}),s<Oe&&t!==b&&ct(t)}function Tt(e){if(!S||!L[e])return;X=e,S.scrollTo({left:L[e].offsetLeft-S.offsetLeft,behavior:"smooth"});let t=null;const s=()=>{clearTimeout(t),t=setTimeout(()=>{S.removeEventListener("scroll",s),X=-1},100)};S.addEventListener("scroll",s,{passive:!0}),U=!1;const n=document.querySelector('[data-controls="pause"]');n&&Y&&(n.textContent=Y),ct(e)}function ct(e){if(e===b)return;const t=b;b=e,L.forEach((n,o)=>n.classList.toggle("active",o===e)),t>=0&&$[t]&&$[t].pause(),lt=0,N=performance.now(),H=0,x=!1,Ct(0,0);const s=$[e];s&&(s.currentTime=0,s.muted=j,H=s.duration||0,U||s.play().then(()=>{x=!0,N=performance.now()}).catch(()=>{}))}function De(){function e(){if(b>=0&&x&&H>0){const t=(performance.now()-N)/1e3,s=Math.min(lt+t,H);Ct(s/H,s)}K=requestAnimationFrame(e)}K=requestAnimationFrame(e)}function Ct(e,t){const s=L[b];if(!s)return;const n=`${(e*100).toFixed(2)}%`,o=s.querySelector(".selected-progress");o&&(o.style.left=n);const i=s.querySelector(".selected-cover");i&&i.style.setProperty("--progress",n);const r=document.querySelector("#videoDuration");r&&(r.textContent=Re(t))}function Ve(){const e=document.querySelector('[data-controls="pause"]');e&&(Y=e.textContent,e.addEventListener("click",Ne));const t=document.querySelector('[data-controls="muted"]');t&&t.addEventListener("click",Me)}function Ne(){const e=$[b],t=document.querySelector('[data-controls="pause"]');!e||!t||(U=!U,U?(e.pause(),t.textContent="Jouer"):(e.play(),t.textContent=Y))}function Me(){const e=document.querySelector('[data-controls="muted"]');if(!e)return;j=!j,e.classList.toggle("active",j);const t=$[b];t&&(t.muted=j)}function Re(e){const t=Math.floor(e/60),s=Math.floor(e%60),n=Math.floor(e%1*1e3);return String(t).padStart(2,"0")+":"+String(s).padStart(2,"0")+":"+String(n).padStart(3,"0")}const ut=200,ht="cubic-bezier(0.4, 0, 0.2, 1)";let M=null,Z=new Map,T=new Set,Q=[],C=null;function Fe(){const e=document.querySelectorAll(".projects-item");e.length&&(C&&C.abort(),C=new AbortController,Q=[...document.querySelectorAll(".categories-button[data-categories]")],Q.forEach(t=>{t.classList.remove("active"),t.addEventListener("click",()=>We(t),{signal:C.signal})}),T.clear(),document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.height="",t.style.overflow="",t.style.transition=""}),M=new IntersectionObserver(Be,{threshold:.25}),e.forEach(t=>{const s=t.querySelector(".projects-cover-inner");if(!s)return;const n=s.querySelector("video"),o=s.querySelector(".projects-cover-poster");if(!n)return;n.addEventListener("loadedmetadata",()=>{n.videoWidth&&n.videoHeight&&(s.style.aspectRatio=`${n.videoWidth} / ${n.videoHeight}`)});let i=!1;n.addEventListener("timeupdate",()=>{!i&&o&&n.currentTime>0&&(i=!0,o.style.transition=`opacity ${ut}ms ${ht}`,o.style.opacity="0",o.style.pointerEvents="none")}),Z.set(n,!0),M.observe(t)}))}function Be(e){e.forEach(t=>{const s=t.target.querySelector("video");!s||!Z.has(s)||(t.isIntersecting?s.play().catch(()=>{}):s.pause())})}function We(e){const t=e.dataset.categories;T.has(t)?(T.delete(t),e.classList.remove("active")):(T.add(t),e.classList.add("active")),_e()}function _e(){document.querySelectorAll(".projects-item[data-filter]").forEach(e=>{T.size===0||T.has(e.dataset.filter)?ze(e):Ge(e)})}function Ge(e){if(e.style.height==="0px")return;const t=e.offsetHeight;e.style.height=t+"px",e.style.overflow="hidden",e.offsetHeight,e.style.transition=`height ${ut}ms ${ht}`,e.style.height="0px"}function ze(e){if(!e.style.height||e.style.height==="")return;e.style.transition="none",e.style.height="",e.style.overflow="";const t=e.offsetHeight;e.style.height="0px",e.style.overflow="hidden",e.offsetHeight,e.style.transition=`height ${ut}ms ${ht}`,e.style.height=t+"px",e.addEventListener("transitionend",()=>{e.style.height="",e.style.overflow="",e.style.transition=""},{once:!0})}function Ye(){M&&(M.disconnect(),M=null),Z.forEach((e,t)=>t.pause()),Z.clear(),C&&(C.abort(),C=null),T.clear(),Q.forEach(e=>e.classList.remove("active")),Q=[],document.querySelectorAll(".projects-item[data-filter]").forEach(e=>{e.style.height="",e.style.overflow="",e.style.transition=""})}let q=null;function Ke(){const e=document.querySelector(".background-full");if(!e)return;q=e.querySelector("video");const t=document.querySelector(".background-full-poster");if(!q)return;let s=!1;q.addEventListener("timeupdate",()=>{!s&&t&&q.currentTime>0&&(s=!0,t.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",t.style.opacity="0",t.style.pointerEvents="none")}),q.play().catch(()=>{})}function Je(){q&&(q.pause(),q=null)}const tt={home:{init:Ue,cleanup:He},projects:{init:Fe,cleanup:Ye},information:{init:Ke,cleanup:Je}};function dt(){var e;return((e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace)||null}function Ot(){const e=dt();e&&tt[e]&&tt[e].init()}function Xe(){const e=dt();e&&tt[e]&&tt[e].cleanup()}document.addEventListener("DOMContentLoaded",()=>{Ut(),Nt();const e=Ie({initCurrentPage:Ot,cleanupCurrentPage:Xe});Te(e),dt()==="projects"?$e():qe(),Ot()})})();
