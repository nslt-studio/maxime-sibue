(function(){"use strict";const bt="cubic-bezier(0.4, 0, 0.2, 1)";function fe(){const e=`
    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 300ms ${bt};
      will-change: opacity;
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
      will-change: opacity;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 300ms ${bt};
      will-change: opacity;
    }

    .selected-item.active .selected-progress,
    .selected-item.active .selected-cover {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }

    /* === DETAILS - LOADING ANIMATION === */
    @keyframes loading-wave {
      0%, 100% { opacity: 0.15; }
      50%      { opacity: 1;    }
    }

    .loading-letter {
      display: inline-block;
      opacity: 0.15;
      animation: loading-wave 1200ms ease-in-out infinite;
      animation-delay: calc(var(--i) * 120ms);
    }

    /* === DETAILS PAGE === */
    .progress-bar {
      transform-origin: left;
      transition: none !important;
    }

    /* === PROJECT PROGRESS BAR (details page, CSS animation) === */
    .project-progress {
      width: 0;
      transition: width 300ms ${bt};
      will-change: width;
    }

    .project-progress.is-visible {
      width: 100%;
    }
  `,t=document.createElement("style");t.setAttribute("data-maxime-sibue",""),t.textContent=e,document.head.appendChild(t)}const pe=400,me="cubic-bezier(0.4, 0, 0.2, 1)",ge=100,ye=300,Nt="loaderDone";function ve(){if(sessionStorage.getItem(Nt)){Ee();return}const e=document.querySelector(".loader"),t=e?[...e.querySelectorAll(".loader-item")]:[];if(!e||!t.length)return;e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",t.forEach(i=>{i.style.opacity="0"});let n=-1,s=null;function o(i){if(s===null&&(s=i),i-s>=ge&&(n>=0&&(t[n].style.opacity="0"),n++,s=i,n<t.length&&(t[n].style.opacity="1"),n>=t.length-1)){setTimeout(()=>{requestAnimationFrame(()=>requestAnimationFrame(()=>we(e)))},ye);return}requestAnimationFrame(o)}requestAnimationFrame(o)}function we(e){e.style.transition=`height ${pe}ms ${me}`,e.style.height="0px",e.addEventListener("transitionend",()=>{e.remove(),sessionStorage.setItem(Nt,"1")},{once:!0})}function Ee(){const e=document.querySelector(".loader");e&&e.remove()}const kt=new WeakMap;function Lt(e,t,n,s){if(!e&&!kt.has(t))return!1;const o=kt.get(t)??new WeakMap;kt.set(t,o);const i=o.get(n)??new Set;o.set(n,i);const r=i.has(s);return e?i.add(s):i.delete(s),r&&e}function Se(e,t){let n=e.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&e.currentTarget instanceof Node){const s=n.closest(t);if(s&&e.currentTarget.contains(s))return s}}function be(e,t,n,s={}){const{signal:o,base:i=document}=s;if(o!=null&&o.aborted)return;const{once:r,...a}=s,l=i instanceof Document?i.documentElement:i,c=!!(typeof s=="object"?s.capture:s),u=g=>{const h=Se(g,String(e));if(h){const f=Object.assign(g,{delegateTarget:h});n.call(l,f),r&&(l.removeEventListener(t,u,a),Lt(!1,l,n,d))}},d=JSON.stringify({selector:e,type:t,capture:c});Lt(!0,l,n,d)||l.addEventListener(t,u,a),o==null||o.addEventListener("abort",()=>{Lt(!1,l,n,d)})}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},S.apply(null,arguments)}const Mt=(e,t)=>String(e).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||t||"",M=({hash:e}={})=>window.location.pathname+window.location.search+(e?window.location.hash:""),ke=(e,t={})=>{const n=S({url:e=e||M({hash:!0}),random:Math.random(),source:"swup"},t);window.history.pushState(n,"",e)},Y=(e=null,t={})=>{e=e||M({hash:!0});const n=S({},window.history.state||{},{url:e,random:Math.random(),source:"swup"},t);window.history.replaceState(n,"",e)},Le=(e,t,n,s)=>{const o=new AbortController;return s=S({},s,{signal:o.signal}),be(e,t,n,s),{destroy:()=>o.abort()}};let A=class St extends URL{constructor(t,n=document.baseURI){super(t.toString(),n),Object.setPrototypeOf(this,St.prototype)}get url(){return this.pathname+this.search}static fromElement(t){const n=t.getAttribute("href")||t.getAttribute("xlink:href")||"";return new St(n)}static fromUrl(t){return new St(t)}};class ot extends Error{constructor(t,n){super(t),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function Ae(e,t={}){var n;e=A.fromUrl(e).url;const{visit:s=this.visit}=t,o=S({},this.options.requestHeaders,t.headers),i=(n=t.timeout)!=null?n:this.options.timeout,r=new AbortController,{signal:a}=r;t=S({},t,{headers:o,signal:a});let l,c=!1,u=null;i&&i>0&&(u=setTimeout(()=>{c=!0,r.abort("timeout")},i));try{l=await this.hooks.call("fetch:request",s,{url:e,options:t},(w,{url:m,options:E})=>fetch(m,E)),u&&clearTimeout(u)}catch(w){throw c?(this.hooks.call("fetch:timeout",s,{url:e}),new ot(`Request timed out: ${e}`,{url:e,timedOut:c})):(w==null?void 0:w.name)==="AbortError"||a.aborted?new ot(`Request aborted: ${e}`,{url:e,aborted:!0}):w}const{status:d,url:p}=l,g=await l.text();if(d===500)throw this.hooks.call("fetch:error",s,{status:d,response:l,url:p}),new ot(`Server error: ${p}`,{status:d,url:p});if(!g)throw new ot(`Empty response: ${p}`,{status:d,url:p});const{url:h}=A.fromUrl(p),f={url:h,html:g};return!s.cache.write||t.method&&t.method!=="GET"||e!==h||this.cache.set(f.url,f),f}class qe{constructor(t){this.swup=void 0,this.pages=new Map,this.swup=t}get size(){return this.pages.size}get all(){const t=new Map;return this.pages.forEach((n,s)=>{t.set(s,S({},n))}),t}has(t){return this.pages.has(this.resolve(t))}get(t){const n=this.pages.get(this.resolve(t));return n&&S({},n)}set(t,n){n=S({},n,{url:t=this.resolve(t)}),this.pages.set(t,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(t,n){t=this.resolve(t);const s=S({},this.get(t),n,{url:t});this.pages.set(t,s)}delete(t){this.pages.delete(this.resolve(t))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(t){this.pages.forEach((n,s)=>{t(s,n)&&this.delete(s)})}resolve(t){const{url:n}=A.fromUrl(t);return this.swup.resolveUrl(n)}}const At=(e,t=document)=>t.querySelector(e),qt=(e,t=document)=>Array.from(t.querySelectorAll(e)),Ft=()=>new Promise(e=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})});function Vt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function $e(e,t=[]){return new Promise((n,s)=>{const o=e(...t);Vt(o)?o.then(n,s):n(o)})}function Rt(e,t){const n=e==null?void 0:e.closest(`[${t}]`);return n!=null&&n.hasAttribute(t)?(n==null?void 0:n.getAttribute(t))||!0:void 0}class Pe{constructor(t){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=t}get selectors(){const{scope:t}=this.swup.visit.animation;return t==="containers"?this.swup.visit.containers:t==="html"?["html"]:Array.isArray(t)?t:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?qt(this.selector):[]}add(...t){this.targets.forEach(n=>n.classList.add(...t))}remove(...t){this.targets.forEach(n=>n.classList.remove(...t))}clear(){this.targets.forEach(t=>{const n=t.className.split(" ").filter(s=>this.isSwupClass(s));t.classList.remove(...n)})}isSwupClass(t){return this.swupClasses.some(n=>t.startsWith(n))}}class Bt{constructor(t,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:s,from:o,hash:i,el:r,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:o??t.location.url,hash:t.location.hash},this.to={url:s,hash:i},this.containers=t.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:t.options.native,scope:t.options.animationScope,selector:t.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:t.options.cache,write:t.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(t){this.state<t&&(this.state=t)}abort(){this.state=8}get done(){return this.state>=7}}function Te(e){return new Bt(this,e)}class je{constructor(t){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=t,this.init()}init(){this.hooks.forEach(t=>this.create(t))}create(t){this.registry.has(t)||this.registry.set(t,new Map)}exists(t){return this.registry.has(t)}get(t){const n=this.registry.get(t);if(n)return n;console.error(`Unknown hook '${t}'`)}clear(){this.registry.forEach(t=>t.clear())}on(t,n,s={}){const o=this.get(t);if(!o)return console.warn(`Hook '${t}' not found.`),()=>{};const i=S({},s,{id:o.size+1,hook:t,handler:n});return o.set(n,i),()=>this.off(t,n)}before(t,n,s={}){return this.on(t,n,S({},s,{before:!0}))}replace(t,n,s={}){return this.on(t,n,S({},s,{replace:!0}))}once(t,n,s={}){return this.on(t,n,S({},s,{once:!0}))}off(t,n){const s=this.get(t);s&&n?s.delete(n)||console.warn(`Handler for hook '${t}' not found.`):s&&s.clear()}async call(t,n,s,o){const[i,r,a]=this.parseCallArgs(t,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(t,a);await this.run(l,i,r);const[d]=await this.run(c,i,r,!0);return await this.run(u,i,r),this.dispatchDomEvent(t,i,r),d}callSync(t,n,s,o){const[i,r,a]=this.parseCallArgs(t,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(t,a);this.runSync(l,i,r);const[d]=this.runSync(c,i,r,!0);return this.runSync(u,i,r),this.dispatchDomEvent(t,i,r),d}parseCallArgs(t,n,s,o){return n instanceof Bt||typeof n!="object"&&typeof s!="function"?[n,s,o]:[void 0,n,s]}async run(t,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of t)if(n==null||!n.done){c&&this.off(r,a);try{const u=await $e(a,[n,s,l]);i.push(u)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}runSync(t,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of t)if(n==null||!n.done){c&&this.off(r,a);try{const u=a(n,s,l);i.push(u),Vt(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}getHandlers(t,n){const s=this.get(t);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(s.values()),i=this.sortRegistrations,r=o.filter(({before:d,replace:p})=>d&&!p).sort(i),a=o.filter(({replace:d})=>d).filter(d=>!0).sort(i),l=o.filter(({before:d,replace:p})=>!d&&!p).sort(i),c=a.length>0;let u=[];if(n&&(u=[{id:0,hook:t,handler:n}],c)){const d=a.length-1,{handler:p,once:g}=a[d],h=f=>{const w=a[f-1];return w?(m,E)=>w.handler(m,E,h(f-1)):n};u=[{id:0,hook:t,once:g,handler:p,defaultHandler:h(d)}]}return{found:!0,before:r,handler:u,after:l,replaced:c}}sortRegistrations(t,n){var s,o;return((s=t.priority)!=null?s:0)-((o=n.priority)!=null?o:0)||t.id-n.id||0}dispatchDomEvent(t,n,s){if(n!=null&&n.done)return;const o={hook:t,args:s,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${t}`,{detail:o,bubbles:!0}))}parseName(t){const[n,...s]=t.split(".");return[n,s.reduce((o,i)=>S({},o,{[i]:!0}),{})]}}const Ie=e=>{if(e&&e.charAt(0)==="#"&&(e=e.substring(1)),!e)return null;const t=decodeURIComponent(e);let n=document.getElementById(e)||document.getElementById(t)||At(`a[name='${CSS.escape(e)}']`)||At(`a[name='${CSS.escape(t)}']`);return n||e!=="top"||(n=document.body),n},it="transition",$t="animation";async function Ce({selector:e,elements:t}){if(e===!1&&!t)return;let n=[];if(t)n=Array.from(t);else if(e&&(n=qt(e,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${e}\``);const s=n.map(o=>(function(i){const{type:r,timeout:a,propCount:l}=(function(c){const u=window.getComputedStyle(c),d=rt(u,`${it}Delay`),p=rt(u,`${it}Duration`),g=_t(d,p),h=rt(u,`${$t}Delay`),f=rt(u,`${$t}Duration`),w=_t(h,f),m=Math.max(g,w),E=m>0?g>w?it:$t:null;return{type:E,timeout:m,propCount:E?E===it?p.length:f.length:0}})(i);return!(!r||!a)&&new Promise(c=>{const u=`${r}end`,d=performance.now();let p=0;const g=()=>{i.removeEventListener(u,h),c()},h=f=>{f.target===i&&((performance.now()-d)/1e3<f.elapsedTime||++p>=l&&g())};setTimeout(()=>{p<l&&g()},a+1),i.addEventListener(u,h)})})(o));s.filter(Boolean).length>0?await Promise.all(s):e&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${e}\``)}function rt(e,t){return(e[t]||"").split(", ")}function _t(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>zt(n)+zt(e[s])))}function zt(e){return 1e3*parseFloat(e)}function xe(e,t={},n={}){if(typeof e!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(e,{el:n.el,event:n.event}))return void window.location.assign(e);const{url:s,hash:o}=A.fromUrl(e),i=this.createVisit(S({},n,{to:s,hash:o}));this.performNavigation(i,t)}async function Oe(e,t={}){if(this.navigating){if(this.visit.state>=6)return e.state=2,void(this.onVisitEnd=()=>this.performNavigation(e,t));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=e;const{el:n}=e.trigger;t.referrer=t.referrer||this.location.url,t.animate===!1&&(e.animation.animate=!1),e.animation.animate||this.classes.clear();const s=t.history||Rt(n,"data-swup-history");typeof s=="string"&&["push","replace"].includes(s)&&(e.history.action=s);const o=t.animation||Rt(n,"data-swup-animation");var i,r;typeof o=="string"&&(e.animation.name=o),e.meta=t.meta||{},typeof t.cache=="object"?(e.cache.read=(i=t.cache.read)!=null?i:e.cache.read,e.cache.write=(r=t.cache.write)!=null?r:e.cache.write):t.cache!==void 0&&(e.cache={read:!!t.cache,write:!!t.cache}),delete t.cache;try{await this.hooks.call("visit:start",e,void 0),e.state=3;const a=this.hooks.call("page:load",e,{options:t},async(c,u)=>{let d;return c.cache.read&&(d=this.cache.get(c.to.url)),u.page=d||await this.fetchPage(c.to.url,u.options),u.cache=!!d,u.page});a.then(({html:c})=>{e.advance(5),e.to.html=c,e.to.document=new DOMParser().parseFromString(c,"text/html")});const l=e.to.url+e.to.hash;if(e.history.popstate||(e.history.action==="replace"||e.to.url===this.location.url?Y(l):(this.currentHistoryIndex++,ke(l,{index:this.currentHistoryIndex}))),this.location=A.fromUrl(l),e.history.popstate&&this.classes.add("is-popstate"),e.animation.name&&this.classes.add(`to-${Mt(e.animation.name)}`),e.animation.wait&&await a,e.done||(await this.hooks.call("visit:transition",e,void 0,async()=>{if(!e.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(e,await a);e.advance(4),await this.animatePageOut(e),e.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(e,await a)).finished:await this.renderPage(e,await a),await this.animatePageIn(e)}),e.done))return;await this.hooks.call("visit:end",e,void 0,()=>this.classes.clear()),e.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(e.state=8);e.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(e.to.url+e.to.hash),!0),window.history.back()}finally{delete e.to.document}}const De=async function(e){await this.hooks.call("animation:out:start",e,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",e,{skip:!1},(t,{skip:n})=>{if(!n)return this.awaitAnimations({selector:t.animation.selector})}),await this.hooks.call("animation:out:end",e,void 0)},Ue=function(e){var t;const n=e.to.document;if(!n)return!1;const s=((t=n.querySelector("title"))==null?void 0:t.innerText)||"";document.title=s;const o=qt('[data-swup-persist]:not([data-swup-persist=""])'),i=e.containers.map(r=>{const a=document.querySelector(r),l=n.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return o.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=At(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),i.length===e.containers.length},He=function(e){const t={behavior:"auto"},{target:n,reset:s}=e.scroll,o=n??e.to.hash;let i=!1;return o&&(i=this.hooks.callSync("scroll:anchor",e,{hash:o,options:t},(r,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),s&&!i&&(i=this.hooks.callSync("scroll:top",e,{options:t},(r,{options:a})=>(window.scrollTo(S({top:0,left:0},a)),!0))),i},Ne=async function(e){if(e.done)return;const t=this.hooks.call("animation:in:await",e,{skip:!1},(n,{skip:s})=>{if(!s)return this.awaitAnimations({selector:n.animation.selector})});await Ft(),await this.hooks.call("animation:in:start",e,void 0,()=>{this.classes.remove("is-animating")}),await t,await this.hooks.call("animation:in:end",e,void 0)},Me=async function(e,t){if(e.done)return;e.advance(6);const{url:n}=t;this.isSameResolvedUrl(M(),n)||(Y(n),this.location=A.fromUrl(n),e.to.url=this.location.url,e.to.hash=this.location.hash),await this.hooks.call("content:replace",e,{page:t},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${Mt(s.animation.name)}`))}),await this.hooks.call("content:scroll",e,void 0,()=>this.scrollToContent(e)),await this.hooks.call("page:view",e,{url:this.location.url,title:document.title})},Fe=function(e){var t;if(t=e,!!(t!=null&&t.isSwupPlugin)){if(e.swup=this,!e._checkRequirements||e._checkRequirements())return e._beforeMount&&e._beforeMount(),e.mount(),this.plugins.push(e),this.plugins}else console.error("Not a swup plugin instance",e)};function Ve(e){const t=this.findPlugin(e);if(t)return t.unmount(),t._afterUnmount&&t._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==t),this.plugins;console.error("No such plugin",t)}function Re(e){return this.plugins.find(t=>t===e||t.name===e||t.name===`Swup${String(e)}`)}function Be(e){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),e;const t=this.options.resolveUrl(e);return t&&typeof t=="string"?t.startsWith("//")||t.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),e):t:(console.warn("[swup] options.resolveUrl needs to return a url"),e)}function _e(e,t){return this.resolveUrl(e)===this.resolveUrl(t)}const ze={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(e,{el:t}={})=>!(t==null||!t.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:e=>e,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:e=>{var t;return((t=e.state)==null?void 0:t.source)!=="swup"},timeout:0};class We{get currentPageUrl(){return this.location.url}constructor(t={}){var n,s;this.version="4.8.2",this.options=void 0,this.defaults=ze,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=A.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Fe,this.unuse=Ve,this.findPlugin=Re,this.log=()=>{},this.navigate=xe,this.performNavigation=Oe,this.createVisit=Te,this.delegateEvent=Le,this.fetchPage=Ae,this.awaitAnimations=Ce,this.renderPage=Me,this.replaceContent=Ue,this.animatePageIn=Ne,this.animatePageOut=De,this.scrollToContent=He,this.getAnchorElement=Ie,this.getCurrentUrl=M,this.resolveUrl=Be,this.isSameResolvedUrl=_e,this.options=S({},this.defaults,t),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new qe(this),this.classes=new Pe(this),this.hooks=new je(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(s=window.history.state)==null?void 0:s.index)!=null?n:1,this.enable()}async enable(){var t;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s));for(const[s,o]of Object.entries(this.options.hooks)){const[i,r]=this.hooks.parseName(s);this.hooks.on(i,o,r)}((t=window.history.state)==null?void 0:t.source)!=="swup"&&Y(null,{index:this.currentHistoryIndex}),await Ft(),await this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(t=>this.unuse(t)),await this.hooks.call("disable",void 0,void 0,()=>{const t=document.documentElement;t.classList.remove("swup-enabled"),t.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(t,{el:n,event:s}={}){const{origin:o,url:i,hash:r}=A.fromUrl(t);return o!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(i+r,{el:n,event:s})}handleLinkClick(t){const n=t.delegateTarget,{href:s,url:o,hash:i}=A.fromElement(n);if(this.shouldIgnoreVisit(s,{el:n,event:t}))return;if(this.navigating&&o===this.visit.to.url)return void t.preventDefault();const r=this.createVisit({to:o,hash:i,el:n,event:t});t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?this.hooks.callSync("link:newtab",r,{href:s}):t.button===0&&this.hooks.callSync("link:click",r,{el:n,event:t},()=>{var a;const l=(a=r.from.url)!=null?a:"";t.preventDefault(),o&&o!==l?this.isSameResolvedUrl(o,l)||this.performNavigation(r):i?this.hooks.callSync("link:anchor",r,{hash:i},()=>{Y(o+i),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(Y(o),this.scrollToContent(r))})})}handlePopState(t){var n,s,o,i;const r=(n=(s=t.state)==null?void 0:s.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(t)||this.isSameResolvedUrl(M(),this.location.url))return;const{url:a,hash:l}=A.fromUrl(r),c=this.createVisit({to:a,hash:l,event:t});c.history.popstate=!0;const u=(o=(i=t.state)==null?void 0:i.index)!=null?o:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:t},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(t){return!!t.matches('[download], [target="_blank"]')}}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},X.apply(this,arguments)}const Wt=e=>String(e).split(".").map(t=>String(parseInt(t||"0",10))).concat(["0","0"]).slice(0,3).join(".");class Ge{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(t=>t()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([t,n])=>{if(!(function(s,o,i){const r=(function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var u;const d=l.findPlugin(a);return(u=d==null?void 0:d.version)!=null?u:""}})(s,i);return!!r&&((a,l)=>l.every(c=>{const[,u,d]=c.match(/^([\D]+)?(.*)$/)||[];var p,g;return((h,f)=>{const w={"":m=>m===0,">":m=>m>0,">=":m=>m>=0,"<":m=>m<0,"<=":m=>m<=0};return(w[f]||w[""])(h)})((g=d,p=Wt(p=a),g=Wt(g),p.localeCompare(g,void 0,{numeric:!0})),u||">=")}))(r,o)})(t,n=Array.isArray(n)?n:[n],this.swup)){const s=`${t} ${n.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(t,n,s={}){var o;n=!(o=n).name.startsWith("bound ")||o.hasOwnProperty("prototype")?n.bind(this):n;const i=this.swup.hooks.on(t,n,s);return this.handlersToUnregister.push(i),i}once(t,n,s={}){return this.on(t,n,X({},s,{once:!0}))}before(t,n,s={}){return this.on(t,n,X({},s,{before:!0}))}replace(t,n,s={}){return this.on(t,n,X({},s,{replace:!0}))}off(t,n){return this.swup.hooks.off(t,n)}}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(null,arguments)}function Gt(){return window.matchMedia("(hover: hover)").matches}function lt(e){return!!e&&(e instanceof HTMLAnchorElement||e instanceof SVGAElement)}const Yt=window.requestIdleCallback||(e=>setTimeout(e,1)),Ye=["preloadVisibleLinks"];class Xe extends Ge{constructor(t={}){var n;super(),n=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(i,r,a)=>{const{url:l}=i.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(i,r)},this.onMouseEnter=async function(i){if(i.target!==i.delegateTarget||!Gt())return;const r=i.delegateTarget;if(!lt(r))return;const{url:a,hash:l}=A.fromElement(r),c=n.swup.createVisit({to:a,hash:l,el:r,event:i});n.swup.hooks.callSync("link:hover",c,{el:r,event:i}),n.preload(r,{priority:!0})},this.onTouchStart=i=>{if(Gt())return;const r=i.delegateTarget;lt(r)&&this.preload(r,{priority:!0})},this.onFocus=i=>{const r=i.delegateTarget;lt(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:s}=t,o=(function(i,r){if(i==null)return{};var a={};for(var l in i)if({}.hasOwnProperty.call(i,l)){if(r.includes(l))continue;a[l]=i[l]}return a})(t,Ye);this.options=at({},this.defaults,o),typeof s=="object"?this.options.preloadVisibleLinks=at({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=(function(i=1){const r=[],a=[];let l=0,c=0;function u(){c<i&&l>0&&((a.shift()||r.shift()||(()=>{}))(),l--,c++)}return{add:function(d,p=!1){if(d.__queued){if(!p)return;{const g=r.indexOf(d);if(g>=0){const h=r.splice(g,1);l-=h.length}}}d.__queued=!0,(p?a:r).push(d),l++,l<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const t=this.swup;t.options.cache?(t.hooks.create("page:preload"),t.hooks.create("link:hover"),t.preload=this.preload,t.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(M())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var t,n,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(t=this.mouseEnterDelegate)==null||t.destroy(),(n=this.touchStartDelegate)==null||n.destroy(),(s=this.focusDelegate)==null||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(t,n={}){var s;let o,i;const r=(s=n.priority)!=null&&s;if(Array.isArray(t))return Promise.all(t.map(l=>this.preload(l)));if(lt(t))i=t,{href:o}=A.fromElement(t);else{if(typeof t!="string")return;o=t}if(!o)return;if(this.swup.cache.has(o))return this.swup.cache.get(o);if(this.preloadPromises.has(o))return this.preloadPromises.get(o);if(!this.shouldPreload(o,{el:i}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(o).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(o)})},r)});return this.preloadPromises.set(o,a),a}preloadLinks(){Yt(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(t=>this.preload(t))})}preloadLinksOnAttention(){const{swup:t}=this,{linkSelector:n}=t.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=t.delegateEvent(n,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=t.delegateEvent(n,"touchstart",this.onTouchStart,s),this.focusDelegate=t.delegateEvent(n,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:t,delay:n,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:o,delay:i,containers:r,callback:a,filter:l}){const c=new Map,u=new IntersectionObserver(h=>{h.forEach(f=>{f.isIntersecting?d(f.target):p(f.target)})},{threshold:o}),d=h=>{var f;const{href:w}=A.fromElement(h),m=(f=c.get(w))!=null?f:new Set;c.set(w,m),m.add(h),setTimeout(()=>{const E=c.get(w);E!=null&&E.size&&(a(h),u.unobserve(h),E.delete(h))},i)},p=h=>{var f;const{href:w}=A.fromElement(h);(f=c.get(w))==null||f.delete(h)},g=()=>{Yt(()=>{const h=r.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(h)).filter(f=>l(f)).forEach(f=>u.observe(f))})};return{start:()=>g(),stop:()=>u.disconnect(),update:()=>(c.clear(),g())}})({threshold:t,delay:n,containers:s,callback:o=>this.preload(o),filter:o=>{if(this.options.preloadVisibleLinks.ignore(o)||!o.matches(this.swup.options.linkSelector))return!1;const{href:i}=A.fromElement(o);return this.shouldPreload(i,{el:o})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(t,{el:n}={}){const{url:s,href:o}=A.fromUrl(t);return!(!(function(){if(navigator.connection){var i;if(navigator.connection.saveData||(i=navigator.connection.effectiveType)!=null&&i.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(o,{el:n})||n&&this.swup.resolveUrl(s)===this.swup.resolveUrl(M()))}async performPreload(t){var n=this;const{url:s}=A.fromUrl(t),o=this.swup.createVisit({to:s});return await this.swup.hooks.call("page:preload",o,{url:s},async function(r,a){return a.page=await n.swup.fetchPage(t,{visit:r}),a.page})}}const q=e=>new Promise(t=>setTimeout(t,e));function Xt(e){const t=Math.floor(e/60),n=Math.floor(e%60),s=Math.floor(e%1*1e3);return String(t).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const y=300,j=50,I="cubic-bezier(0.4, 0, 0.2, 1)";function Pt(){var e;return((e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace)||null}function K(){return new Promise(e=>requestAnimationFrame(()=>requestAnimationFrame(e)))}function J(){var s;const e=document.querySelector('[data-link="projects"]'),t=(s=e==null?void 0:e.parentElement)==null?void 0:s.querySelector(".categories"),n=t?[...t.querySelectorAll(".categories-item")]:[];return{projectsLink:e,categories:t,items:n}}async function ct(e){const t=document.querySelector(e);t&&(t.style.opacity="1",t.style.transition=`transform ${y}ms ${I}`,t.style.transform="translateY(100%)",await q(y))}async function Z(e){const t=document.querySelector(e);t&&(t.style.opacity="1",t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${y}ms ${I}`,t.style.transform="translateY(0%)",await q(y))}async function Tt(e){const t=document.querySelector(e);t&&(t.style.transition=`opacity ${y}ms ${I}`,t.offsetHeight,t.style.opacity="0",t.style.pointerEvents="none",await q(y))}async function jt(e){const t=document.querySelector(e);t&&(t.style.transition="none",t.style.opacity="0",await K(),t.style.transition=`opacity ${y}ms ${I}`,t.style.opacity="1",t.style.pointerEvents="",await q(y))}async function Kt(){const{categories:e,items:t}=J();!e||!t.length||(t.forEach(n=>{n.getAnimations().forEach(s=>s.cancel()),n.style.transition="none",n.style.opacity="0"}),await K(),e.style.pointerEvents="auto",t.forEach((n,s)=>{const o=s*j;n.style.transition=`opacity ${y}ms ${I} ${o}ms`,n.style.opacity="1"}),await q(y+(t.length-1)*j))}async function Jt(){const{categories:e,items:t}=J();!e||!t.length||(t.forEach(n=>{n.getAnimations().forEach(s=>s.cancel()),n.style.transition="none",n.style.opacity="1"}),await K(),e.style.pointerEvents="none",t.forEach((n,s)=>{const o=Math.max(1,s*j);n.style.transition=`opacity ${y}ms ${I} ${o}ms`,n.style.opacity="0"}),await q(y+(t.length-1)*j))}async function Ke(){const e=Tt('[data-link="projects"]');await q(y/2);const t=Kt();await Promise.all([e,t])}async function Je(){await Jt(),await jt('[data-link="projects"]')}function Ze(){const{projectsLink:e,categories:t,items:n}=J();!e||!t||(e.style.transition="none",e.style.opacity="0",e.style.pointerEvents="none",t.style.pointerEvents="auto",n.forEach(s=>{s.getAnimations().forEach(o=>o.cancel()),s.style.transition="none",s.style.opacity="1"}))}function It(){const{projectsLink:e,categories:t,items:n}=J();!e||!t||(e.style.transition="none",e.style.opacity="1",e.style.pointerEvents="",t.style.pointerEvents="none",n.forEach(s=>{s.getAnimations().forEach(o=>o.cancel()),s.style.transition="none",s.style.opacity="0"}))}function Qe(){const e=document.querySelector(".nav");e&&(e.style.transition="none",e.style.opacity="0",e.style.pointerEvents="none")}async function tn(){const e=document.querySelector(".project-progress");e&&(e.classList.remove("is-visible"),await q(2*y))}async function en(){const e=[...document.querySelectorAll(".project-index-item")];e.length&&(e.forEach((t,n)=>{const s=Math.max(1,n*j);t.style.transition=`transform ${y}ms ${I} ${s}ms, opacity ${y}ms ${I} ${s}ms`,t.style.transform="translateX(-12px)",t.style.opacity="0"}),await q(y+(e.length-1)*j))}async function nn(){const e=[...document.querySelectorAll(".project-index-item")];e.length&&(e.forEach((t,n)=>{const s=n*j;t.style.transition=`transform ${y}ms ${I} ${s}ms, opacity ${y}ms ${I} ${s}ms`,t.style.transform="translateX(0)",t.style.opacity="0.4"}),await q(y+(e.length-1)*j),e.forEach(t=>{t.style.transition="",t.style.transform="",t.style.opacity=""}))}function Ct(){const e=document.querySelector(".project-header");if(!e)return null;const t=e.querySelector(".vert-flex"),n=e.querySelector("#services"),s=e.querySelector("#close"),o=t?[...t.children]:[],i=n?[...n.children]:[];return{header:e,col1:o,col2:i,col3:s?[s]:[]}}async function sn(){const e=Ct();if(!e)return;const{col1:t,col2:n,col3:s}=e;[t,n,s].forEach(i=>{i.forEach((r,a)=>{const l=Math.max(1,a*j);r.style.transition=`opacity ${y}ms ${I} ${l}ms`,r.style.opacity="0"})});const o=Math.max(t.length,n.length,s.length,1);await q(y+(o-1)*j)}async function on(){const e=Ct();if(!e)return;const{header:t,col1:n,col2:s,col3:o}=e,i=[...n,...s,...o];if(!i.length)return;t.style.transition="none",t.style.opacity="1",i.forEach(a=>{a.style.transition="none",a.style.opacity="0"}),await K(),[n,s,o].forEach(a=>{a.forEach((l,c)=>{const u=Math.max(1,c*j);l.style.transition=`opacity ${y}ms ${I} ${u}ms`,l.style.opacity="1"})});const r=Math.max(n.length,s.length,o.length);r>0&&await q(y+(r-1)*j)}function Zt(e){const t=document.querySelector(".nav"),n=document.querySelector(".copyrights");e==="details"?t&&(t.style.opacity="0",t.style.pointerEvents="none"):(t&&(t.style.transition="",t.style.opacity="1",t.style.pointerEvents=""),n&&(n.style.transform="",n.style.transition=""))}function rn(e){const t=e.trigger.el;if(t)return{goingToProjects:!!t.closest('[data-link="projects"]'),goingToHome:!!t.closest('[data-link="home"]'),goingToInfo:!!t.closest('[data-link="information"]'),goingToDetails:!!t.closest('[data-page="details"]')||!t.closest("[data-link]")&&!t.closest("#close")};const n=(e.to.url||"").replace(/\/$/,"")||"/";return{goingToProjects:n==="/projects",goingToHome:n==="/",goingToInfo:n==="/informations",goingToDetails:n.startsWith("/projects/")}}function an({initCurrentPage:e,cleanupCurrentPage:t,freezeCurrentPage:n,startCurrentPage:s}){const o=new We({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new Xe]});o.hooks.on("visit:start",d=>{d.trigger.el||(d.animation.animate=!0)});let i=!1,r=!1,a=!1,l=null,c=null,u=null;return o.hooks.before("content:replace",()=>{t()}),o.hooks.on("content:replace",()=>{const d=Pt();d==="details"&&c!=="details"&&(l=c,window.__detailsEnteredFrom=c,window.__detailsReturnUrl=u||"/"),r&&d!=="details"&&(l=null,window.__detailsEnteredFrom=null,window.__detailsReturnUrl=null),e()}),o.hooks.replace("animation:out:await",async(d,p,g)=>{n();const h=Pt();c=h,u=d.from.url;const{goingToProjects:f,goingToHome:w,goingToDetails:m,goingToInfo:E}=rn(d);i=h==="projects"&&!f,r=h==="details";const P=h==="projects"||h==="information",G=document.querySelector(".footer"),Et=G?G.getBoundingClientRect().top<window.innerHeight:!1,Ht=P&&(w||m||h==="information"&&f||h==="projects"&&E&&!Et);if(a=h==="home"&&!m||h==="information"&&f||h==="projects"&&E&&!Et,r){await Promise.all([g(d,p),sn(),tn(),en(),...l==="projects"?[ct(".video-controls")]:[]]);return}const O=[g(d,p)];h==="home"&&!m&&O.push(ct(".video-controls")),Ht&&O.push(ct(".footer")),f&&!r&&O.push(Ke()),i&&!m&&O.push(Je()),m&&(h==="home"||h==="projects")&&O.push(ct(".copyrights")),m&&(h==="projects"?O.push((async()=>{const Wn=Jt();await q(y/2);const Gn=Tt(".nav");await Promise.all([Wn,Gn])})()):O.push(Tt(".nav"))),await Promise.all(O)}),o.hooks.replace("animation:in:await",async(d,p,g)=>{const h=Pt(),f=h==="projects"||h==="information";function w(E){const P=document.querySelector(E);P&&(P.style.opacity="1",P.style.transition="none",P.style.transform="translateY(100%)")}if(h==="details"){const E=Ct();if(E){const{header:P,col1:G,col2:Et,col3:Ht}=E;P.style.transition="none",P.style.opacity="1",[...G,...Et,...Ht].forEach(O=>{O.style.transition="none",O.style.opacity="0"})}document.querySelectorAll(".project-index-item").forEach(P=>{P.style.transition="none",P.style.transform="translateX(-12px)",P.style.opacity="0"}),l==="projects"&&w(".video-controls"),await K(),await Promise.all([g(d,p),on(),nn(),...l==="projects"?[Z(".video-controls")]:[]]),Zt(h),r=!1,s();return}h==="home"&&!r&&w(".video-controls"),f&&a&&w(".footer"),r&&(h==="home"||h==="projects")&&w(".copyrights");const m=[g(d,p)];if(h==="home"&&!r&&m.push(Z(".video-controls")),f&&a&&m.push(Z(".footer")),r&&(h==="home"||h==="projects")&&m.push(Z(".copyrights")),r&&h!=="details"){if(h==="projects"){const{projectsLink:E}=J();E&&(E.style.transition="none",E.style.opacity="0",E.style.pointerEvents="none"),m.push((async()=>{const P=jt(".nav");await q(y/2);const G=Kt();await Promise.all([P,G])})())}else It(),m.push(jt(".nav"));f&&m.push(Z(".footer"))}await Promise.all(m),Zt(h),r=!1,s()}),o}let ut=null;function ln(e){Qt(),te(),e.hooks.on("page:view",()=>{Qt()}),e.hooks.before("content:replace",()=>{cn()}),e.hooks.on("content:replace",()=>{te()})}function Qt(){var t;const e=(t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace;document.querySelectorAll("[data-link]").forEach(n=>{const s=n.dataset.link===e;n.classList.toggle("w--current",s),n.classList.toggle("is-active",s)})}function te(){const e=document.querySelector("#currentYear"),t=document.querySelector("#currentTime");if(e&&(e.textContent=new Date().getFullYear()),t){const n=()=>{t.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};n(),ut=setInterval(n,1e3)}}function cn(){ut&&(clearInterval(ut),ut=null)}const un=200,hn="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)";let b=[],C=[],ee=[],k=-1,B=!0,D=!1,xt=!1,ht="",dt=null,ft=null,v=null,_=-1,F=!1;function dn(){v=document.querySelector(".selected-list"),b=v?[...v.querySelectorAll(".selected-item")]:[],!(!v||!b.length)&&(b.forEach((e,t)=>{const n=e.querySelector(".selected-full video");if(!n)return;n.removeAttribute("loop"),n.muted=!0,C[t]=n;const s=e.querySelector(".selected-full-poster");ee[t]=s,n.addEventListener("canplay",()=>{s&&s.style.opacity!=="0"&&(s.style.transition=hn,s.style.opacity="0",s.style.pointerEvents="none")}),n.addEventListener("ended",()=>{t===k&&yn((t+1)%b.length)}),n.addEventListener("playing",()=>{t===k&&(F=!0)}),n.addEventListener("waiting",()=>{t===k&&(F=!1)}),n.addEventListener("pause",()=>{t===k&&(F=!1)})}),v.addEventListener("scroll",oe,{passive:!0}),v.addEventListener("wheel",se,{passive:!1}),b.forEach((e,t)=>e.addEventListener("click",()=>ne(t))),wn(),vn(),pt(0))}function fn(){const e=C[k];e&&e.pause(),F=!1}function pn(){xt=!0;const e=C[k];e&&!D&&e.play().catch(()=>{e.addEventListener("canplay",()=>{k>=0&&!D&&e.play().catch(()=>{})},{once:!0})})}function mn(){cancelAnimationFrame(dt),cancelAnimationFrame(ft),C.forEach(e=>{e&&(e.pause(),e.querySelectorAll("source").forEach(t=>t.removeAttribute("src")),e.load())}),C=[],ee=[],v==null||v.removeEventListener("scroll",oe),v==null||v.removeEventListener("wheel",se),b=[],v=null,k=-1,_=-1,D=!1,B=!0,F=!1,xt=!1,dt=null}function ne(e){if(!v||!b[e])return;_=e,b.forEach((s,o)=>s.classList.toggle("active",o===e)),v.scrollTo({left:b[e].offsetLeft-v.offsetLeft,behavior:"smooth"});let t=null;const n=()=>{clearTimeout(t),t=setTimeout(()=>{v.removeEventListener("scroll",n),_=-1,pt(e)},100)};v.addEventListener("scroll",n,{passive:!0})}let Ot=!1;function se(e){if(!v||Math.abs(e.deltaY)<=Math.abs(e.deltaX)||(e.preventDefault(),Ot))return;const t=e.deltaY>0?1:-1,n=k+t;n<0||n>=b.length||(Ot=!0,ne(n),setTimeout(()=>{Ot=!1},600))}function oe(){ft||(ft=requestAnimationFrame(()=>{gn(),ft=null}))}function gn(){if(!v||!b.length||_>=0)return;const e=v.getBoundingClientRect().left;let t=0,n=1/0;b.forEach((s,o)=>{const i=Math.abs(s.getBoundingClientRect().left-e);i<n&&(n=i,t=o)}),n<un&&t!==k&&pt(t)}function yn(e){if(!v||!b[e])return;_=e,v.scrollTo({left:b[e].offsetLeft-v.offsetLeft,behavior:"smooth"}),D=!1;const t=document.querySelector('[data-controls="pause"]');t&&ht&&(t.textContent=ht);let n=null;const s=()=>{clearTimeout(n),n=setTimeout(()=>{v.removeEventListener("scroll",s),_=-1,pt(e)},100)};v.addEventListener("scroll",s,{passive:!0})}function pt(e){var s,o;if(e===k)return;const t=k;if(k=e,b.forEach((i,r)=>i.classList.toggle("active",r===e)),t>=0){const i=C[t];i&&(i.pause(),i.currentTime=0);const r=(s=b[t])==null?void 0:s.querySelector(".selected-progress");r&&(r.style.left="0%");const a=(o=b[t])==null?void 0:o.querySelector(".selected-cover");a&&a.style.setProperty("--progress","0%")}F=!1,ie(0,0);const n=C[e];n&&(n.muted=B,xt&&!D&&n.play().catch(()=>{n.addEventListener("canplay",()=>{k===e&&!D&&n.play().catch(()=>{})},{once:!0})}));for(let i=1;i<=2;i++){const r=(e+i)%b.length;if(r===e)continue;const a=C[r];a&&a.readyState<=1&&a.load()}}function vn(){function e(){if(k>=0&&F){const t=C[k];t&&t.duration>0&&ie(t.currentTime/t.duration,t.currentTime)}dt=requestAnimationFrame(e)}dt=requestAnimationFrame(e)}function ie(e,t){const n=b[k];if(!n)return;const s=`${(e*100).toFixed(2)}%`,o=n.querySelector(".selected-progress");o&&(o.style.left=s);const i=n.querySelector(".selected-cover");i&&i.style.setProperty("--progress",s);const r=document.querySelector("#videoDuration");r&&(r.textContent=Xt(t))}function wn(){const e=document.querySelector('[data-controls="pause"]');e&&(ht=e.textContent,e.addEventListener("click",En));const t=document.querySelector('[data-controls="muted"]');t&&t.addEventListener("click",Sn)}function En(){const e=C[k],t=document.querySelector('[data-controls="pause"]');!e||!t||(D=!D,D?(e.pause(),t.textContent="Jouer"):(e.play(),t.textContent=ht))}function Sn(){const e=document.querySelector('[data-controls="muted"]');if(!e)return;B=!B,e.classList.toggle("active",B);const t=C[k];t&&(t.muted=B)}const mt=300,re="cubic-bezier(0.4, 0, 0.2, 1)";let V=null,Q=[],R=null,tt=null,gt=!1,yt=[];function bn(){const e=document.querySelectorAll(".projects-item");if(!e.length)return;yt=[...e],R&&R.abort(),R=new AbortController;const t=R.signal;Q=[...document.querySelectorAll(".categories-button[data-categories]")],Q.forEach(n=>{n.classList.remove("active"),n.addEventListener("click",()=>An(n),{signal:t})}),V=null,document.querySelectorAll(".projects-item[data-filter]").forEach(n=>{n.style.display=""}),yt.forEach(n=>{const s=n.querySelector(".projects-cover-inner video"),o=n.querySelector(".projects-cover-inner .projects-cover-poster");if(!s)return;let i=!1;s.addEventListener("playing",()=>{!i&&o&&(i=!0,o.style.transition=`opacity ${mt}ms ${re}`,o.style.opacity="0",o.style.pointerEvents="none")},{signal:t})})}function kn(){document.querySelectorAll(".projects-cover-inner video").forEach(e=>e.pause())}function Ln(){tt=new IntersectionObserver(e=>{e.forEach(t=>{const n=t.target.querySelector(".projects-cover-inner video");t.isIntersecting?n&&n.play().catch(()=>{}):n&&n.pause()})},{threshold:0}),yt.forEach(e=>tt.observe(e))}async function An(e){if(gt)return;gt=!0;const t=e.dataset.categories,n=document.querySelector(".projects-list");V===t?(V=null,e.classList.remove("active")):(Q.forEach(s=>s.classList.remove("active")),V=t,e.classList.add("active")),n&&(n.style.transition=`opacity ${mt}ms ${re}`,n.style.opacity="0",await q(mt)),document.querySelectorAll(".projects-item[data-filter]").forEach(s=>{const o=!V||V===s.dataset.filter;s.style.display=o?"":"none"}),n&&(n.style.opacity="1",await q(mt),n.style.transition=""),gt=!1}function qn(){document.querySelectorAll(".projects-cover-inner video").forEach(t=>{t.pause(),t.querySelectorAll("source").forEach(n=>n.removeAttribute("src")),t.load()}),tt&&(tt.disconnect(),tt=null),R&&(R.abort(),R=null),V=null,gt=!1,Q.forEach(t=>t.classList.remove("active")),Q=[],yt=[],document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.display="",t.style.opacity="",t.style.pointerEvents=""});const e=document.querySelector(".projects-list");e&&(e.style.opacity="",e.style.transition="")}let T=null;function $n(){const e=document.querySelector(".background-full");if(!e)return;T=e.querySelector("video");const t=document.querySelector(".background-full-poster");if(!T)return;let n=!1;T.addEventListener("timeupdate",()=>{!n&&t&&T.currentTime>0&&(n=!0,t.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",t.style.opacity="0",t.style.pointerEvents="none")})}function Pn(){T&&T.pause()}function Tn(){T&&T.play().catch(()=>{T.addEventListener("canplay",()=>T.play().catch(()=>{}),{once:!0})})}function jn(){T&&(T.pause(),T=null)}const ae=300,le="cubic-bezier(0.4, 0, 0.2, 1)";let $=[],L=-1,z=!0,U=!1,vt=!1,ce="",wt=null,H=!1,et=null,x=null,nt=[],st=[],Dt=!1;function In(){x=new AbortController;const e=x.signal;Bn(),$=[...document.querySelectorAll("#swup video")],nt=[...document.querySelectorAll("[project-item]")],st=[...document.querySelectorAll(".project-index-item[project-index]")],st.forEach(s=>{s.addEventListener("click",()=>{const o=s.getAttribute("project-index"),i=nt.find(c=>c.getAttribute("project-item")===o);if(!i)return;Dt=!0,ue(o),i.scrollIntoView({behavior:"smooth",block:"start"});let r=null;const a=i.closest(".project-item-wrapper")||window,l=()=>{clearTimeout(r),r=setTimeout(()=>{a.removeEventListener("scroll",l),Dt=!1},150)};a.addEventListener("scroll",l,{passive:!0})},{signal:e})}),Vn(e),$.forEach((s,o)=>{s.muted=!0,s.preload="metadata",s.style.opacity="0",s.style.transition=`opacity ${ae}ms ${le}`;const i=()=>{s.style.opacity="1"};s.readyState>=2?i():(s.addEventListener("loadeddata",i,{once:!0,signal:e}),s.addEventListener("playing",i,{once:!0,signal:e})),s.addEventListener("playing",()=>{o===L&&(H=!0)},{signal:e}),s.addEventListener("waiting",()=>{o===L&&(H=!1)},{signal:e}),s.addEventListener("pause",()=>{o===L&&(H=!1)},{signal:e}),s.addEventListener("ended",()=>{o===L&&(H=!1)},{signal:e})}),et=new IntersectionObserver(s=>{s.forEach(o=>{const i=o.target,r=i.getAttribute("project-item"),a=i.querySelector("video"),l=a?$.indexOf(a):-1;o.isIntersecting?(Dt||r&&ue(r),l!==-1&&(l===L?a&&a.paused&&!U&&vt&&a.play().catch(()=>{}):Dn(l))):(a&&a.pause(),l===L&&(H=!1))})},{threshold:.5}),nt.forEach(s=>et.observe(s)),Hn(e),Fn(e),Un(),Rn();const t=document.querySelector(".progress-bar");t&&(t.style.transformOrigin="left",t.style.transform="scaleX(0)");const n=document.querySelector(".project-progress");n&&(n.classList.remove("is-visible"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.add("is-visible")})}))}function Cn(){const e=$[L];e&&e.pause(),H=!1}function xn(){vt=!0;const e=$[L];e&&!U&&(e.readyState===0&&e.load(),e.play().catch(()=>{e.addEventListener("canplay",()=>{L>=0&&!U&&e.play().catch(()=>{})},{once:!0,signal:x==null?void 0:x.signal})}))}function On(){cancelAnimationFrame(wt),et&&(et.disconnect(),et=null),x&&(x.abort(),x=null),$.forEach(t=>{t.pause(),t.querySelectorAll("source").forEach(n=>n.removeAttribute("src")),t.load()});const e=document.querySelector(".project-progress");e&&e.classList.remove("is-visible"),st.forEach(t=>{t.classList.remove("active"),t.style.opacity="",t.style.transform="",t.style.transition=""}),st=[],nt=[],$=[],L=-1,U=!1,z=!0,H=!1,vt=!1,wt=null}function ue(e){st.forEach(t=>{t.classList.toggle("active",t.getAttribute("project-index")===e)})}function Dn(e){if(e===L)return;const t=L;L=e,t>=0&&$[t]&&$[t].pause(),H=!1,Ut(0,0);const n=$[e];n&&(n.muted=z,vt&&!U&&(n.readyState===0&&n.load(),n.play().catch(()=>{n.addEventListener("canplay",()=>{L===e&&!U&&n.play().catch(()=>{})},{once:!0,signal:x==null?void 0:x.signal})})));const s=$[e+1];s&&s.readyState<=1&&s.load()}function Un(){function e(){if(L>=0&&H){const t=$[L];t&&t.duration>0&&Ut(t.currentTime/t.duration,t.currentTime)}wt=requestAnimationFrame(e)}wt=requestAnimationFrame(e)}function Ut(e,t){const n=document.querySelector(".progress-bar");n&&(n.style.transform=`scaleX(${e})`);const s=document.querySelector("#videoDuration");s&&(s.textContent=Xt(t))}function Hn(e){const t=document.querySelector('[data-controls="pause"]');t&&(ce=t.textContent,t.addEventListener("click",Nn,{signal:e}));const n=document.querySelector('[data-controls="muted"]');n&&n.addEventListener("click",Mn,{signal:e})}function Nn(){const e=$[L],t=document.querySelector('[data-controls="pause"]');!e||!t||(U=!U,U?(e.pause(),t.textContent="Jouer"):(e.play(),t.textContent=ce))}function Mn(){const e=document.querySelector('[data-controls="muted"]');if(!e)return;z=!z,e.classList.toggle("active",z);const t=$[L];t&&(t.muted=z)}function Fn(e){const t=document.querySelector(".project-progress");t&&t.addEventListener("click",n=>{const s=t.getBoundingClientRect(),o=Math.max(0,Math.min(1,(n.clientX-s.left)/s.width)),i=$[L];i&&i.duration&&(i.currentTime=o*i.duration,Ut(o,i.currentTime))},{signal:e})}function Vn(e){nt.forEach(t=>{const n=[...t.querySelectorAll("p")].find(r=>r.textContent.trim()==="Chargement");if(!n)return;const s=[...n.textContent],o=s.length;n.innerHTML=s.map((r,a)=>`<span class="loading-letter" style="--i:${a};--n:${o}">${r}</span>`).join("");const i=t.querySelector("video");i&&i.addEventListener("playing",()=>{n.style.transition=`opacity ${ae}ms ${le}`,n.style.opacity="0"},{once:!0,signal:e})})}function Rn(){const e=document.querySelector("#close");e&&e.setAttribute("href",window.__detailsReturnUrl||"/")}function Bn(){const e=document.querySelector("#services");if(!e)return;const t=e.textContent.split(",").map(n=>n.trim()).filter(Boolean);e.innerHTML=t.map(n=>`<span style="display:block">${n}</span>`).join("")}const N={home:{init:dn,cleanup:mn,freeze:fn,start:pn},projects:{init:bn,cleanup:qn,freeze:kn,start:Ln},information:{init:$n,cleanup:jn,freeze:Pn,start:Tn},details:{init:In,cleanup:On,freeze:Cn,start:xn}};function W(){var e;return((e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace)||null}function he(){const e=W();e&&N[e]&&N[e].init()}function _n(){const e=W();e&&N[e]&&N[e].cleanup()}function zn(){var t;const e=W();e&&((t=N[e])!=null&&t.freeze)&&N[e].freeze()}function de(){var t;const e=W();e&&((t=N[e])!=null&&t.start)&&N[e].start()}document.addEventListener("DOMContentLoaded",()=>{fe(),ve();const e=an({initCurrentPage:he,cleanupCurrentPage:_n,freezeCurrentPage:zn,startCurrentPage:de});ln(e),W()==="projects"?Ze():W()==="details"?(It(),Qe()):It(),he(),de()})})();
