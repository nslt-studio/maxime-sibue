(function(){"use strict";const gt="cubic-bezier(0.4, 0, 0.2, 1)";function se(){const t=`
    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 300ms ${gt};
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 300ms ${gt};
    }

    .selected-item.active .selected-progress,
    .selected-item.active .selected-cover {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }

    /* === DETAILS PAGE === */
    .progress-bar {
      transform-origin: left;
    }

    /* === PROJECT PROGRESS BAR (details page, CSS animation) === */
    .project-progress {
      width: 0;
      transition: width 600ms ${gt};
    }

    .project-progress.is-visible {
      width: 100%;
    }
  `,e=document.createElement("style");e.setAttribute("data-maxime-sibue",""),e.textContent=t,document.head.appendChild(e)}const oe=400,ie="cubic-bezier(0.4, 0, 0.2, 1)",re=100,ae=300,At="loaderDone";function le(){if(sessionStorage.getItem(At)){ue();return}const t=document.querySelector(".loader"),e=t?[...t.querySelectorAll(".loader-item")]:[];if(!t||!e.length)return;e.forEach(o=>{o.style.opacity="0"});let n=0;const s=setInterval(()=>{n>0&&(e[n-1].style.opacity="0"),e[n].style.opacity="1",n++,n>=e.length&&(clearInterval(s),setTimeout(()=>ce(t),ae))},re)}function ce(t){const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${oe}ms ${ie}`,t.style.height="0px",t.addEventListener("transitionend",()=>{t.style.display="none",sessionStorage.setItem(At,"1")},{once:!0})}function ue(){const t=document.querySelector(".loader");t&&(t.style.display="none")}const yt=new WeakMap;function vt(t,e,n,s){if(!t&&!yt.has(e))return!1;const o=yt.get(e)??new WeakMap;yt.set(e,o);const i=o.get(n)??new Set;o.set(n,i);const r=i.has(s);return t?i.add(s):i.delete(s),r&&t}function he(t,e){let n=t.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&t.currentTarget instanceof Node){const s=n.closest(e);if(s&&t.currentTarget.contains(s))return s}}function de(t,e,n,s={}){const{signal:o,base:i=document}=s;if(o!=null&&o.aborted)return;const{once:r,...a}=s,l=i instanceof Document?i.documentElement:i,c=!!(typeof s=="object"?s.capture:s),u=g=>{const p=he(g,String(t));if(p){const f=Object.assign(g,{delegateTarget:p});n.call(l,f),r&&(l.removeEventListener(e,u,a),vt(!1,l,n,d))}},d=JSON.stringify({selector:t,type:e,capture:c});vt(!0,l,n,d)||l.addEventListener(e,u,a),o==null||o.addEventListener("abort",()=>{vt(!1,l,n,d)})}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},S.apply(null,arguments)}const Tt=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",H=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),fe=(t,e={})=>{const n=S({url:t=t||H({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(n,"",t)},z=(t=null,e={})=>{t=t||H({hash:!0});const n=S({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(n,"",t)},pe=(t,e,n,s)=>{const o=new AbortController;return s=S({},s,{signal:o.signal}),de(t,e,n,s),{destroy:()=>o.abort()}};let E=class mt extends URL{constructor(e,n=document.baseURI){super(e.toString(),n),Object.setPrototypeOf(this,mt.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const n=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new mt(n)}static fromUrl(e){return new mt(e)}};class tt extends Error{constructor(e,n){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function me(t,e={}){var n;t=E.fromUrl(t).url;const{visit:s=this.visit}=e,o=S({},this.options.requestHeaders,e.headers),i=(n=e.timeout)!=null?n:this.options.timeout,r=new AbortController,{signal:a}=r;e=S({},e,{headers:o,signal:a});let l,c=!1,u=null;i&&i>0&&(u=setTimeout(()=>{c=!0,r.abort("timeout")},i));try{l=await this.hooks.call("fetch:request",s,{url:t,options:e},(y,{url:v,options:P})=>fetch(v,P)),u&&clearTimeout(u)}catch(y){throw c?(this.hooks.call("fetch:timeout",s,{url:t}),new tt(`Request timed out: ${t}`,{url:t,timedOut:c})):(y==null?void 0:y.name)==="AbortError"||a.aborted?new tt(`Request aborted: ${t}`,{url:t,aborted:!0}):y}const{status:d,url:h}=l,g=await l.text();if(d===500)throw this.hooks.call("fetch:error",s,{status:d,response:l,url:h}),new tt(`Server error: ${h}`,{status:d,url:h});if(!g)throw new tt(`Empty response: ${h}`,{status:d,url:h});const{url:p}=E.fromUrl(h),f={url:p,html:g};return!s.cache.write||e.method&&e.method!=="GET"||t!==p||this.cache.set(f.url,f),f}class ge{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((n,s)=>{e.set(s,S({},n))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const n=this.pages.get(this.resolve(e));return n&&S({},n)}set(e,n){n=S({},n,{url:e=this.resolve(e)}),this.pages.set(e,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(e,n){e=this.resolve(e);const s=S({},this.get(e),n,{url:e});this.pages.set(e,s)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((n,s)=>{e(s,n)&&this.delete(s)})}resolve(e){const{url:n}=E.fromUrl(e);return this.swup.resolveUrl(n)}}const wt=(t,e=document)=>e.querySelector(t),St=(t,e=document)=>Array.from(e.querySelectorAll(t)),It=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function Ct(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ye(t,e=[]){return new Promise((n,s)=>{const o=t(...e);Ct(o)?o.then(n,s):n(o)})}function jt(t,e){const n=t==null?void 0:t.closest(`[${e}]`);return n!=null&&n.hasAttribute(e)?(n==null?void 0:n.getAttribute(e))||!0:void 0}class ve{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?St(this.selector):[]}add(...e){this.targets.forEach(n=>n.classList.add(...e))}remove(...e){this.targets.forEach(n=>n.classList.remove(...e))}clear(){this.targets.forEach(e=>{const n=e.className.split(" ").filter(s=>this.isSwupClass(s));e.classList.remove(...n)})}isSwupClass(e){return this.swupClasses.some(n=>e.startsWith(n))}}class xt{constructor(e,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:s,from:o,hash:i,el:r,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:o??e.location.url,hash:e.location.hash},this.to={url:s,hash:i},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function we(t){return new xt(this,t)}class Se{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const n=this.registry.get(e);if(n)return n;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,n,s={}){const o=this.get(e);if(!o)return console.warn(`Hook '${e}' not found.`),()=>{};const i=S({},s,{id:o.size+1,hook:e,handler:n});return o.set(n,i),()=>this.off(e,n)}before(e,n,s={}){return this.on(e,n,S({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,S({},s,{replace:!0}))}once(e,n,s={}){return this.on(e,n,S({},s,{once:!0}))}off(e,n){const s=this.get(e);s&&n?s.delete(n)||console.warn(`Handler for hook '${e}' not found.`):s&&s.clear()}async call(e,n,s,o){const[i,r,a]=this.parseCallArgs(e,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(e,a);await this.run(l,i,r);const[d]=await this.run(c,i,r,!0);return await this.run(u,i,r),this.dispatchDomEvent(e,i,r),d}callSync(e,n,s,o){const[i,r,a]=this.parseCallArgs(e,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(e,a);this.runSync(l,i,r);const[d]=this.runSync(c,i,r,!0);return this.runSync(u,i,r),this.dispatchDomEvent(e,i,r),d}parseCallArgs(e,n,s,o){return n instanceof xt||typeof n!="object"&&typeof s!="function"?[n,s,o]:[void 0,n,s]}async run(e,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=await ye(a,[n,s,l]);i.push(u)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}runSync(e,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=a(n,s,l);i.push(u),Ct(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}getHandlers(e,n){const s=this.get(e);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(s.values()),i=this.sortRegistrations,r=o.filter(({before:d,replace:h})=>d&&!h).sort(i),a=o.filter(({replace:d})=>d).filter(d=>!0).sort(i),l=o.filter(({before:d,replace:h})=>!d&&!h).sort(i),c=a.length>0;let u=[];if(n&&(u=[{id:0,hook:e,handler:n}],c)){const d=a.length-1,{handler:h,once:g}=a[d],p=f=>{const y=a[f-1];return y?(v,P)=>y.handler(v,P,p(f-1)):n};u=[{id:0,hook:e,once:g,handler:h,defaultHandler:p(d)}]}return{found:!0,before:r,handler:u,after:l,replaced:c}}sortRegistrations(e,n){var s,o;return((s=e.priority)!=null?s:0)-((o=n.priority)!=null?o:0)||e.id-n.id||0}dispatchDomEvent(e,n,s){if(n!=null&&n.done)return;const o={hook:e,args:s,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:o,bubbles:!0}))}parseName(e){const[n,...s]=e.split(".");return[n,s.reduce((o,i)=>S({},o,{[i]:!0}),{})]}}const Ee=t=>{if(t&&t.charAt(0)==="#"&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||wt(`a[name='${CSS.escape(t)}']`)||wt(`a[name='${CSS.escape(e)}']`);return n||t!=="top"||(n=document.body),n},et="transition",Et="animation";async function be({selector:t,elements:e}){if(t===!1&&!e)return;let n=[];if(e)n=Array.from(e);else if(t&&(n=St(t,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const s=n.map(o=>(function(i){const{type:r,timeout:a,propCount:l}=(function(c){const u=window.getComputedStyle(c),d=nt(u,`${et}Delay`),h=nt(u,`${et}Duration`),g=Ot(d,h),p=nt(u,`${Et}Delay`),f=nt(u,`${Et}Duration`),y=Ot(p,f),v=Math.max(g,y),P=v>0?g>y?et:Et:null;return{type:P,timeout:v,propCount:P?P===et?h.length:f.length:0}})(i);return!(!r||!a)&&new Promise(c=>{const u=`${r}end`,d=performance.now();let h=0;const g=()=>{i.removeEventListener(u,p),c()},p=f=>{f.target===i&&((performance.now()-d)/1e3<f.elapsedTime||++h>=l&&g())};setTimeout(()=>{h<l&&g()},a+1),i.addEventListener(u,p)})})(o));s.filter(Boolean).length>0?await Promise.all(s):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function nt(t,e){return(t[e]||"").split(", ")}function Ot(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ht(n)+Ht(t[s])))}function Ht(t){return 1e3*parseFloat(t)}function ke(t,e={},n={}){if(typeof t!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void window.location.assign(t);const{url:s,hash:o}=E.fromUrl(t),i=this.createVisit(S({},n,{to:s,hash:o}));this.performNavigation(i,e)}async function $e(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:n}=t.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const s=e.history||jt(n,"data-swup-history");typeof s=="string"&&["push","replace"].includes(s)&&(t.history.action=s);const o=e.animation||jt(n,"data-swup-animation");var i,r;typeof o=="string"&&(t.animation.name=o),t.meta=e.meta||{},typeof e.cache=="object"?(t.cache.read=(i=e.cache.read)!=null?i:t.cache.read,t.cache.write=(r=e.cache.write)!=null?r:t.cache.write):e.cache!==void 0&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;const a=this.hooks.call("page:load",t,{options:e},async(c,u)=>{let d;return c.cache.read&&(d=this.cache.get(c.to.url)),u.page=d||await this.fetchPage(c.to.url,u.options),u.cache=!!d,u.page});a.then(({html:c})=>{t.advance(5),t.to.html=c,t.to.document=new DOMParser().parseFromString(c,"text/html")});const l=t.to.url+t.to.hash;if(t.history.popstate||(t.history.action==="replace"||t.to.url===this.location.url?z(l):(this.currentHistoryIndex++,fe(l,{index:this.currentHistoryIndex}))),this.location=E.fromUrl(l),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${Tt(t.animation.name)}`),t.animation.wait&&await a,t.done||(await this.hooks.call("visit:transition",t,void 0,async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await a);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(t,await a)).finished:await this.renderPage(t,await a),await this.animatePageIn(t)}),t.done))return;await this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(t.state=8);t.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}const Le=async function(t){await this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",t,{skip:!1},(e,{skip:n})=>{if(!n)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",t,void 0)},qe=function(t){var e;const n=t.to.document;if(!n)return!1;const s=((e=n.querySelector("title"))==null?void 0:e.innerText)||"";document.title=s;const o=St('[data-swup-persist]:not([data-swup-persist=""])'),i=t.containers.map(r=>{const a=document.querySelector(r),l=n.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return o.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=wt(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),i.length===t.containers.length},Pe=function(t){const e={behavior:"auto"},{target:n,reset:s}=t.scroll,o=n??t.to.hash;let i=!1;return o&&(i=this.hooks.callSync("scroll:anchor",t,{hash:o,options:e},(r,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),s&&!i&&(i=this.hooks.callSync("scroll:top",t,{options:e},(r,{options:a})=>(window.scrollTo(S({top:0,left:0},a)),!0))),i},Ae=async function(t){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},(n,{skip:s})=>{if(!s)return this.awaitAnimations({selector:n.animation.selector})});await It(),await this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",t,void 0)},Te=async function(t,e){if(t.done)return;t.advance(6);const{url:n}=e;this.isSameResolvedUrl(H(),n)||(z(n),this.location=E.fromUrl(n),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${Tt(s.animation.name)}`))}),await this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},Ie=function(t){var e;if(e=t,!!(e!=null&&e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function Ce(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==e),this.plugins;console.error("No such plugin",e)}function je(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function xe(t){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function Oe(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const He={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return((e=t.state)==null?void 0:e.source)!=="swup"},timeout:0};class De{get currentPageUrl(){return this.location.url}constructor(e={}){var n,s;this.version="4.8.2",this.options=void 0,this.defaults=He,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=E.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Ie,this.unuse=Ce,this.findPlugin=je,this.log=()=>{},this.navigate=ke,this.performNavigation=$e,this.createVisit=we,this.delegateEvent=pe,this.fetchPage=me,this.awaitAnimations=be,this.renderPage=Te,this.replaceContent=qe,this.animatePageIn=Ae,this.animatePageOut=Le,this.scrollToContent=Pe,this.getAnchorElement=Ee,this.getCurrentUrl=H,this.resolveUrl=xe,this.isSameResolvedUrl=Oe,this.options=S({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new ge(this),this.classes=new ve(this),this.hooks=new Se(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(s=window.history.state)==null?void 0:s.index)!=null?n:1,this.enable()}async enable(){var e;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s));for(const[s,o]of Object.entries(this.options.hooks)){const[i,r]=this.hooks.parseName(s);this.hooks.on(i,o,r)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&z(null,{index:this.currentHistoryIndex}),await It(),await this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:n,event:s}={}){const{origin:o,url:i,hash:r}=E.fromUrl(e);return o!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(i+r,{el:n,event:s})}handleLinkClick(e){const n=e.delegateTarget,{href:s,url:o,hash:i}=E.fromElement(n);if(this.shouldIgnoreVisit(s,{el:n,event:e}))return;if(this.navigating&&o===this.visit.to.url)return void e.preventDefault();const r=this.createVisit({to:o,hash:i,el:n,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",r,{href:s}):e.button===0&&this.hooks.callSync("link:click",r,{el:n,event:e},()=>{var a;const l=(a=r.from.url)!=null?a:"";e.preventDefault(),o&&o!==l?this.isSameResolvedUrl(o,l)||this.performNavigation(r):i?this.hooks.callSync("link:anchor",r,{hash:i},()=>{z(o+i),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(z(o),this.scrollToContent(r))})})}handlePopState(e){var n,s,o,i;const r=(n=(s=e.state)==null?void 0:s.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(H(),this.location.url))return;const{url:a,hash:l}=E.fromUrl(r),c=this.createVisit({to:a,hash:l,event:e});c.history.popstate=!0;const u=(o=(i=e.state)==null?void 0:i.index)!=null?o:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:e},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function K(){return K=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},K.apply(this,arguments)}const Dt=t=>String(t).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class Ue{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,n])=>{if(!(function(s,o,i){const r=(function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var u;const d=l.findPlugin(a);return(u=d==null?void 0:d.version)!=null?u:""}})(s,i);return!!r&&((a,l)=>l.every(c=>{const[,u,d]=c.match(/^([\D]+)?(.*)$/)||[];var h,g;return((p,f)=>{const y={"":v=>v===0,">":v=>v>0,">=":v=>v>=0,"<":v=>v<0,"<=":v=>v<=0};return(y[f]||y[""])(p)})((g=d,h=Dt(h=a),g=Dt(g),h.localeCompare(g,void 0,{numeric:!0})),u||">=")}))(r,o)})(e,n=Array.isArray(n)?n:[n],this.swup)){const s=`${e} ${n.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(e,n,s={}){var o;n=!(o=n).name.startsWith("bound ")||o.hasOwnProperty("prototype")?n.bind(this):n;const i=this.swup.hooks.on(e,n,s);return this.handlersToUnregister.push(i),i}once(e,n,s={}){return this.on(e,n,K({},s,{once:!0}))}before(e,n,s={}){return this.on(e,n,K({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,K({},s,{replace:!0}))}off(e,n){return this.swup.hooks.off(e,n)}}function st(){return st=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},st.apply(null,arguments)}function Ut(){return window.matchMedia("(hover: hover)").matches}function ot(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const Nt=window.requestIdleCallback||(t=>setTimeout(t,1)),Ne=["preloadVisibleLinks"];class Me extends Ue{constructor(e={}){var n;super(),n=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(i,r,a)=>{const{url:l}=i.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(i,r)},this.onMouseEnter=async function(i){if(i.target!==i.delegateTarget||!Ut())return;const r=i.delegateTarget;if(!ot(r))return;const{url:a,hash:l}=E.fromElement(r),c=n.swup.createVisit({to:a,hash:l,el:r,event:i});n.swup.hooks.callSync("link:hover",c,{el:r,event:i}),n.preload(r,{priority:!0})},this.onTouchStart=i=>{if(Ut())return;const r=i.delegateTarget;ot(r)&&this.preload(r,{priority:!0})},this.onFocus=i=>{const r=i.delegateTarget;ot(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:s}=e,o=(function(i,r){if(i==null)return{};var a={};for(var l in i)if({}.hasOwnProperty.call(i,l)){if(r.includes(l))continue;a[l]=i[l]}return a})(e,Ne);this.options=st({},this.defaults,o),typeof s=="object"?this.options.preloadVisibleLinks=st({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=(function(i=1){const r=[],a=[];let l=0,c=0;function u(){c<i&&l>0&&((a.shift()||r.shift()||(()=>{}))(),l--,c++)}return{add:function(d,h=!1){if(d.__queued){if(!h)return;{const g=r.indexOf(d);if(g>=0){const p=r.splice(g,1);l-=p.length}}}d.__queued=!0,(h?a:r).push(d),l++,l<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const e=this.swup;e.options.cache?(e.hooks.create("page:preload"),e.hooks.create("link:hover"),e.preload=this.preload,e.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(H())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var e,n,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(e=this.mouseEnterDelegate)==null||e.destroy(),(n=this.touchStartDelegate)==null||n.destroy(),(s=this.focusDelegate)==null||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(e,n={}){var s;let o,i;const r=(s=n.priority)!=null&&s;if(Array.isArray(e))return Promise.all(e.map(l=>this.preload(l)));if(ot(e))i=e,{href:o}=E.fromElement(e);else{if(typeof e!="string")return;o=e}if(!o)return;if(this.swup.cache.has(o))return this.swup.cache.get(o);if(this.preloadPromises.has(o))return this.preloadPromises.get(o);if(!this.shouldPreload(o,{el:i}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(o).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(o)})},r)});return this.preloadPromises.set(o,a),a}preloadLinks(){Nt(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(e=>this.preload(e))})}preloadLinksOnAttention(){const{swup:e}=this,{linkSelector:n}=e.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=e.delegateEvent(n,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=e.delegateEvent(n,"touchstart",this.onTouchStart,s),this.focusDelegate=e.delegateEvent(n,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:e,delay:n,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:o,delay:i,containers:r,callback:a,filter:l}){const c=new Map,u=new IntersectionObserver(p=>{p.forEach(f=>{f.isIntersecting?d(f.target):h(f.target)})},{threshold:o}),d=p=>{var f;const{href:y}=E.fromElement(p),v=(f=c.get(y))!=null?f:new Set;c.set(y,v),v.add(p),setTimeout(()=>{const P=c.get(y);P!=null&&P.size&&(a(p),u.unobserve(p),P.delete(p))},i)},h=p=>{var f;const{href:y}=E.fromElement(p);(f=c.get(y))==null||f.delete(p)},g=()=>{Nt(()=>{const p=r.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(p)).filter(f=>l(f)).forEach(f=>u.observe(f))})};return{start:()=>g(),stop:()=>u.disconnect(),update:()=>(c.clear(),g())}})({threshold:e,delay:n,containers:s,callback:o=>this.preload(o),filter:o=>{if(this.options.preloadVisibleLinks.ignore(o)||!o.matches(this.swup.options.linkSelector))return!1;const{href:i}=E.fromElement(o);return this.shouldPreload(i,{el:o})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(e,{el:n}={}){const{url:s,href:o}=E.fromUrl(e);return!(!(function(){if(navigator.connection){var i;if(navigator.connection.saveData||(i=navigator.connection.effectiveType)!=null&&i.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(o,{el:n})||n&&this.swup.resolveUrl(s)===this.swup.resolveUrl(H()))}async performPreload(e){var n=this;const{url:s}=E.fromUrl(e),o=this.swup.createVisit({to:s});return await this.swup.hooks.call("page:preload",o,{url:s},async function(r,a){return a.page=await n.swup.fetchPage(e,{visit:r}),a.page})}}const m=300,C=50,k="cubic-bezier(0.4, 0, 0.2, 1)";function w(t){return new Promise(e=>setTimeout(e,t))}function bt(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function it(){return new Promise(t=>requestAnimationFrame(()=>requestAnimationFrame(t)))}function D(){var s;const t=document.querySelector('[data-link="projects"]'),e=(s=t==null?void 0:t.parentElement)==null?void 0:s.querySelector(".categories"),n=e?[...e.querySelectorAll(".categories-item")]:[];return{projectsLink:t,categories:e,items:n}}async function Re(){const{projectsLink:t}=D();t&&(t.style.transition=`opacity ${m}ms ${k}`,t.offsetHeight,t.style.opacity="0",t.style.pointerEvents="none",await w(m))}async function Ve(){const{projectsLink:t}=D();t&&(t.style.transition="none",t.style.opacity="0",await it(),t.style.transition=`opacity ${m}ms ${k}`,t.style.opacity="1",t.style.pointerEvents="",await w(m))}async function Mt(){const{categories:t,items:e}=D();!t||!e.length||(e.forEach(n=>{n.style.transition="none",n.style.opacity="0"}),await it(),t.style.pointerEvents="auto",e.forEach((n,s)=>{const o=s*C;n.style.transition=`opacity ${m}ms ${k} ${o}ms`,n.style.opacity="1"}),await w(m+(e.length-1)*C))}async function Rt(){const{categories:t,items:e}=D();!t||!e.length||(e.forEach((n,s)=>{const o=s*C;n.style.transition=`opacity ${m}ms ${k} ${o}ms`,n.style.opacity="0"}),await w(m+(e.length-1)*C),t.style.pointerEvents="none")}async function Fe(){const t=Re();await w(m/2);const e=Mt();await Promise.all([t,e])}async function Be(){await Rt(),await Ve()}async function _e(){const t=document.querySelector(".footer");t&&(t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(100%)",await w(m))}async function Vt(){const t=document.querySelector(".footer");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(0%)",await w(m))}async function We(){const t=document.querySelector(".copyrights");t&&(t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(100%)",await w(m))}async function Ye(){const t=document.querySelector(".copyrights");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(0%)",await w(m))}async function Ge(){const t=document.querySelector(".project-index");t&&(t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(100%)",await w(m))}async function ze(){const t=document.querySelector(".project-index");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(0%)",await w(m))}async function Ft(){const t=document.querySelector(".video-controls");t&&(t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(100%)",await w(m))}async function Bt(){const t=document.querySelector(".video-controls");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${k}`,t.style.transform="translateY(0%)",await w(m))}async function _t(){const t=document.querySelector(".nav");t&&(t.style.transition=`opacity ${m}ms ${k}`,t.style.opacity="0",t.style.pointerEvents="none",await w(m))}async function Wt(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",await it(),t.style.transition=`opacity ${m}ms ${k}`,t.style.opacity="1",t.style.pointerEvents="",await w(m))}function Ke(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none")}async function Je(){const t=document.querySelector(".project-progress");t&&(t.classList.remove("is-visible"),await w(2*m))}function Yt(){const t=document.querySelector(".project-header");if(!t)return null;const e=t.querySelector(".vert-flex"),n=t.querySelector("#services"),s=t.querySelector("#close"),o=e?[...e.children]:[],i=n?[...n.children]:[];return{header:t,col1:o,col2:i,col3:s?[s]:[]}}async function Xe(){const t=Yt();if(!t)return;const{col1:e,col2:n,col3:s}=t;[e,n,s].forEach(i=>{i.forEach((r,a)=>{const l=a*C;r.style.transition=`opacity ${m}ms ${k} ${l}ms`,r.style.opacity="0"})});const o=Math.max(e.length,n.length,s.length,1);await w(m+(o-1)*C)}async function Ze(){const t=Yt();if(!t)return;const{header:e,col1:n,col2:s,col3:o}=t,i=[...n,...s,...o];if(!i.length)return;e.style.transition="none",e.style.opacity="1",i.forEach(a=>{a.style.transition="none",a.style.opacity="0"}),await it(),[n,s,o].forEach(a=>{a.forEach((l,c)=>{const u=c*C;l.style.transition=`opacity ${m}ms ${k} ${u}ms`,l.style.opacity="1"})});const r=Math.max(n.length,s.length,o.length);r>0&&await w(m+(r-1)*C)}function Qe(){const{projectsLink:t,categories:e,items:n}=D();!t||!e||(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none",e.style.pointerEvents="auto",n.forEach(s=>{s.style.transition="none",s.style.opacity="1"}))}function kt(){const{projectsLink:t,categories:e,items:n}=D();!t||!e||(t.style.transition="none",t.style.opacity="1",t.style.pointerEvents="",e.style.pointerEvents="none",n.forEach(s=>{s.style.transition="none",s.style.opacity="0"}))}function tn(t){const e=t.trigger.el;if(e)return{goingToProjects:!!e.closest('[data-link="projects"]'),goingToHome:!!e.closest('[data-link="home"]'),goingToInfo:!!e.closest('[data-link="information"]'),goingToDetails:!!e.closest('[data-page="details"]')||!e.closest("[data-link]")&&!e.closest("#close")};const n=(t.to.url||"").replace(/\/$/,"")||"/";return{goingToProjects:n==="/projects",goingToHome:n==="/",goingToInfo:n==="/informations",goingToDetails:n.startsWith("/projects/")}}function en(t){const e=document.querySelector(".nav"),n=document.querySelector(".copyrights"),s=document.querySelector(".project-index");t==="details"?e&&(e.style.opacity="0",e.style.pointerEvents="none"):(e&&(e.style.transition="",e.style.opacity="1",e.style.pointerEvents=""),n&&(n.style.transform="",n.style.transition=""),s&&(s.style.transform="",s.style.transition=""))}function nn({initCurrentPage:t,cleanupCurrentPage:e}){const n=new De({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new Me]});n.hooks.on("visit:start",c=>{c.trigger.el||(c.animation.animate=!0)});let s=!1,o=!1,i=!1,r=null,a=null,l=null;return n.hooks.before("content:replace",()=>{e()}),n.hooks.on("content:replace",()=>{const c=bt();c==="details"&&a!=="details"&&(r=a,window.__detailsEnteredFrom=a,window.__detailsReturnUrl=l||"/"),o&&c!=="details"&&(r=null,window.__detailsEnteredFrom=null,window.__detailsReturnUrl=null),t()}),n.hooks.replace("animation:out:await",async(c,u,d)=>{const h=bt();a=h,l=c.from.url;const{goingToProjects:g,goingToHome:p,goingToDetails:f,goingToInfo:y}=tn(c);s=h==="projects"&&!g,o=h==="details";const v=h==="projects"||h==="information",P=document.querySelector(".footer"),ne=P?P.getBoundingClientRect().top<window.innerHeight:!1,Nn=v&&(p||f||h==="information"&&g||h==="projects"&&y&&!ne);i=h==="home"&&!f||h==="information"&&g||h==="projects"&&y&&!ne;const T=[d(c,u)];h==="home"&&!f&&T.push(Ft()),Nn&&T.push(_e()),g&&!o&&T.push(Fe()),s&&!f&&T.push(Be()),f&&(h==="home"||h==="projects")&&T.push(We()),f&&(h==="projects"?T.push((async()=>{const Mn=Rt();await w(m/2);const Rn=_t();await Promise.all([Mn,Rn])})()):T.push(_t())),o&&(T.push(Xe()),T.push(Je()),r==="projects"&&T.push(Ft()),T.push(Ge())),await Promise.all(T)}),n.hooks.replace("animation:in:await",async(c,u,d)=>{const h=bt(),g=h==="projects"||h==="information",p=[d(c,u)];if(h==="home"&&!o&&p.push(Bt()),g&&i&&p.push(Vt()),h==="details"&&(p.push(Ze()),p.push(ze()),r==="projects"&&p.push(Bt())),o&&(h==="home"||h==="projects")&&p.push(Ye()),o&&h!=="details"){if(h==="projects"){const{projectsLink:f}=D();f&&(f.style.transition="none",f.style.opacity="0",f.style.pointerEvents="none"),p.push((async()=>{const y=Wt();await w(m/2);const v=Mt();await Promise.all([y,v])})())}else kt(),p.push(Wt());g&&p.push(Vt())}await Promise.all(p),en(h),o=!1}),n}let rt=null;function sn(t){Gt(),zt(),t.hooks.on("page:view",()=>{Gt()}),t.hooks.before("content:replace",()=>{on()}),t.hooks.on("content:replace",()=>{zt()})}function Gt(){var e;const t=(e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace;document.querySelectorAll("[data-link]").forEach(n=>{const s=n.dataset.link===t;n.classList.toggle("w--current",s),n.classList.toggle("is-active",s)})}function zt(){const t=document.querySelector("#currentYear"),e=document.querySelector("#currentTime");if(t&&(t.textContent=new Date().getFullYear()),e){const n=()=>{e.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};n(),rt=setInterval(n,1e3)}}function on(){rt&&(clearInterval(rt),rt=null)}const rn=200,an="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)";let A=[],j=[],q=-1,V=!0,F=!1,at="",lt=null,ct=null,$=null,ut=-1,B=0,ht=0,_=0,W=!1;function ln(){$=document.querySelector(".selected-list"),A=$?[...$.querySelectorAll(".selected-item")]:[],!(!$||!A.length)&&(A.forEach((t,e)=>{const n=t.querySelector(".selected-full video");if(!n)return;n.removeAttribute("loop"),n.muted=!0,j[e]=n;const s=t.querySelector(".selected-full-poster");let o=!1;n.addEventListener("timeupdate",()=>{!o&&s&&n.currentTime>0&&(o=!0,s.style.transition=an,s.style.opacity="0",s.style.pointerEvents="none"),e===q&&(B=n.currentTime,ht=performance.now(),_=n.duration||0)}),n.addEventListener("ended",()=>{e===q&&Jt((e+1)%A.length)}),n.addEventListener("playing",()=>{e===q&&(W=!0,B=n.currentTime,ht=performance.now())}),n.addEventListener("waiting",()=>{e===q&&(W=!1,B=n.currentTime)}),n.addEventListener("pause",()=>{e===q&&(W=!1,B=n.currentTime)}),n.play().catch(()=>{})}),$.addEventListener("scroll",Kt,{passive:!0}),A.forEach((t,e)=>t.addEventListener("click",()=>Jt(e))),dn(),hn(),$t(0))}function cn(){cancelAnimationFrame(lt),cancelAnimationFrame(ct),j.forEach(t=>{t&&(t.pause(),t.removeAttribute("src"),t.load())}),j=[],$==null||$.removeEventListener("scroll",Kt),A=[],$=null,q=-1,ut=-1,F=!1,V=!0,W=!1,lt=null}function Kt(){ct||(ct=requestAnimationFrame(()=>{un(),ct=null}))}function un(){if(!$||!A.length||ut>=0)return;const t=$.getBoundingClientRect().left;let e=0,n=1/0;A.forEach((s,o)=>{const i=Math.abs(s.getBoundingClientRect().left-t);i<n&&(n=i,e=o)}),n<rn&&e!==q&&$t(e)}function Jt(t){if(!$||!A[t])return;ut=t,$.scrollTo({left:A[t].offsetLeft-$.offsetLeft,behavior:"smooth"});let e=null;const n=()=>{clearTimeout(e),e=setTimeout(()=>{$.removeEventListener("scroll",n),ut=-1},100)};$.addEventListener("scroll",n,{passive:!0}),F=!1;const s=document.querySelector('[data-controls="pause"]');s&&at&&(s.textContent=at),$t(t)}function $t(t){if(t===q)return;const e=q;q=t,A.forEach((s,o)=>s.classList.toggle("active",o===t)),e>=0&&j[e]&&j[e].pause(),B=0,ht=performance.now(),_=0,W=!1,Xt(0,0);const n=j[t];n&&(n.currentTime=0,n.muted=V,_=n.duration||0,F||n.play().catch(()=>{}))}function hn(){function t(){if(q>=0&&W&&_>0){const e=(performance.now()-ht)/1e3,n=Math.min(B+e,_);Xt(n/_,n)}lt=requestAnimationFrame(t)}lt=requestAnimationFrame(t)}function Xt(t,e){const n=A[q];if(!n)return;const s=`${(t*100).toFixed(2)}%`,o=n.querySelector(".selected-progress");o&&(o.style.left=s);const i=n.querySelector(".selected-cover");i&&i.style.setProperty("--progress",s);const r=document.querySelector("#videoDuration");r&&(r.textContent=mn(e))}function dn(){const t=document.querySelector('[data-controls="pause"]');t&&(at=t.textContent,t.addEventListener("click",fn));const e=document.querySelector('[data-controls="muted"]');e&&e.addEventListener("click",pn)}function fn(){const t=j[q],e=document.querySelector('[data-controls="pause"]');!t||!e||(F=!F,F?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=at))}function pn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;V=!V,t.classList.toggle("active",V);const e=j[q];e&&(e.muted=V)}function mn(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const Lt=300,qt="cubic-bezier(0.4, 0, 0.2, 1)";let U=null,J=[],N=null;function gn(){const t=document.querySelectorAll(".projects-item");if(!t.length)return;N&&N.abort(),N=new AbortController;const e=N.signal;J=[...document.querySelectorAll(".categories-button[data-categories]")],J.forEach(n=>{n.classList.remove("active"),n.addEventListener("click",()=>yn(n),{signal:e})}),U=null,document.querySelectorAll(".projects-item[data-filter]").forEach(n=>{n.style.height="",n.style.overflow="",n.style.transition=""}),t.forEach(n=>{const s=n.querySelector(".projects-cover-inner");if(!s)return;const o=s.querySelector("video"),i=s.querySelector(".projects-cover-poster");if(!o)return;o.addEventListener("loadedmetadata",()=>{o.videoWidth&&o.videoHeight&&(s.style.aspectRatio=`${o.videoWidth} / ${o.videoHeight}`)},{signal:e});let r=!1;o.addEventListener("timeupdate",()=>{!r&&i&&o.currentTime>0&&(r=!0,i.style.transition=`opacity ${Lt}ms ${qt}`,i.style.opacity="0",i.style.pointerEvents="none")},{signal:e}),o.removeAttribute("autoplay"),o.preload="none",o.paused||o.pause(),n.addEventListener("mouseenter",()=>{o.readyState===0&&o.load(),o.play().catch(()=>{})},{signal:e}),n.addEventListener("mouseleave",()=>{o.pause()},{signal:e})})}function yn(t){const e=t.dataset.categories;U===e?(U=null,t.classList.remove("active")):(J.forEach(n=>n.classList.remove("active")),U=e,t.classList.add("active")),vn()}function vn(){document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{!U||U===t.dataset.filter?Sn(t):wn(t)})}function wn(t){if(t.style.height==="0px")return;const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${Lt}ms ${qt}`,t.style.height="0px"}function Sn(t){if(!t.style.height||t.style.height==="")return;t.style.transition="none",t.style.height="",t.style.overflow="";const e=t.offsetHeight;t.style.height="0px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${Lt}ms ${qt}`,t.style.height=e+"px",t.addEventListener("transitionend",()=>{t.style.height="",t.style.overflow="",t.style.transition=""},{once:!0})}function En(){document.querySelectorAll(".projects-cover-inner video").forEach(t=>{t.pause(),t.removeAttribute("src"),t.load()}),N&&(N.abort(),N=null),U=null,J.forEach(t=>t.classList.remove("active")),J=[],document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.height="",t.style.overflow="",t.style.transition=""})}let x=null;function bn(){const t=document.querySelector(".background-full");if(!t)return;x=t.querySelector("video");const e=document.querySelector(".background-full-poster");if(!x)return;let n=!1;x.addEventListener("timeupdate",()=>{!n&&e&&x.currentTime>0&&(n=!0,e.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="0",e.style.pointerEvents="none")}),x.play().catch(()=>{})}function kn(){x&&(x.pause(),x=null)}const Zt=300,Qt="cubic-bezier(0.4, 0, 0.2, 1)";let b=[],L=-1,Y=!0,X=!1,te="",dt=null,O=!1,I=0,G=0,M=0,Z=null,Q=null,R=null;function $n(){Q=new AbortController;const t=Q.signal;Hn(),b=[...document.querySelectorAll("#swup video")];const e=document.querySelector(".project-index");e&&b.length<=1&&(e.style.display="none"),b.forEach((o,i)=>{o.muted=!0,o.preload="auto",o.style.opacity="0",o.style.transition=`opacity ${Zt}ms ${Qt}`;const r=()=>{o.style.opacity="1"};o.readyState>=2?r():(o.load(),o.addEventListener("loadeddata",r,{once:!0,signal:t}),o.addEventListener("playing",r,{once:!0,signal:t})),o.addEventListener("timeupdate",()=>{i===L&&(I=o.currentTime,G=performance.now(),M=o.duration||0)},{signal:t}),o.addEventListener("playing",()=>{i===L&&(O=!0,I=o.currentTime,G=performance.now())},{signal:t}),o.addEventListener("waiting",()=>{i===L&&(O=!1,I=o.currentTime)},{signal:t}),o.addEventListener("pause",()=>{i===L&&(O=!1,I=o.currentTime)},{signal:t}),o.addEventListener("ended",()=>{i===L&&(O=!1,I=o.currentTime)},{signal:t})}),Z=new IntersectionObserver(o=>{o.forEach(i=>{const r=i.target,a=b.indexOf(r);a!==-1&&(i.isIntersecting?qn(a):(r.pause(),a===L&&(O=!1)))})},{threshold:.5}),b.forEach(o=>Z.observe(o)),Tn(t),jn(t),Pn(),xn(),On(t);const n=document.querySelector(".progress-bar");n&&(n.style.transformOrigin="left",n.style.transform="scaleX(0)");const s=document.querySelector(".project-progress");s&&(s.classList.remove("is-visible"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.classList.add("is-visible")})}))}function Ln(){cancelAnimationFrame(dt),R&&(clearInterval(R),R=null),Z&&(Z.disconnect(),Z=null),Q&&(Q.abort(),Q=null),b.forEach(e=>{e.pause(),e.removeAttribute("src"),e.load()});const t=document.querySelector(".project-progress");t&&t.classList.remove("is-visible"),b=[],L=-1,X=!1,Y=!0,O=!1,dt=null,I=0,G=0,M=0}function qn(t){if(t===L)return;const e=L;L=t,e>=0&&b[e]&&b[e].pause(),I=0,G=performance.now(),M=0,O=!1,Pt(0,0),An();const n=b[t];n&&(n.currentTime=0,n.muted=Y,M=n.duration||0,X||n.play().catch(()=>{}))}function Pn(){function t(){if(L>=0&&O&&M>0){const e=(performance.now()-G)/1e3,n=Math.min(I+e,M);Pt(n/M,n)}dt=requestAnimationFrame(t)}dt=requestAnimationFrame(t)}function Pt(t,e){const n=document.querySelector(".progress-bar");n&&(n.style.transform=`scaleX(${t})`);const s=document.querySelector("#videoDuration");s&&(s.textContent=Dn(e))}function An(){const t=document.querySelector("#index");if(!t||b.length<=1)return;const e=String(L+1).padStart(2,"0"),n=String(b.length).padStart(2,"0");t.textContent=`${e} / ${n}`}function Tn(t){const e=document.querySelector('[data-controls="pause"]');e&&(te=e.textContent,e.addEventListener("click",In,{signal:t}));const n=document.querySelector('[data-controls="muted"]');n&&n.addEventListener("click",Cn,{signal:t})}function In(){const t=b[L],e=document.querySelector('[data-controls="pause"]');!t||!e||(X=!X,X?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=te))}function Cn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;Y=!Y,t.classList.toggle("active",Y);const e=b[L];e&&(e.muted=Y)}function jn(t){const e=document.querySelector(".project-progress");e&&e.addEventListener("click",n=>{const s=e.getBoundingClientRect(),o=Math.max(0,Math.min(1,(n.clientX-s.left)/s.width)),i=b[L];i&&i.duration&&(i.currentTime=o*i.duration,I=i.currentTime,G=performance.now(),Pt(o,i.currentTime))},{signal:t})}function xn(){const t=document.querySelector("#close");t&&t.setAttribute("href",window.__detailsReturnUrl||"/")}function On(t){const e=document.querySelector("#next");if(!e||b.length<=1)return;let n=!0;e.style.opacity="1",e.style.transition="opacity 300ms linear",R=setInterval(()=>{n=!n,e.style.opacity=n?"1":"0"},600);function s(){clearInterval(R),R=null,e.style.transition=`opacity ${Zt}ms ${Qt}`,e.style.opacity="0",e.style.pointerEvents="none"}(document.querySelector(".project-item-wrapper")||window).addEventListener("scroll",()=>{R&&s()},{once:!0,signal:t}),e.addEventListener("click",()=>{s();const i=b[1];i&&i.scrollIntoView({behavior:"smooth",block:"center"})},{once:!0,signal:t})}function Hn(){const t=document.querySelector("#services");if(!t)return;const e=t.textContent.split(",").map(n=>n.trim()).filter(Boolean);t.innerHTML=e.map(n=>`<span style="display:block">${n}</span>`).join("")}function Dn(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const ft={home:{init:ln,cleanup:cn},projects:{init:gn,cleanup:En},information:{init:bn,cleanup:kn},details:{init:$n,cleanup:Ln}};function pt(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function ee(){const t=pt();t&&ft[t]&&ft[t].init()}function Un(){const t=pt();t&&ft[t]&&ft[t].cleanup()}document.addEventListener("DOMContentLoaded",()=>{se(),le();const t=nn({initCurrentPage:ee,cleanupCurrentPage:Un});sn(t),pt()==="projects"?Qe():pt()==="details"?(kt(),Ke()):kt(),ee()})})();
