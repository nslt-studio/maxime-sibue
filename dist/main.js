(function(){"use strict";const gt="cubic-bezier(0.4, 0, 0.2, 1)";function ie(){const t=`
    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 300ms ${gt};
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 300ms ${gt};
    }

    .selected-item.active .selected-progress,
    .selected-item.active .selected-cover {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }

    /* === DETAILS - LOADING ANIMATION === */
    @keyframes loading-wave {
      0%, 100% { opacity: 0.15; }
      50%      { opacity: 1;    }
    }

    .loading-letter {
      display: inline-block;
      opacity: 0.15;
      animation: loading-wave 1200ms ease-in-out infinite;
      animation-delay: calc(var(--i) * 120ms);
    }

    /* === DETAILS PAGE === */
    .progress-bar {
      transform-origin: left;
      transition: none !important;
    }

    /* === PROJECT PROGRESS BAR (details page, CSS animation) === */
    .project-progress {
      width: 0;
      transition: width 600ms ${gt};
    }

    .project-progress.is-visible {
      width: 100%;
    }
  `,e=document.createElement("style");e.setAttribute("data-maxime-sibue",""),e.textContent=t,document.head.appendChild(e)}const re=400,ae="cubic-bezier(0.4, 0, 0.2, 1)",le=100,ce=300,qt="loaderDone";function ue(){if(sessionStorage.getItem(qt)){de();return}const t=document.querySelector(".loader"),e=t?[...t.querySelectorAll(".loader-item")]:[];if(!t||!e.length)return;e.forEach(o=>{o.style.opacity="0"});let n=0;const s=setInterval(()=>{n>0&&(e[n-1].style.opacity="0"),e[n].style.opacity="1",n++,n>=e.length&&(clearInterval(s),setTimeout(()=>he(t),ce))},le)}function he(t){const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${re}ms ${ae}`,t.style.height="0px",t.addEventListener("transitionend",()=>{t.remove(),sessionStorage.setItem(qt,"1")},{once:!0})}function de(){const t=document.querySelector(".loader");t&&t.remove()}const yt=new WeakMap;function vt(t,e,n,s){if(!t&&!yt.has(e))return!1;const o=yt.get(e)??new WeakMap;yt.set(e,o);const i=o.get(n)??new Set;o.set(n,i);const r=i.has(s);return t?i.add(s):i.delete(s),r&&t}function fe(t,e){let n=t.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&t.currentTarget instanceof Node){const s=n.closest(e);if(s&&t.currentTarget.contains(s))return s}}function pe(t,e,n,s={}){const{signal:o,base:i=document}=s;if(o!=null&&o.aborted)return;const{once:r,...a}=s,l=i instanceof Document?i.documentElement:i,c=!!(typeof s=="object"?s.capture:s),u=g=>{const p=fe(g,String(t));if(p){const f=Object.assign(g,{delegateTarget:p});n.call(l,f),r&&(l.removeEventListener(e,u,a),vt(!1,l,n,d))}},d=JSON.stringify({selector:t,type:e,capture:c});vt(!0,l,n,d)||l.addEventListener(e,u,a),o==null||o.addEventListener("abort",()=>{vt(!1,l,n,d)})}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},S.apply(null,arguments)}const Pt=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",D=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),me=(t,e={})=>{const n=S({url:t=t||D({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(n,"",t)},Y=(t=null,e={})=>{t=t||D({hash:!0});const n=S({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(n,"",t)},ge=(t,e,n,s)=>{const o=new AbortController;return s=S({},s,{signal:o.signal}),pe(t,e,n,s),{destroy:()=>o.abort()}};let k=class mt extends URL{constructor(e,n=document.baseURI){super(e.toString(),n),Object.setPrototypeOf(this,mt.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const n=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new mt(n)}static fromUrl(e){return new mt(e)}};class et extends Error{constructor(e,n){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function ye(t,e={}){var n;t=k.fromUrl(t).url;const{visit:s=this.visit}=e,o=S({},this.options.requestHeaders,e.headers),i=(n=e.timeout)!=null?n:this.options.timeout,r=new AbortController,{signal:a}=r;e=S({},e,{headers:o,signal:a});let l,c=!1,u=null;i&&i>0&&(u=setTimeout(()=>{c=!0,r.abort("timeout")},i));try{l=await this.hooks.call("fetch:request",s,{url:t,options:e},(v,{url:w,options:q})=>fetch(w,q)),u&&clearTimeout(u)}catch(v){throw c?(this.hooks.call("fetch:timeout",s,{url:t}),new et(`Request timed out: ${t}`,{url:t,timedOut:c})):(v==null?void 0:v.name)==="AbortError"||a.aborted?new et(`Request aborted: ${t}`,{url:t,aborted:!0}):v}const{status:d,url:h}=l,g=await l.text();if(d===500)throw this.hooks.call("fetch:error",s,{status:d,response:l,url:h}),new et(`Server error: ${h}`,{status:d,url:h});if(!g)throw new et(`Empty response: ${h}`,{status:d,url:h});const{url:p}=k.fromUrl(h),f={url:p,html:g};return!s.cache.write||e.method&&e.method!=="GET"||t!==p||this.cache.set(f.url,f),f}class ve{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((n,s)=>{e.set(s,S({},n))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const n=this.pages.get(this.resolve(e));return n&&S({},n)}set(e,n){n=S({},n,{url:e=this.resolve(e)}),this.pages.set(e,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(e,n){e=this.resolve(e);const s=S({},this.get(e),n,{url:e});this.pages.set(e,s)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((n,s)=>{e(s,n)&&this.delete(s)})}resolve(e){const{url:n}=k.fromUrl(e);return this.swup.resolveUrl(n)}}const wt=(t,e=document)=>e.querySelector(t),Et=(t,e=document)=>Array.from(e.querySelectorAll(t)),Tt=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function It(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function we(t,e=[]){return new Promise((n,s)=>{const o=t(...e);It(o)?o.then(n,s):n(o)})}function jt(t,e){const n=t==null?void 0:t.closest(`[${e}]`);return n!=null&&n.hasAttribute(e)?(n==null?void 0:n.getAttribute(e))||!0:void 0}class Ee{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?Et(this.selector):[]}add(...e){this.targets.forEach(n=>n.classList.add(...e))}remove(...e){this.targets.forEach(n=>n.classList.remove(...e))}clear(){this.targets.forEach(e=>{const n=e.className.split(" ").filter(s=>this.isSwupClass(s));e.classList.remove(...n)})}isSwupClass(e){return this.swupClasses.some(n=>e.startsWith(n))}}class Ct{constructor(e,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:s,from:o,hash:i,el:r,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:o??e.location.url,hash:e.location.hash},this.to={url:s,hash:i},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:r,event:a},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function Se(t){return new Ct(this,t)}class be{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const n=this.registry.get(e);if(n)return n;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,n,s={}){const o=this.get(e);if(!o)return console.warn(`Hook '${e}' not found.`),()=>{};const i=S({},s,{id:o.size+1,hook:e,handler:n});return o.set(n,i),()=>this.off(e,n)}before(e,n,s={}){return this.on(e,n,S({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,S({},s,{replace:!0}))}once(e,n,s={}){return this.on(e,n,S({},s,{once:!0}))}off(e,n){const s=this.get(e);s&&n?s.delete(n)||console.warn(`Handler for hook '${e}' not found.`):s&&s.clear()}async call(e,n,s,o){const[i,r,a]=this.parseCallArgs(e,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(e,a);await this.run(l,i,r);const[d]=await this.run(c,i,r,!0);return await this.run(u,i,r),this.dispatchDomEvent(e,i,r),d}callSync(e,n,s,o){const[i,r,a]=this.parseCallArgs(e,n,s,o),{before:l,handler:c,after:u}=this.getHandlers(e,a);this.runSync(l,i,r);const[d]=this.runSync(c,i,r,!0);return this.runSync(u,i,r),this.dispatchDomEvent(e,i,r),d}parseCallArgs(e,n,s,o){return n instanceof Ct||typeof n!="object"&&typeof s!="function"?[n,s,o]:[void 0,n,s]}async run(e,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=await we(a,[n,s,l]);i.push(u)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}runSync(e,n=this.swup.visit,s,o=!1){const i=[];for(const{hook:r,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(r,a);try{const u=a(n,s,l);i.push(u),It(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${r}'.`)}catch(u){if(o)throw u;console.error(`Error in hook '${r}':`,u)}}return i}getHandlers(e,n){const s=this.get(e);if(!s)return{found:!1,before:[],handler:[],after:[],replaced:!1};const o=Array.from(s.values()),i=this.sortRegistrations,r=o.filter(({before:d,replace:h})=>d&&!h).sort(i),a=o.filter(({replace:d})=>d).filter(d=>!0).sort(i),l=o.filter(({before:d,replace:h})=>!d&&!h).sort(i),c=a.length>0;let u=[];if(n&&(u=[{id:0,hook:e,handler:n}],c)){const d=a.length-1,{handler:h,once:g}=a[d],p=f=>{const v=a[f-1];return v?(w,q)=>v.handler(w,q,p(f-1)):n};u=[{id:0,hook:e,once:g,handler:h,defaultHandler:p(d)}]}return{found:!0,before:r,handler:u,after:l,replaced:c}}sortRegistrations(e,n){var s,o;return((s=e.priority)!=null?s:0)-((o=n.priority)!=null?o:0)||e.id-n.id||0}dispatchDomEvent(e,n,s){if(n!=null&&n.done)return;const o={hook:e,args:s,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:o,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:o,bubbles:!0}))}parseName(e){const[n,...s]=e.split(".");return[n,s.reduce((o,i)=>S({},o,{[i]:!0}),{})]}}const ke=t=>{if(t&&t.charAt(0)==="#"&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||wt(`a[name='${CSS.escape(t)}']`)||wt(`a[name='${CSS.escape(e)}']`);return n||t!=="top"||(n=document.body),n},nt="transition",St="animation";async function Le({selector:t,elements:e}){if(t===!1&&!e)return;let n=[];if(e)n=Array.from(e);else if(t&&(n=Et(t,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const s=n.map(o=>(function(i){const{type:r,timeout:a,propCount:l}=(function(c){const u=window.getComputedStyle(c),d=st(u,`${nt}Delay`),h=st(u,`${nt}Duration`),g=xt(d,h),p=st(u,`${St}Delay`),f=st(u,`${St}Duration`),v=xt(p,f),w=Math.max(g,v),q=w>0?g>v?nt:St:null;return{type:q,timeout:w,propCount:q?q===nt?h.length:f.length:0}})(i);return!(!r||!a)&&new Promise(c=>{const u=`${r}end`,d=performance.now();let h=0;const g=()=>{i.removeEventListener(u,p),c()},p=f=>{f.target===i&&((performance.now()-d)/1e3<f.elapsedTime||++h>=l&&g())};setTimeout(()=>{h<l&&g()},a+1),i.addEventListener(u,p)})})(o));s.filter(Boolean).length>0?await Promise.all(s):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function st(t,e){return(t[e]||"").split(", ")}function xt(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ot(n)+Ot(t[s])))}function Ot(t){return 1e3*parseFloat(t)}function $e(t,e={},n={}){if(typeof t!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void window.location.assign(t);const{url:s,hash:o}=k.fromUrl(t),i=this.createVisit(S({},n,{to:s,hash:o}));this.performNavigation(i,e)}async function Ae(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:n}=t.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const s=e.history||jt(n,"data-swup-history");typeof s=="string"&&["push","replace"].includes(s)&&(t.history.action=s);const o=e.animation||jt(n,"data-swup-animation");var i,r;typeof o=="string"&&(t.animation.name=o),t.meta=e.meta||{},typeof e.cache=="object"?(t.cache.read=(i=e.cache.read)!=null?i:t.cache.read,t.cache.write=(r=e.cache.write)!=null?r:t.cache.write):e.cache!==void 0&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;const a=this.hooks.call("page:load",t,{options:e},async(c,u)=>{let d;return c.cache.read&&(d=this.cache.get(c.to.url)),u.page=d||await this.fetchPage(c.to.url,u.options),u.cache=!!d,u.page});a.then(({html:c})=>{t.advance(5),t.to.html=c,t.to.document=new DOMParser().parseFromString(c,"text/html")});const l=t.to.url+t.to.hash;if(t.history.popstate||(t.history.action==="replace"||t.to.url===this.location.url?Y(l):(this.currentHistoryIndex++,me(l,{index:this.currentHistoryIndex}))),this.location=k.fromUrl(l),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${Pt(t.animation.name)}`),t.animation.wait&&await a,t.done||(await this.hooks.call("visit:transition",t,void 0,async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await a);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(t,await a)).finished:await this.renderPage(t,await a),await this.animatePageIn(t)}),t.done))return;await this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(t.state=8);t.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}const qe=async function(t){await this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",t,{skip:!1},(e,{skip:n})=>{if(!n)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",t,void 0)},Pe=function(t){var e;const n=t.to.document;if(!n)return!1;const s=((e=n.querySelector("title"))==null?void 0:e.innerText)||"";document.title=s;const o=Et('[data-swup-persist]:not([data-swup-persist=""])'),i=t.containers.map(r=>{const a=document.querySelector(r),l=n.querySelector(r);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${r}`),l||console.warn(`[swup] Container missing in incoming document: ${r}`),!1)}).filter(Boolean);return o.forEach(r=>{const a=r.getAttribute("data-swup-persist"),l=wt(`[data-swup-persist="${a}"]`);l&&l!==r&&l.replaceWith(r)}),i.length===t.containers.length},Te=function(t){const e={behavior:"auto"},{target:n,reset:s}=t.scroll,o=n??t.to.hash;let i=!1;return o&&(i=this.hooks.callSync("scroll:anchor",t,{hash:o,options:e},(r,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),s&&!i&&(i=this.hooks.callSync("scroll:top",t,{options:e},(r,{options:a})=>(window.scrollTo(S({top:0,left:0},a)),!0))),i},Ie=async function(t){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},(n,{skip:s})=>{if(!s)return this.awaitAnimations({selector:n.animation.selector})});await Tt(),await this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",t,void 0)},je=async function(t,e){if(t.done)return;t.advance(6);const{url:n}=e;this.isSameResolvedUrl(D(),n)||(Y(n),this.location=k.fromUrl(n),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},(s,{})=>{if(this.classes.remove("is-leaving"),s.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(s))throw new Error("[swup] Container mismatch, aborting");s.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),s.animation.name&&this.classes.add(`to-${Pt(s.animation.name)}`))}),await this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},Ce=function(t){var e;if(e=t,!!(e!=null&&e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function xe(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==e),this.plugins;console.error("No such plugin",e)}function Oe(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function De(t){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function He(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const Ue={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return((e=t.state)==null?void 0:e.source)!=="swup"},timeout:0};class Ne{get currentPageUrl(){return this.location.url}constructor(e={}){var n,s;this.version="4.8.2",this.options=void 0,this.defaults=Ue,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=k.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Ce,this.unuse=xe,this.findPlugin=Oe,this.log=()=>{},this.navigate=$e,this.performNavigation=Ae,this.createVisit=Se,this.delegateEvent=ge,this.fetchPage=ye,this.awaitAnimations=Le,this.renderPage=je,this.replaceContent=Pe,this.animatePageIn=Ie,this.animatePageOut=qe,this.scrollToContent=Te,this.getAnchorElement=ke,this.getCurrentUrl=D,this.resolveUrl=De,this.isSameResolvedUrl=He,this.options=S({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new ve(this),this.classes=new Ee(this),this.hooks=new be(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(s=window.history.state)==null?void 0:s.index)!=null?n:1,this.enable()}async enable(){var e;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(s=>this.use(s));for(const[s,o]of Object.entries(this.options.hooks)){const[i,r]=this.hooks.parseName(s);this.hooks.on(i,o,r)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&Y(null,{index:this.currentHistoryIndex}),await Tt(),await this.hooks.call("enable",void 0,void 0,()=>{const s=document.documentElement;s.classList.add("swup-enabled"),s.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:n,event:s}={}){const{origin:o,url:i,hash:r}=k.fromUrl(e);return o!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(i+r,{el:n,event:s})}handleLinkClick(e){const n=e.delegateTarget,{href:s,url:o,hash:i}=k.fromElement(n);if(this.shouldIgnoreVisit(s,{el:n,event:e}))return;if(this.navigating&&o===this.visit.to.url)return void e.preventDefault();const r=this.createVisit({to:o,hash:i,el:n,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",r,{href:s}):e.button===0&&this.hooks.callSync("link:click",r,{el:n,event:e},()=>{var a;const l=(a=r.from.url)!=null?a:"";e.preventDefault(),o&&o!==l?this.isSameResolvedUrl(o,l)||this.performNavigation(r):i?this.hooks.callSync("link:anchor",r,{hash:i},()=>{Y(o+i),this.scrollToContent(r)}):this.hooks.callSync("link:self",r,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(r):(Y(o),this.scrollToContent(r))})})}handlePopState(e){var n,s,o,i;const r=(n=(s=e.state)==null?void 0:s.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(D(),this.location.url))return;const{url:a,hash:l}=k.fromUrl(r),c=this.createVisit({to:a,hash:l,event:e});c.history.popstate=!0;const u=(o=(i=e.state)==null?void 0:i.index)!=null?o:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:e},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},W.apply(this,arguments)}const Dt=t=>String(t).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class Me{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,n])=>{if(!(function(s,o,i){const r=(function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var u;const d=l.findPlugin(a);return(u=d==null?void 0:d.version)!=null?u:""}})(s,i);return!!r&&((a,l)=>l.every(c=>{const[,u,d]=c.match(/^([\D]+)?(.*)$/)||[];var h,g;return((p,f)=>{const v={"":w=>w===0,">":w=>w>0,">=":w=>w>=0,"<":w=>w<0,"<=":w=>w<=0};return(v[f]||v[""])(p)})((g=d,h=Dt(h=a),g=Dt(g),h.localeCompare(g,void 0,{numeric:!0})),u||">=")}))(r,o)})(e,n=Array.isArray(n)?n:[n],this.swup)){const s=`${e} ${n.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${s}`)}}),!0}on(e,n,s={}){var o;n=!(o=n).name.startsWith("bound ")||o.hasOwnProperty("prototype")?n.bind(this):n;const i=this.swup.hooks.on(e,n,s);return this.handlersToUnregister.push(i),i}once(e,n,s={}){return this.on(e,n,W({},s,{once:!0}))}before(e,n,s={}){return this.on(e,n,W({},s,{before:!0}))}replace(e,n,s={}){return this.on(e,n,W({},s,{replace:!0}))}off(e,n){return this.swup.hooks.off(e,n)}}function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ot.apply(null,arguments)}function Ht(){return window.matchMedia("(hover: hover)").matches}function it(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const Ut=window.requestIdleCallback||(t=>setTimeout(t,1)),Ve=["preloadVisibleLinks"];class Re extends Me{constructor(e={}){var n;super(),n=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(i,r,a)=>{const{url:l}=i.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(i,r)},this.onMouseEnter=async function(i){if(i.target!==i.delegateTarget||!Ht())return;const r=i.delegateTarget;if(!it(r))return;const{url:a,hash:l}=k.fromElement(r),c=n.swup.createVisit({to:a,hash:l,el:r,event:i});n.swup.hooks.callSync("link:hover",c,{el:r,event:i}),n.preload(r,{priority:!0})},this.onTouchStart=i=>{if(Ht())return;const r=i.delegateTarget;it(r)&&this.preload(r,{priority:!0})},this.onFocus=i=>{const r=i.delegateTarget;it(r)&&this.preload(r,{priority:!0})};const{preloadVisibleLinks:s}=e,o=(function(i,r){if(i==null)return{};var a={};for(var l in i)if({}.hasOwnProperty.call(i,l)){if(r.includes(l))continue;a[l]=i[l]}return a})(e,Ve);this.options=ot({},this.defaults,o),typeof s=="object"?this.options.preloadVisibleLinks=ot({},this.options.preloadVisibleLinks,{enabled:!0},s):this.options.preloadVisibleLinks.enabled=!!s,this.preload=this.preload.bind(this),this.queue=(function(i=1){const r=[],a=[];let l=0,c=0;function u(){c<i&&l>0&&((a.shift()||r.shift()||(()=>{}))(),l--,c++)}return{add:function(d,h=!1){if(d.__queued){if(!h)return;{const g=r.indexOf(d);if(g>=0){const p=r.splice(g,1);l-=p.length}}}d.__queued=!0,(h?a:r).push(d),l++,l<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const e=this.swup;e.options.cache?(e.hooks.create("page:preload"),e.hooks.create("link:hover"),e.preload=this.preload,e.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(D())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var e,n,s;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(e=this.mouseEnterDelegate)==null||e.destroy(),(n=this.touchStartDelegate)==null||n.destroy(),(s=this.focusDelegate)==null||s.destroy(),this.stopPreloadingVisibleLinks()}async preload(e,n={}){var s;let o,i;const r=(s=n.priority)!=null&&s;if(Array.isArray(e))return Promise.all(e.map(l=>this.preload(l)));if(it(e))i=e,{href:o}=k.fromElement(e);else{if(typeof e!="string")return;o=e}if(!o)return;if(this.swup.cache.has(o))return this.swup.cache.get(o);if(this.preloadPromises.has(o))return this.preloadPromises.get(o);if(!this.shouldPreload(o,{el:i}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(o).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(o)})},r)});return this.preloadPromises.set(o,a),a}preloadLinks(){Ut(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(e=>this.preload(e))})}preloadLinksOnAttention(){const{swup:e}=this,{linkSelector:n}=e.options,s={passive:!0,capture:!0};this.mouseEnterDelegate=e.delegateEvent(n,"mouseenter",this.onMouseEnter,s),this.touchStartDelegate=e.delegateEvent(n,"touchstart",this.onTouchStart,s),this.focusDelegate=e.delegateEvent(n,"focus",this.onFocus,s)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:e,delay:n,containers:s}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:o,delay:i,containers:r,callback:a,filter:l}){const c=new Map,u=new IntersectionObserver(p=>{p.forEach(f=>{f.isIntersecting?d(f.target):h(f.target)})},{threshold:o}),d=p=>{var f;const{href:v}=k.fromElement(p),w=(f=c.get(v))!=null?f:new Set;c.set(v,w),w.add(p),setTimeout(()=>{const q=c.get(v);q!=null&&q.size&&(a(p),u.unobserve(p),q.delete(p))},i)},h=p=>{var f;const{href:v}=k.fromElement(p);(f=c.get(v))==null||f.delete(p)},g=()=>{Ut(()=>{const p=r.map(f=>`${f} a[*|href]`).join(", ");Array.from(document.querySelectorAll(p)).filter(f=>l(f)).forEach(f=>u.observe(f))})};return{start:()=>g(),stop:()=>u.disconnect(),update:()=>(c.clear(),g())}})({threshold:e,delay:n,containers:s,callback:o=>this.preload(o),filter:o=>{if(this.options.preloadVisibleLinks.ignore(o)||!o.matches(this.swup.options.linkSelector))return!1;const{href:i}=k.fromElement(o);return this.shouldPreload(i,{el:o})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(e,{el:n}={}){const{url:s,href:o}=k.fromUrl(e);return!(!(function(){if(navigator.connection){var i;if(navigator.connection.saveData||(i=navigator.connection.effectiveType)!=null&&i.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(s)||this.preloadPromises.has(s)||this.swup.shouldIgnoreVisit(o,{el:n})||n&&this.swup.resolveUrl(s)===this.swup.resolveUrl(D()))}async performPreload(e){var n=this;const{url:s}=k.fromUrl(e),o=this.swup.createVisit({to:s});return await this.swup.hooks.call("page:preload",o,{url:s},async function(r,a){return a.page=await n.swup.fetchPage(e,{visit:r}),a.page})}}const m=300,C=50,L="cubic-bezier(0.4, 0, 0.2, 1)";function E(t){return new Promise(e=>setTimeout(e,t))}function bt(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function G(){return new Promise(t=>requestAnimationFrame(()=>requestAnimationFrame(t)))}function H(){var s;const t=document.querySelector('[data-link="projects"]'),e=(s=t==null?void 0:t.parentElement)==null?void 0:s.querySelector(".categories"),n=e?[...e.querySelectorAll(".categories-item")]:[];return{projectsLink:t,categories:e,items:n}}async function Fe(){const{projectsLink:t}=H();t&&(t.style.transition=`opacity ${m}ms ${L}`,t.offsetHeight,t.style.opacity="0",t.style.pointerEvents="none",await E(m))}async function Be(){const{projectsLink:t}=H();t&&(t.style.transition="none",t.style.opacity="0",await G(),t.style.transition=`opacity ${m}ms ${L}`,t.style.opacity="1",t.style.pointerEvents="",await E(m))}async function Nt(){const{categories:t,items:e}=H();!t||!e.length||(e.forEach(n=>{n.getAnimations().forEach(s=>s.cancel()),n.style.transition="none",n.style.opacity="0"}),await G(),t.style.pointerEvents="auto",e.forEach((n,s)=>{const o=s*C;n.style.transition=`opacity ${m}ms ${L} ${o}ms`,n.style.opacity="1"}),await E(m+(e.length-1)*C))}async function Mt(){const{categories:t,items:e}=H();!t||!e.length||(e.forEach(n=>{n.getAnimations().forEach(s=>s.cancel()),n.style.transition="none",n.style.opacity="1"}),await G(),t.style.pointerEvents="none",e.forEach((n,s)=>{const o=Math.max(1,s*C);n.style.transition=`opacity ${m}ms ${L} ${o}ms`,n.style.opacity="0"}),await E(m+(e.length-1)*C))}async function _e(){const t=Fe();await E(m/2);const e=Nt();await Promise.all([t,e])}async function Ye(){await Mt(),await Be()}async function We(){const t=document.querySelector(".footer");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Vt(){const t=document.querySelector(".footer");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Ge(){const t=document.querySelector(".copyrights");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function ze(){const t=document.querySelector(".copyrights");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Ke(){const t=document.querySelector(".project-index");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Xe(){const t=document.querySelector(".project-index");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Rt(){const t=document.querySelector(".video-controls");t&&(t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(100%)",await E(m))}async function Ft(){const t=document.querySelector(".video-controls");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${m}ms ${L}`,t.style.transform="translateY(0%)",await E(m))}async function Bt(){const t=document.querySelector(".nav");t&&(t.style.transition=`opacity ${m}ms ${L}`,t.style.opacity="0",t.style.pointerEvents="none",await E(m))}async function _t(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",await G(),t.style.transition=`opacity ${m}ms ${L}`,t.style.opacity="1",t.style.pointerEvents="",await E(m))}function Je(){const t=document.querySelector(".nav");t&&(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none")}async function Ze(){const t=document.querySelector(".project-progress");t&&(t.classList.remove("is-visible"),await E(2*m))}function Yt(){const t=document.querySelector(".project-header");if(!t)return null;const e=t.querySelector(".vert-flex"),n=t.querySelector("#services"),s=t.querySelector("#close"),o=e?[...e.children]:[],i=n?[...n.children]:[];return{header:t,col1:o,col2:i,col3:s?[s]:[]}}async function Qe(){const t=Yt();if(!t)return;const{col1:e,col2:n,col3:s}=t;[e,n,s].forEach(i=>{i.forEach((r,a)=>{const l=a*C;r.style.transition=`opacity ${m}ms ${L} ${l}ms`,r.style.opacity="0"})});const o=Math.max(e.length,n.length,s.length,1);await E(m+(o-1)*C)}async function tn(){const t=Yt();if(!t)return;const{header:e,col1:n,col2:s,col3:o}=t,i=[...n,...s,...o];if(!i.length)return;e.style.transition="none",e.style.opacity="1",i.forEach(a=>{a.style.transition="none",a.style.opacity="0"}),await G(),[n,s,o].forEach(a=>{a.forEach((l,c)=>{const u=c*C;l.style.transition=`opacity ${m}ms ${L} ${u}ms`,l.style.opacity="1"})});const r=Math.max(n.length,s.length,o.length);r>0&&await E(m+(r-1)*C)}function en(){const{projectsLink:t,categories:e,items:n}=H();!t||!e||(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none",e.style.pointerEvents="auto",n.forEach(s=>{s.getAnimations().forEach(o=>o.cancel()),s.style.transition="none",s.style.opacity="1"}))}function kt(){const{projectsLink:t,categories:e,items:n}=H();!t||!e||(t.style.transition="none",t.style.opacity="1",t.style.pointerEvents="",e.style.pointerEvents="none",n.forEach(s=>{s.getAnimations().forEach(o=>o.cancel()),s.style.transition="none",s.style.opacity="0"}))}function nn(t){const e=t.trigger.el;if(e)return{goingToProjects:!!e.closest('[data-link="projects"]'),goingToHome:!!e.closest('[data-link="home"]'),goingToInfo:!!e.closest('[data-link="information"]'),goingToDetails:!!e.closest('[data-page="details"]')||!e.closest("[data-link]")&&!e.closest("#close")};const n=(t.to.url||"").replace(/\/$/,"")||"/";return{goingToProjects:n==="/projects",goingToHome:n==="/",goingToInfo:n==="/informations",goingToDetails:n.startsWith("/projects/")}}function sn(t){const e=document.querySelector(".nav"),n=document.querySelector(".copyrights"),s=document.querySelector(".project-index");t==="details"?e&&(e.style.opacity="0",e.style.pointerEvents="none"):(e&&(e.style.transition="",e.style.opacity="1",e.style.pointerEvents=""),n&&(n.style.transform="",n.style.transition=""),s&&(s.style.transform="",s.style.transition=""))}function on({initCurrentPage:t,cleanupCurrentPage:e}){const n=new Ne({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new Re]});n.hooks.on("visit:start",c=>{c.trigger.el||(c.animation.animate=!0)});let s=!1,o=!1,i=!1,r=null,a=null,l=null;return n.hooks.before("content:replace",()=>{e()}),n.hooks.on("content:replace",()=>{const c=bt();c==="details"&&a!=="details"&&(r=a,window.__detailsEnteredFrom=a,window.__detailsReturnUrl=l||"/"),o&&c!=="details"&&(r=null,window.__detailsEnteredFrom=null,window.__detailsReturnUrl=null),t()}),n.hooks.replace("animation:out:await",async(c,u,d)=>{const h=bt();a=h,l=c.from.url;const{goingToProjects:g,goingToHome:p,goingToDetails:f,goingToInfo:v}=nn(c);s=h==="projects"&&!g,o=h==="details";const w=h==="projects"||h==="information",q=document.querySelector(".footer"),oe=q?q.getBoundingClientRect().top<window.innerHeight:!1,Vn=w&&(p||f||h==="information"&&g||h==="projects"&&v&&!oe);i=h==="home"&&!f||h==="information"&&g||h==="projects"&&v&&!oe;const T=[d(c,u)];h==="home"&&!f&&T.push(Rt()),Vn&&T.push(We()),g&&!o&&T.push(_e()),s&&!f&&T.push(Ye()),f&&(h==="home"||h==="projects")&&T.push(Ge()),f&&(h==="projects"?T.push((async()=>{const Rn=Mt();await E(m/2);const Fn=Bt();await Promise.all([Rn,Fn])})()):T.push(Bt())),o&&(T.push(Qe()),T.push(Ze()),r==="projects"&&T.push(Rt()),T.push(Ke())),await Promise.all(T)}),n.hooks.replace("animation:in:await",async(c,u,d)=>{const h=bt(),g=h==="projects"||h==="information",p=[d(c,u)];if(h==="home"&&!o&&p.push(Ft()),g&&i&&p.push(Vt()),h==="details"&&(p.push(tn()),p.push(Xe()),r==="projects"&&p.push(Ft())),o&&(h==="home"||h==="projects")&&p.push(ze()),o&&h!=="details"){if(h==="projects"){const{projectsLink:f}=H();f&&(f.style.transition="none",f.style.opacity="0",f.style.pointerEvents="none"),p.push((async()=>{const v=_t();await E(m/2);const w=Nt();await Promise.all([v,w])})())}else kt(),p.push(_t());g&&p.push(Vt())}await Promise.all(p),sn(h),o=!1}),n}let rt=null;function rn(t){Wt(),Gt(),t.hooks.on("page:view",()=>{Wt()}),t.hooks.before("content:replace",()=>{an()}),t.hooks.on("content:replace",()=>{Gt()})}function Wt(){var e;const t=(e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace;document.querySelectorAll("[data-link]").forEach(n=>{const s=n.dataset.link===t;n.classList.toggle("w--current",s),n.classList.toggle("is-active",s)})}function Gt(){const t=document.querySelector("#currentYear"),e=document.querySelector("#currentTime");if(t&&(t.textContent=new Date().getFullYear()),e){const n=()=>{e.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};n(),rt=setInterval(n,1e3)}}function an(){rt&&(clearInterval(rt),rt=null)}const ln=200,cn="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)";let b=[],j=[],zt=[],$=-1,R=!0,U=!1,at="",lt=null,ct=null,y=null,F=-1,B=!1;function un(){y=document.querySelector(".selected-list"),b=y?[...y.querySelectorAll(".selected-item")]:[],!(!y||!b.length)&&(b.forEach((t,e)=>{const n=t.querySelector(".selected-full video");if(!n)return;n.removeAttribute("loop"),n.muted=!0,j[e]=n;const s=t.querySelector(".selected-full-poster");zt[e]=s,n.addEventListener("timeupdate",()=>{s&&s.style.opacity!=="0"&&n.currentTime>0&&(s.style.transition=cn,s.style.opacity="0",s.style.pointerEvents="none")}),n.addEventListener("ended",()=>{e===$&&fn((e+1)%b.length)}),n.addEventListener("playing",()=>{e===$&&(B=!0)}),n.addEventListener("waiting",()=>{e===$&&(B=!1)}),n.addEventListener("pause",()=>{e===$&&(B=!1)})}),y.addEventListener("scroll",Jt,{passive:!0}),y.addEventListener("wheel",Xt,{passive:!1}),b.forEach((t,e)=>t.addEventListener("click",()=>Kt(e))),mn(),pn(),ut(0))}function hn(){cancelAnimationFrame(lt),cancelAnimationFrame(ct),j.forEach(t=>{t&&(t.pause(),t.querySelectorAll("source").forEach(e=>e.removeAttribute("src")),t.load())}),j=[],zt=[],y==null||y.removeEventListener("scroll",Jt),y==null||y.removeEventListener("wheel",Xt),b=[],y=null,$=-1,F=-1,U=!1,R=!0,B=!1,lt=null}function Kt(t){if(!y||!b[t])return;F=t,b.forEach((s,o)=>s.classList.toggle("active",o===t)),y.scrollTo({left:b[t].offsetLeft-y.offsetLeft,behavior:"smooth"});let e=null;const n=()=>{clearTimeout(e),e=setTimeout(()=>{y.removeEventListener("scroll",n),F=-1,ut(t)},100)};y.addEventListener("scroll",n,{passive:!0})}let Lt=!1;function Xt(t){if(!y||Math.abs(t.deltaY)<=Math.abs(t.deltaX)||(t.preventDefault(),Lt))return;const e=t.deltaY>0?1:-1,n=$+e;n<0||n>=b.length||(Lt=!0,Kt(n),setTimeout(()=>{Lt=!1},600))}function Jt(){ct||(ct=requestAnimationFrame(()=>{dn(),ct=null}))}function dn(){if(!y||!b.length||F>=0)return;const t=y.getBoundingClientRect().left;let e=0,n=1/0;b.forEach((s,o)=>{const i=Math.abs(s.getBoundingClientRect().left-t);i<n&&(n=i,e=o)}),n<ln&&e!==$&&ut(e)}function fn(t){if(!y||!b[t])return;F=t,y.scrollTo({left:b[t].offsetLeft-y.offsetLeft,behavior:"smooth"});let e=null;const n=()=>{clearTimeout(e),e=setTimeout(()=>{y.removeEventListener("scroll",n),F=-1},100)};y.addEventListener("scroll",n,{passive:!0}),U=!1;const s=document.querySelector('[data-controls="pause"]');s&&at&&(s.textContent=at),ut(t)}function ut(t){var o,i;if(t===$)return;const e=$;if($=t,b.forEach((r,a)=>r.classList.toggle("active",a===t)),e>=0){const r=j[e];r&&(r.pause(),r.currentTime=0);const a=(o=b[e])==null?void 0:o.querySelector(".selected-progress");a&&(a.style.left="0%");const l=(i=b[e])==null?void 0:i.querySelector(".selected-cover");l&&l.style.setProperty("--progress","0%")}B=!1,Zt(0,0);const n=j[t];n&&(n.muted=R,U||n.play().catch(()=>{n.addEventListener("canplay",()=>{$===t&&!U&&n.play().catch(()=>{})},{once:!0})}));const s=j[(t+1)%b.length];s&&s.readyState<=1&&s.load()}function pn(){function t(){if($>=0&&B){const e=j[$];e&&e.duration>0&&Zt(e.currentTime/e.duration,e.currentTime)}lt=requestAnimationFrame(t)}lt=requestAnimationFrame(t)}function Zt(t,e){const n=b[$];if(!n)return;const s=`${(t*100).toFixed(2)}%`,o=n.querySelector(".selected-progress");o&&(o.style.left=s);const i=n.querySelector(".selected-cover");i&&i.style.setProperty("--progress",s);const r=document.querySelector("#videoDuration");r&&(r.textContent=vn(e))}function mn(){const t=document.querySelector('[data-controls="pause"]');t&&(at=t.textContent,t.addEventListener("click",gn));const e=document.querySelector('[data-controls="muted"]');e&&e.addEventListener("click",yn)}function gn(){const t=j[$],e=document.querySelector('[data-controls="pause"]');!t||!e||(U=!U,U?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=at))}function yn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;R=!R,t.classList.toggle("active",R);const e=j[$];e&&(e.muted=R)}function vn(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const z=300,K="cubic-bezier(0.4, 0, 0.2, 1)";let N=null,X=[],M=null,J=null,ht=0;function wn(){const t=document.querySelectorAll(".projects-item");if(!t.length)return;M&&M.abort(),M=new AbortController;const e=M.signal;X=[...document.querySelectorAll(".categories-button[data-categories]")],X.forEach(s=>{s.classList.remove("active"),s.addEventListener("click",()=>En(s),{signal:e})}),N=null,document.querySelectorAll(".projects-item[data-filter]").forEach(s=>{s.style.height="",s.style.overflow="",s.style.transition=""}),t.forEach(s=>{const o=s.querySelector(".projects-cover-inner video"),i=s.querySelector(".projects-cover-inner .projects-cover-poster");if(!o)return;let r=!1;o.addEventListener("playing",()=>{!r&&i&&(r=!0,i.style.transition=`opacity ${z}ms ${K}`,i.style.opacity="0",i.style.pointerEvents="none")},{signal:e})});const n=document.querySelector(".nav");ht=n?n.getBoundingClientRect().height:0,J=new IntersectionObserver(s=>{s.forEach(o=>{const i=o.target.querySelector(".projects-cover-inner video");o.isIntersecting?(o.target.style.transition=`opacity ${z}ms ${K}`,o.target.style.opacity="",o.target.style.pointerEvents="",i&&i.play().catch(()=>{})):(i&&i.pause(),o.boundingClientRect.top<ht+40?(o.target.style.transition=`opacity ${z}ms ${K}`,o.target.style.opacity="0.1",o.target.style.pointerEvents="none"):(o.target.style.transition="none",o.target.style.opacity="",o.target.style.pointerEvents=""))})},{rootMargin:`-${ht+40}px 0px 0px 0px`,threshold:0}),t.forEach(s=>J.observe(s))}function En(t){const e=t.dataset.categories;N===e?(N=null,t.classList.remove("active")):(X.forEach(n=>n.classList.remove("active")),N=e,t.classList.add("active")),Sn()}function Sn(){document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{!N||N===t.dataset.filter?kn(t):bn(t)})}function bn(t){if(t.style.height==="0px")return;const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${z}ms ${K}`,t.style.height="0px"}function kn(t){if(!t.style.height||t.style.height==="")return;t.style.transition="none",t.style.height="",t.style.overflow="";const e=t.offsetHeight;t.style.height="0px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${z}ms ${K}`,t.style.height=e+"px",t.addEventListener("transitionend",()=>{t.style.height="",t.style.overflow="",t.style.transition=""},{once:!0})}function Ln(){document.querySelectorAll(".projects-cover-inner video").forEach(t=>{t.pause(),t.querySelectorAll("source").forEach(e=>e.removeAttribute("src")),t.load()}),ht=0,J&&(J.disconnect(),J=null),M&&(M.abort(),M=null),N=null,X.forEach(t=>t.classList.remove("active")),X=[],document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.height="",t.style.overflow="",t.style.transition="",t.style.opacity="",t.style.pointerEvents=""})}let I=null;function $n(){const t=document.querySelector(".background-full");if(!t)return;I=t.querySelector("video");const e=document.querySelector(".background-full-poster");if(!I)return;let n=!1;I.addEventListener("timeupdate",()=>{!n&&e&&I.currentTime>0&&(n=!0,e.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="0",e.style.pointerEvents="none")}),I.play().catch(()=>{I.addEventListener("canplay",()=>I.play().catch(()=>{}),{once:!0})})}function An(){I&&(I.pause(),I=null)}const Qt=300,te="cubic-bezier(0.4, 0, 0.2, 1)";let P=[],A=-1,_=!0,V=!1,ee="",dt=null,x=!1,Z=null,O=null,Q=[],tt=[],$t=!1;function qn(){O=new AbortController;const t=O.signal;Un(),P=[...document.querySelectorAll("#swup video")],Q=[...document.querySelectorAll("[project-item]")],tt=[...document.querySelectorAll(".project-index-item[project-index]")],tt.forEach(s=>{s.addEventListener("click",()=>{const o=s.getAttribute("project-index"),i=Q.find(c=>c.getAttribute("project-item")===o);if(!i)return;$t=!0,ne(o),i.scrollIntoView({behavior:"smooth",block:"start"});let r=null;const a=i.closest(".project-item-wrapper")||window,l=()=>{clearTimeout(r),r=setTimeout(()=>{a.removeEventListener("scroll",l),$t=!1},150)};a.addEventListener("scroll",l,{passive:!0})},{signal:t})}),Dn(t),P.forEach((s,o)=>{s.muted=!0,s.preload="metadata",s.style.opacity="0",s.style.transition=`opacity ${Qt}ms ${te}`;const i=()=>{s.style.opacity="1"};s.readyState>=2?i():(s.addEventListener("loadeddata",i,{once:!0,signal:t}),s.addEventListener("playing",i,{once:!0,signal:t})),s.addEventListener("playing",()=>{o===A&&(x=!0)},{signal:t}),s.addEventListener("waiting",()=>{o===A&&(x=!1)},{signal:t}),s.addEventListener("pause",()=>{o===A&&(x=!1)},{signal:t}),s.addEventListener("ended",()=>{o===A&&(x=!1)},{signal:t})}),Z=new IntersectionObserver(s=>{s.forEach(o=>{const i=o.target,r=i.getAttribute("project-item"),a=i.querySelector("video"),l=a?P.indexOf(a):-1;o.isIntersecting?($t||r&&ne(r),l!==-1&&(l===A?a&&a.paused&&!V&&a.play().catch(()=>{}):Tn(l))):(a&&a.pause(),l===A&&(x=!1))})},{threshold:.5}),Q.forEach(s=>Z.observe(s)),jn(t),On(t),In(),Hn();const e=document.querySelector(".progress-bar");e&&(e.style.transformOrigin="left",e.style.transform="scaleX(0)");const n=document.querySelector(".project-progress");n&&(n.classList.remove("is-visible"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.add("is-visible")})}))}function Pn(){cancelAnimationFrame(dt),Z&&(Z.disconnect(),Z=null),O&&(O.abort(),O=null),P.forEach(e=>{e.pause(),e.querySelectorAll("source").forEach(n=>n.removeAttribute("src")),e.load()});const t=document.querySelector(".project-progress");t&&t.classList.remove("is-visible"),tt.forEach(e=>e.classList.remove("active")),tt=[],Q=[],P=[],A=-1,V=!1,_=!0,x=!1,dt=null}function ne(t){tt.forEach(e=>{e.classList.toggle("active",e.getAttribute("project-index")===t)})}function Tn(t){if(t===A)return;const e=A;A=t,e>=0&&P[e]&&P[e].pause(),x=!1,At(0,0);const n=P[t];n&&(n.muted=_,V||(n.readyState===0&&n.load(),n.play().catch(()=>{n.addEventListener("canplay",()=>{A===t&&!V&&n.play().catch(()=>{})},{once:!0,signal:O==null?void 0:O.signal})})));const s=P[t+1];s&&s.readyState<=1&&s.load()}function In(){function t(){if(A>=0&&x){const e=P[A];e&&e.duration>0&&At(e.currentTime/e.duration,e.currentTime)}dt=requestAnimationFrame(t)}dt=requestAnimationFrame(t)}function At(t,e){const n=document.querySelector(".progress-bar");n&&(n.style.transform=`scaleX(${t})`);const s=document.querySelector("#videoDuration");s&&(s.textContent=Nn(e))}function jn(t){const e=document.querySelector('[data-controls="pause"]');e&&(ee=e.textContent,e.addEventListener("click",Cn,{signal:t}));const n=document.querySelector('[data-controls="muted"]');n&&n.addEventListener("click",xn,{signal:t})}function Cn(){const t=P[A],e=document.querySelector('[data-controls="pause"]');!t||!e||(V=!V,V?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=ee))}function xn(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;_=!_,t.classList.toggle("active",_);const e=P[A];e&&(e.muted=_)}function On(t){const e=document.querySelector(".project-progress");e&&e.addEventListener("click",n=>{const s=e.getBoundingClientRect(),o=Math.max(0,Math.min(1,(n.clientX-s.left)/s.width)),i=P[A];i&&i.duration&&(i.currentTime=o*i.duration,At(o,i.currentTime))},{signal:t})}function Dn(t){Q.forEach(e=>{const n=[...e.querySelectorAll("p")].find(r=>r.textContent.trim()==="Chargement");if(!n)return;const s=[...n.textContent],o=s.length;n.innerHTML=s.map((r,a)=>`<span class="loading-letter" style="--i:${a};--n:${o}">${r}</span>`).join("");const i=e.querySelector("video");i&&i.addEventListener("playing",()=>{n.style.transition=`opacity ${Qt}ms ${te}`,n.style.opacity="0"},{once:!0,signal:t})})}function Hn(){const t=document.querySelector("#close");t&&t.setAttribute("href",window.__detailsReturnUrl||"/")}function Un(){const t=document.querySelector("#services");if(!t)return;const e=t.textContent.split(",").map(n=>n.trim()).filter(Boolean);t.innerHTML=e.map(n=>`<span style="display:block">${n}</span>`).join("")}function Nn(t){const e=Math.floor(t/60),n=Math.floor(t%60),s=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(s).padStart(3,"0")}const ft={home:{init:un,cleanup:hn},projects:{init:wn,cleanup:Ln},information:{init:$n,cleanup:An},details:{init:qn,cleanup:Pn}};function pt(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function se(){const t=pt();t&&ft[t]&&ft[t].init()}function Mn(){const t=pt();t&&ft[t]&&ft[t].cleanup()}document.addEventListener("DOMContentLoaded",()=>{ie(),ue();const t=on({initCurrentPage:se,cleanupCurrentPage:Mn});rn(t),pt()==="projects"?en():pt()==="details"?(kt(),Je()):kt(),se()})})();
