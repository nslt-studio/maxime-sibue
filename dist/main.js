var Un=Object.defineProperty;var Hn=(H,R,W)=>R in H?Un(H,R,{enumerable:!0,configurable:!0,writable:!0,value:W}):H[R]=W;var Te=(H,R,W)=>Hn(H,typeof R!="symbol"?R+"":R,W);(function(){"use strict";const R="cubic-bezier(0.4, 0, 0.2, 1)";function W(){const t=`
    /* === GLOBAL IMAGES (hidden until loaded) === */
    img {
      opacity: 0;
      transition: opacity 200ms ${R};
    }

    /* === PAGE TRANSITION (FADE) === */
    .transition-fade {
      opacity: 1;
      transition: opacity 200ms ${R};
    }

    html.is-animating .transition-fade {
      opacity: 0;
    }

    /* === CATEGORIES NAV (items hidden by default, managed by swup.js) === */
    .categories-item {
      opacity: 0;
    }

    /* === SELECTED CAROUSEL (HOME) === */
    .selected-progress {
      opacity: 0;
      transition: opacity 200ms ${R};
    }

    .selected-item.active .selected-progress {
      opacity: 1;
    }

    .selected-item.active .selected-cover {
      opacity: 1 !important;
      -webkit-mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
      mask-image: linear-gradient(
        to right,
        rgba(0,0,0,1) var(--progress, 0%),
        rgba(0,0,0,0.4) var(--progress, 0%)
      );
    }
  `,e=document.createElement("style");e.setAttribute("data-maxime-sibue",""),e.textContent=t,document.head.appendChild(e)}const Ce=new WeakMap;function $e(t,e,n,r){if(!t&&!Ce.has(e))return!1;const s=Ce.get(e)??new WeakMap;Ce.set(e,s);const i=s.get(n)??new Set;s.set(n,i);const o=i.has(r);return t?i.add(r):i.delete(r),o&&t}function dt(t,e){let n=t.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&t.currentTarget instanceof Node){const r=n.closest(e);if(r&&t.currentTarget.contains(r))return r}}function ft(t,e,n,r={}){const{signal:s,base:i=document}=r;if(s!=null&&s.aborted)return;const{once:o,...a}=r,l=i instanceof Document?i.documentElement:i,c=!!(typeof r=="object"?r.capture:r),u=g=>{const w=dt(g,String(t));if(w){const v=Object.assign(g,{delegateTarget:w});n.call(l,v),o&&(l.removeEventListener(e,u,a),$e(!1,l,n,h))}},h=JSON.stringify({selector:t,type:e,capture:c});$e(!0,l,n,h)||l.addEventListener(e,u,a),s==null||s.addEventListener("abort",()=>{$e(!1,l,n,h)})}function S(){return S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(null,arguments)}const Ne=(t,e)=>String(t).toLowerCase().replace(/[\s/_.]+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")||e||"",V=({hash:t}={})=>window.location.pathname+window.location.search+(t?window.location.hash:""),pt=(t,e={})=>{const n=S({url:t=t||V({hash:!0}),random:Math.random(),source:"swup"},e);window.history.pushState(n,"",t)},ee=(t=null,e={})=>{t=t||V({hash:!0});const n=S({},window.history.state||{},{url:t,random:Math.random(),source:"swup"},e);window.history.replaceState(n,"",t)},mt=(t,e,n,r)=>{const s=new AbortController;return r=S({},r,{signal:s.signal}),ft(t,e,n,r),{destroy:()=>s.abort()}};let T=class Ae extends URL{constructor(e,n=document.baseURI){super(e.toString(),n),Object.setPrototypeOf(this,Ae.prototype)}get url(){return this.pathname+this.search}static fromElement(e){const n=e.getAttribute("href")||e.getAttribute("xlink:href")||"";return new Ae(n)}static fromUrl(e){return new Ae(e)}};class le extends Error{constructor(e,n){super(e),this.url=void 0,this.status=void 0,this.aborted=void 0,this.timedOut=void 0,this.name="FetchError",this.url=n.url,this.status=n.status,this.aborted=n.aborted||!1,this.timedOut=n.timedOut||!1}}async function gt(t,e={}){var n;t=T.fromUrl(t).url;const{visit:r=this.visit}=e,s=S({},this.options.requestHeaders,e.headers),i=(n=e.timeout)!=null?n:this.options.timeout,o=new AbortController,{signal:a}=o;e=S({},e,{headers:s,signal:a});let l,c=!1,u=null;i&&i>0&&(u=setTimeout(()=>{c=!0,o.abort("timeout")},i));try{l=await this.hooks.call("fetch:request",r,{url:t,options:e},(b,{url:k,options:p})=>fetch(k,p)),u&&clearTimeout(u)}catch(b){throw c?(this.hooks.call("fetch:timeout",r,{url:t}),new le(`Request timed out: ${t}`,{url:t,timedOut:c})):(b==null?void 0:b.name)==="AbortError"||a.aborted?new le(`Request aborted: ${t}`,{url:t,aborted:!0}):b}const{status:h,url:m}=l,g=await l.text();if(h===500)throw this.hooks.call("fetch:error",r,{status:h,response:l,url:m}),new le(`Server error: ${m}`,{status:h,url:m});if(!g)throw new le(`Empty response: ${m}`,{status:h,url:m});const{url:w}=T.fromUrl(m),v={url:w,html:g};return!r.cache.write||e.method&&e.method!=="GET"||t!==w||this.cache.set(v.url,v),v}class yt{constructor(e){this.swup=void 0,this.pages=new Map,this.swup=e}get size(){return this.pages.size}get all(){const e=new Map;return this.pages.forEach((n,r)=>{e.set(r,S({},n))}),e}has(e){return this.pages.has(this.resolve(e))}get(e){const n=this.pages.get(this.resolve(e));return n&&S({},n)}set(e,n){n=S({},n,{url:e=this.resolve(e)}),this.pages.set(e,n),this.swup.hooks.callSync("cache:set",void 0,{page:n})}update(e,n){e=this.resolve(e);const r=S({},this.get(e),n,{url:e});this.pages.set(e,r)}delete(e){this.pages.delete(this.resolve(e))}clear(){this.pages.clear(),this.swup.hooks.callSync("cache:clear",void 0,void 0)}prune(e){this.pages.forEach((n,r)=>{e(r,n)&&this.delete(r)})}resolve(e){const{url:n}=T.fromUrl(e);return this.swup.resolveUrl(n)}}const Me=(t,e=document)=>e.querySelector(t),Ie=(t,e=document)=>Array.from(e.querySelectorAll(t)),_e=()=>new Promise(t=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})});function Fe(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function wt(t,e=[]){return new Promise((n,r)=>{const s=t(...e);Fe(s)?s.then(n,r):n(s)})}function De(t,e){const n=t==null?void 0:t.closest(`[${e}]`);return n!=null&&n.hasAttribute(e)?(n==null?void 0:n.getAttribute(e))||!0:void 0}class vt{constructor(e){this.swup=void 0,this.swupClasses=["to-","is-changing","is-rendering","is-popstate","is-animating","is-leaving"],this.swup=e}get selectors(){const{scope:e}=this.swup.visit.animation;return e==="containers"?this.swup.visit.containers:e==="html"?["html"]:Array.isArray(e)?e:[]}get selector(){return this.selectors.join(",")}get targets(){return this.selector.trim()?Ie(this.selector):[]}add(...e){this.targets.forEach(n=>n.classList.add(...e))}remove(...e){this.targets.forEach(n=>n.classList.remove(...e))}clear(){this.targets.forEach(e=>{const n=e.className.split(" ").filter(r=>this.isSwupClass(r));e.classList.remove(...n)})}isSwupClass(e){return this.swupClasses.some(n=>e.startsWith(n))}}class Ve{constructor(e,n){this.id=void 0,this.state=void 0,this.from=void 0,this.to=void 0,this.containers=void 0,this.animation=void 0,this.trigger=void 0,this.cache=void 0,this.history=void 0,this.scroll=void 0,this.meta=void 0;const{to:r,from:s,hash:i,el:o,event:a}=n;this.id=Math.random(),this.state=1,this.from={url:s??e.location.url,hash:e.location.hash},this.to={url:r,hash:i},this.containers=e.options.containers,this.animation={animate:!0,wait:!1,name:void 0,native:e.options.native,scope:e.options.animationScope,selector:e.options.animationSelector},this.trigger={el:o,event:a},this.cache={read:e.options.cache,write:e.options.cache},this.history={action:"push",popstate:!1,direction:void 0},this.scroll={reset:!0,target:void 0},this.meta={}}advance(e){this.state<e&&(this.state=e)}abort(){this.state=8}get done(){return this.state>=7}}function bt(t){return new Ve(this,t)}class Et{constructor(e){this.swup=void 0,this.registry=new Map,this.hooks=["animation:out:start","animation:out:await","animation:out:end","animation:in:start","animation:in:await","animation:in:end","animation:skip","cache:clear","cache:set","content:replace","content:scroll","enable","disable","fetch:request","fetch:error","fetch:timeout","history:popstate","link:click","link:self","link:anchor","link:newtab","page:load","page:view","scroll:top","scroll:anchor","visit:start","visit:transition","visit:abort","visit:end"],this.swup=e,this.init()}init(){this.hooks.forEach(e=>this.create(e))}create(e){this.registry.has(e)||this.registry.set(e,new Map)}exists(e){return this.registry.has(e)}get(e){const n=this.registry.get(e);if(n)return n;console.error(`Unknown hook '${e}'`)}clear(){this.registry.forEach(e=>e.clear())}on(e,n,r={}){const s=this.get(e);if(!s)return console.warn(`Hook '${e}' not found.`),()=>{};const i=S({},r,{id:s.size+1,hook:e,handler:n});return s.set(n,i),()=>this.off(e,n)}before(e,n,r={}){return this.on(e,n,S({},r,{before:!0}))}replace(e,n,r={}){return this.on(e,n,S({},r,{replace:!0}))}once(e,n,r={}){return this.on(e,n,S({},r,{once:!0}))}off(e,n){const r=this.get(e);r&&n?r.delete(n)||console.warn(`Handler for hook '${e}' not found.`):r&&r.clear()}async call(e,n,r,s){const[i,o,a]=this.parseCallArgs(e,n,r,s),{before:l,handler:c,after:u}=this.getHandlers(e,a);await this.run(l,i,o);const[h]=await this.run(c,i,o,!0);return await this.run(u,i,o),this.dispatchDomEvent(e,i,o),h}callSync(e,n,r,s){const[i,o,a]=this.parseCallArgs(e,n,r,s),{before:l,handler:c,after:u}=this.getHandlers(e,a);this.runSync(l,i,o);const[h]=this.runSync(c,i,o,!0);return this.runSync(u,i,o),this.dispatchDomEvent(e,i,o),h}parseCallArgs(e,n,r,s){return n instanceof Ve||typeof n!="object"&&typeof r!="function"?[n,r,s]:[void 0,n,r]}async run(e,n=this.swup.visit,r,s=!1){const i=[];for(const{hook:o,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(o,a);try{const u=await wt(a,[n,r,l]);i.push(u)}catch(u){if(s)throw u;console.error(`Error in hook '${o}':`,u)}}return i}runSync(e,n=this.swup.visit,r,s=!1){const i=[];for(const{hook:o,handler:a,defaultHandler:l,once:c}of e)if(n==null||!n.done){c&&this.off(o,a);try{const u=a(n,r,l);i.push(u),Fe(u)&&console.warn(`Swup will not await Promises in handler for synchronous hook '${o}'.`)}catch(u){if(s)throw u;console.error(`Error in hook '${o}':`,u)}}return i}getHandlers(e,n){const r=this.get(e);if(!r)return{found:!1,before:[],handler:[],after:[],replaced:!1};const s=Array.from(r.values()),i=this.sortRegistrations,o=s.filter(({before:h,replace:m})=>h&&!m).sort(i),a=s.filter(({replace:h})=>h).filter(h=>!0).sort(i),l=s.filter(({before:h,replace:m})=>!h&&!m).sort(i),c=a.length>0;let u=[];if(n&&(u=[{id:0,hook:e,handler:n}],c)){const h=a.length-1,{handler:m,once:g}=a[h],w=v=>{const b=a[v-1];return b?(k,p)=>b.handler(k,p,w(v-1)):n};u=[{id:0,hook:e,once:g,handler:m,defaultHandler:w(h)}]}return{found:!0,before:o,handler:u,after:l,replaced:c}}sortRegistrations(e,n){var r,s;return((r=e.priority)!=null?r:0)-((s=n.priority)!=null?s:0)||e.id-n.id||0}dispatchDomEvent(e,n,r){if(n!=null&&n.done)return;const s={hook:e,args:r,visit:n||this.swup.visit};document.dispatchEvent(new CustomEvent("swup:any",{detail:s,bubbles:!0})),document.dispatchEvent(new CustomEvent(`swup:${e}`,{detail:s,bubbles:!0}))}parseName(e){const[n,...r]=e.split(".");return[n,r.reduce((s,i)=>S({},s,{[i]:!0}),{})]}}const kt=t=>{if(t&&t.charAt(0)==="#"&&(t=t.substring(1)),!t)return null;const e=decodeURIComponent(t);let n=document.getElementById(t)||document.getElementById(e)||Me(`a[name='${CSS.escape(t)}']`)||Me(`a[name='${CSS.escape(e)}']`);return n||t!=="top"||(n=document.body),n},ce="transition",Le="animation";async function Pt({selector:t,elements:e}){if(t===!1&&!e)return;let n=[];if(e)n=Array.from(e);else if(t&&(n=Ie(t,document.body),!n.length))return void console.warn(`[swup] No elements found matching animationSelector \`${t}\``);const r=n.map(s=>(function(i){const{type:o,timeout:a,propCount:l}=(function(c){const u=window.getComputedStyle(c),h=ue(u,`${ce}Delay`),m=ue(u,`${ce}Duration`),g=Ue(h,m),w=ue(u,`${Le}Delay`),v=ue(u,`${Le}Duration`),b=Ue(w,v),k=Math.max(g,b),p=k>0?g>b?ce:Le:null;return{type:p,timeout:k,propCount:p?p===ce?m.length:v.length:0}})(i);return!(!o||!a)&&new Promise(c=>{const u=`${o}end`,h=performance.now();let m=0;const g=()=>{i.removeEventListener(u,w),c()},w=v=>{v.target===i&&((performance.now()-h)/1e3<v.elapsedTime||++m>=l&&g())};setTimeout(()=>{m<l&&g()},a+1),i.addEventListener(u,w)})})(s));r.filter(Boolean).length>0?await Promise.all(r):t&&console.warn(`[swup] No CSS animation duration defined on elements matching \`${t}\``)}function ue(t,e){return(t[e]||"").split(", ")}function Ue(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>He(n)+He(t[r])))}function He(t){return 1e3*parseFloat(t)}function St(t,e={},n={}){if(typeof t!="string")throw new Error("swup.navigate() requires a URL parameter");if(this.shouldIgnoreVisit(t,{el:n.el,event:n.event}))return void window.location.assign(t);const{url:r,hash:s}=T.fromUrl(t),i=this.createVisit(S({},n,{to:r,hash:s}));this.performNavigation(i,e)}async function Tt(t,e={}){if(this.navigating){if(this.visit.state>=6)return t.state=2,void(this.onVisitEnd=()=>this.performNavigation(t,e));await this.hooks.call("visit:abort",this.visit,void 0),delete this.visit.to.document,this.visit.state=8}this.navigating=!0,this.visit=t;const{el:n}=t.trigger;e.referrer=e.referrer||this.location.url,e.animate===!1&&(t.animation.animate=!1),t.animation.animate||this.classes.clear();const r=e.history||De(n,"data-swup-history");typeof r=="string"&&["push","replace"].includes(r)&&(t.history.action=r);const s=e.animation||De(n,"data-swup-animation");var i,o;typeof s=="string"&&(t.animation.name=s),t.meta=e.meta||{},typeof e.cache=="object"?(t.cache.read=(i=e.cache.read)!=null?i:t.cache.read,t.cache.write=(o=e.cache.write)!=null?o:t.cache.write):e.cache!==void 0&&(t.cache={read:!!e.cache,write:!!e.cache}),delete e.cache;try{await this.hooks.call("visit:start",t,void 0),t.state=3;const a=this.hooks.call("page:load",t,{options:e},async(c,u)=>{let h;return c.cache.read&&(h=this.cache.get(c.to.url)),u.page=h||await this.fetchPage(c.to.url,u.options),u.cache=!!h,u.page});a.then(({html:c})=>{t.advance(5),t.to.html=c,t.to.document=new DOMParser().parseFromString(c,"text/html")});const l=t.to.url+t.to.hash;if(t.history.popstate||(t.history.action==="replace"||t.to.url===this.location.url?ee(l):(this.currentHistoryIndex++,pt(l,{index:this.currentHistoryIndex}))),this.location=T.fromUrl(l),t.history.popstate&&this.classes.add("is-popstate"),t.animation.name&&this.classes.add(`to-${Ne(t.animation.name)}`),t.animation.wait&&await a,t.done||(await this.hooks.call("visit:transition",t,void 0,async()=>{if(!t.animation.animate)return await this.hooks.call("animation:skip",void 0),void await this.renderPage(t,await a);t.advance(4),await this.animatePageOut(t),t.animation.native&&document.startViewTransition?await document.startViewTransition(async()=>await this.renderPage(t,await a)).finished:await this.renderPage(t,await a),await this.animatePageIn(t)}),t.done))return;await this.hooks.call("visit:end",t,void 0,()=>this.classes.clear()),t.state=7,this.navigating=!1,this.onVisitEnd&&(this.onVisitEnd(),this.onVisitEnd=void 0)}catch(a){if(!a||a!=null&&a.aborted)return void(t.state=8);t.state=9,console.error(a),this.options.skipPopStateHandling=()=>(window.location.assign(t.to.url+t.to.hash),!0),window.history.back()}finally{delete t.to.document}}const At=async function(t){await this.hooks.call("animation:out:start",t,void 0,()=>{this.classes.add("is-changing","is-animating","is-leaving")}),await this.hooks.call("animation:out:await",t,{skip:!1},(e,{skip:n})=>{if(!n)return this.awaitAnimations({selector:e.animation.selector})}),await this.hooks.call("animation:out:end",t,void 0)},Ct=function(t){var e;const n=t.to.document;if(!n)return!1;const r=((e=n.querySelector("title"))==null?void 0:e.innerText)||"";document.title=r;const s=Ie('[data-swup-persist]:not([data-swup-persist=""])'),i=t.containers.map(o=>{const a=document.querySelector(o),l=n.querySelector(o);return a&&l?(a.replaceWith(l.cloneNode(!0)),!0):(a||console.warn(`[swup] Container missing in current document: ${o}`),l||console.warn(`[swup] Container missing in incoming document: ${o}`),!1)}).filter(Boolean);return s.forEach(o=>{const a=o.getAttribute("data-swup-persist"),l=Me(`[data-swup-persist="${a}"]`);l&&l!==o&&l.replaceWith(o)}),i.length===t.containers.length},$t=function(t){const e={behavior:"auto"},{target:n,reset:r}=t.scroll,s=n??t.to.hash;let i=!1;return s&&(i=this.hooks.callSync("scroll:anchor",t,{hash:s,options:e},(o,{hash:a,options:l})=>{const c=this.getAnchorElement(a);return c&&c.scrollIntoView(l),!!c})),r&&!i&&(i=this.hooks.callSync("scroll:top",t,{options:e},(o,{options:a})=>(window.scrollTo(S({top:0,left:0},a)),!0))),i},Mt=async function(t){if(t.done)return;const e=this.hooks.call("animation:in:await",t,{skip:!1},(n,{skip:r})=>{if(!r)return this.awaitAnimations({selector:n.animation.selector})});await _e(),await this.hooks.call("animation:in:start",t,void 0,()=>{this.classes.remove("is-animating")}),await e,await this.hooks.call("animation:in:end",t,void 0)},It=async function(t,e){if(t.done)return;t.advance(6);const{url:n}=e;this.isSameResolvedUrl(V(),n)||(ee(n),this.location=T.fromUrl(n),t.to.url=this.location.url,t.to.hash=this.location.hash),await this.hooks.call("content:replace",t,{page:e},(r,{})=>{if(this.classes.remove("is-leaving"),r.animation.animate&&this.classes.add("is-rendering"),!this.replaceContent(r))throw new Error("[swup] Container mismatch, aborting");r.animation.animate&&(this.classes.add("is-changing","is-animating","is-rendering"),r.animation.name&&this.classes.add(`to-${Ne(r.animation.name)}`))}),await this.hooks.call("content:scroll",t,void 0,()=>this.scrollToContent(t)),await this.hooks.call("page:view",t,{url:this.location.url,title:document.title})},Lt=function(t){var e;if(e=t,!!(e!=null&&e.isSwupPlugin)){if(t.swup=this,!t._checkRequirements||t._checkRequirements())return t._beforeMount&&t._beforeMount(),t.mount(),this.plugins.push(t),this.plugins}else console.error("Not a swup plugin instance",t)};function qt(t){const e=this.findPlugin(t);if(e)return e.unmount(),e._afterUnmount&&e._afterUnmount(),this.plugins=this.plugins.filter(n=>n!==e),this.plugins;console.error("No such plugin",e)}function xt(t){return this.plugins.find(e=>e===t||e.name===t||e.name===`Swup${String(t)}`)}function Rt(t){if(typeof this.options.resolveUrl!="function")return console.warn("[swup] options.resolveUrl expects a callback function."),t;const e=this.options.resolveUrl(t);return e&&typeof e=="string"?e.startsWith("//")||e.startsWith("http")?(console.warn("[swup] options.resolveUrl needs to return a relative url"),t):e:(console.warn("[swup] options.resolveUrl needs to return a url"),t)}function jt(t,e){return this.resolveUrl(t)===this.resolveUrl(e)}const Ot={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',animationScope:"html",cache:!0,containers:["#swup"],hooks:{},ignoreVisit:(t,{el:e}={})=>!(e==null||!e.closest("[data-no-swup]")),linkSelector:"a[href]",linkToSelf:"scroll",native:!1,plugins:[],resolveUrl:t=>t,requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},skipPopStateHandling:t=>{var e;return((e=t.state)==null?void 0:e.source)!=="swup"},timeout:0};class Nt{get currentPageUrl(){return this.location.url}constructor(e={}){var n,r;this.version="4.8.2",this.options=void 0,this.defaults=Ot,this.plugins=[],this.visit=void 0,this.cache=void 0,this.hooks=void 0,this.classes=void 0,this.location=T.fromUrl(window.location.href),this.currentHistoryIndex=void 0,this.clickDelegate=void 0,this.navigating=!1,this.onVisitEnd=void 0,this.use=Lt,this.unuse=qt,this.findPlugin=xt,this.log=()=>{},this.navigate=St,this.performNavigation=Tt,this.createVisit=bt,this.delegateEvent=mt,this.fetchPage=gt,this.awaitAnimations=Pt,this.renderPage=It,this.replaceContent=Ct,this.animatePageIn=Mt,this.animatePageOut=At,this.scrollToContent=$t,this.getAnchorElement=kt,this.getCurrentUrl=V,this.resolveUrl=Rt,this.isSameResolvedUrl=jt,this.options=S({},this.defaults,e),this.handleLinkClick=this.handleLinkClick.bind(this),this.handlePopState=this.handlePopState.bind(this),this.cache=new yt(this),this.classes=new vt(this),this.hooks=new Et(this),this.visit=this.createVisit({to:""}),this.currentHistoryIndex=(n=(r=window.history.state)==null?void 0:r.index)!=null?n:1,this.enable()}async enable(){var e;const{linkSelector:n}=this.options;this.clickDelegate=this.delegateEvent(n,"click",this.handleLinkClick),window.addEventListener("popstate",this.handlePopState),this.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),this.options.native=this.options.native&&!!document.startViewTransition,this.options.plugins.forEach(r=>this.use(r));for(const[r,s]of Object.entries(this.options.hooks)){const[i,o]=this.hooks.parseName(r);this.hooks.on(i,s,o)}((e=window.history.state)==null?void 0:e.source)!=="swup"&&ee(null,{index:this.currentHistoryIndex}),await _e(),await this.hooks.call("enable",void 0,void 0,()=>{const r=document.documentElement;r.classList.add("swup-enabled"),r.classList.toggle("swup-native",this.options.native)})}async destroy(){this.clickDelegate.destroy(),window.removeEventListener("popstate",this.handlePopState),this.cache.clear(),this.options.plugins.forEach(e=>this.unuse(e)),await this.hooks.call("disable",void 0,void 0,()=>{const e=document.documentElement;e.classList.remove("swup-enabled"),e.classList.remove("swup-native")}),this.hooks.clear()}shouldIgnoreVisit(e,{el:n,event:r}={}){const{origin:s,url:i,hash:o}=T.fromUrl(e);return s!==window.location.origin||!(!n||!this.triggerWillOpenNewWindow(n))||!!this.options.ignoreVisit(i+o,{el:n,event:r})}handleLinkClick(e){const n=e.delegateTarget,{href:r,url:s,hash:i}=T.fromElement(n);if(this.shouldIgnoreVisit(r,{el:n,event:e}))return;if(this.navigating&&s===this.visit.to.url)return void e.preventDefault();const o=this.createVisit({to:s,hash:i,el:n,event:e});e.metaKey||e.ctrlKey||e.shiftKey||e.altKey?this.hooks.callSync("link:newtab",o,{href:r}):e.button===0&&this.hooks.callSync("link:click",o,{el:n,event:e},()=>{var a;const l=(a=o.from.url)!=null?a:"";e.preventDefault(),s&&s!==l?this.isSameResolvedUrl(s,l)||this.performNavigation(o):i?this.hooks.callSync("link:anchor",o,{hash:i},()=>{ee(s+i),this.scrollToContent(o)}):this.hooks.callSync("link:self",o,void 0,()=>{this.options.linkToSelf==="navigate"?this.performNavigation(o):(ee(s),this.scrollToContent(o))})})}handlePopState(e){var n,r,s,i;const o=(n=(r=e.state)==null?void 0:r.url)!=null?n:window.location.href;if(this.options.skipPopStateHandling(e)||this.isSameResolvedUrl(V(),this.location.url))return;const{url:a,hash:l}=T.fromUrl(o),c=this.createVisit({to:a,hash:l,event:e});c.history.popstate=!0;const u=(s=(i=e.state)==null?void 0:i.index)!=null?s:0;u&&u!==this.currentHistoryIndex&&(c.history.direction=u-this.currentHistoryIndex>0?"forwards":"backwards",this.currentHistoryIndex=u),c.animation.animate=!1,c.scroll.reset=!1,c.scroll.target=!1,this.options.animateHistoryBrowsing&&(c.animation.animate=!0,c.scroll.reset=!0),this.hooks.callSync("history:popstate",c,{event:e},()=>{this.performNavigation(c)})}triggerWillOpenNewWindow(e){return!!e.matches('[download], [target="_blank"]')}}function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},te.apply(this,arguments)}const We=t=>String(t).split(".").map(e=>String(parseInt(e||"0",10))).concat(["0","0"]).slice(0,3).join(".");class _t{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(e=>e()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return typeof this.requires!="object"||Object.entries(this.requires).forEach(([e,n])=>{if(!(function(r,s,i){const o=(function(a,l){var c;if(a==="swup")return(c=l.version)!=null?c:"";{var u;const h=l.findPlugin(a);return(u=h==null?void 0:h.version)!=null?u:""}})(r,i);return!!o&&((a,l)=>l.every(c=>{const[,u,h]=c.match(/^([\D]+)?(.*)$/)||[];var m,g;return((w,v)=>{const b={"":k=>k===0,">":k=>k>0,">=":k=>k>=0,"<":k=>k<0,"<=":k=>k<=0};return(b[v]||b[""])(w)})((g=h,m=We(m=a),g=We(g),m.localeCompare(g,void 0,{numeric:!0})),u||">=")}))(o,s)})(e,n=Array.isArray(n)?n:[n],this.swup)){const r=`${e} ${n.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${r}`)}}),!0}on(e,n,r={}){var s;n=!(s=n).name.startsWith("bound ")||s.hasOwnProperty("prototype")?n.bind(this):n;const i=this.swup.hooks.on(e,n,r);return this.handlersToUnregister.push(i),i}once(e,n,r={}){return this.on(e,n,te({},r,{once:!0}))}before(e,n,r={}){return this.on(e,n,te({},r,{before:!0}))}replace(e,n,r={}){return this.on(e,n,te({},r,{replace:!0}))}off(e,n){return this.swup.hooks.off(e,n)}}function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(null,arguments)}function Be(){return window.matchMedia("(hover: hover)").matches}function de(t){return!!t&&(t instanceof HTMLAnchorElement||t instanceof SVGAElement)}const ze=window.requestIdleCallback||(t=>setTimeout(t,1)),Ft=["preloadVisibleLinks"];class Dt extends _t{constructor(e={}){var n;super(),n=this,this.name="SwupPreloadPlugin",this.requires={swup:">=4.5"},this.defaults={throttle:5,preloadInitialPage:!0,preloadHoveredLinks:!0,preloadVisibleLinks:{enabled:!1,threshold:.2,delay:500,containers:["body"],ignore:()=>!1}},this.options=void 0,this.queue=void 0,this.preloadObserver=void 0,this.preloadPromises=new Map,this.mouseEnterDelegate=void 0,this.touchStartDelegate=void 0,this.focusDelegate=void 0,this.onPageLoad=(i,o,a)=>{const{url:l}=i.to;return l&&this.preloadPromises.has(l)?this.preloadPromises.get(l):a(i,o)},this.onMouseEnter=async function(i){if(i.target!==i.delegateTarget||!Be())return;const o=i.delegateTarget;if(!de(o))return;const{url:a,hash:l}=T.fromElement(o),c=n.swup.createVisit({to:a,hash:l,el:o,event:i});n.swup.hooks.callSync("link:hover",c,{el:o,event:i}),n.preload(o,{priority:!0})},this.onTouchStart=i=>{if(Be())return;const o=i.delegateTarget;de(o)&&this.preload(o,{priority:!0})},this.onFocus=i=>{const o=i.delegateTarget;de(o)&&this.preload(o,{priority:!0})};const{preloadVisibleLinks:r}=e,s=(function(i,o){if(i==null)return{};var a={};for(var l in i)if({}.hasOwnProperty.call(i,l)){if(o.includes(l))continue;a[l]=i[l]}return a})(e,Ft);this.options=he({},this.defaults,s),typeof r=="object"?this.options.preloadVisibleLinks=he({},this.options.preloadVisibleLinks,{enabled:!0},r):this.options.preloadVisibleLinks.enabled=!!r,this.preload=this.preload.bind(this),this.queue=(function(i=1){const o=[],a=[];let l=0,c=0;function u(){c<i&&l>0&&((a.shift()||o.shift()||(()=>{}))(),l--,c++)}return{add:function(h,m=!1){if(h.__queued){if(!m)return;{const g=o.indexOf(h);if(g>=0){const w=o.splice(g,1);l-=w.length}}}h.__queued=!0,(m?a:o).push(h),l++,l<=1&&u()},next:function(){c--,u()}}})(this.options.throttle)}mount(){const e=this.swup;e.options.cache?(e.hooks.create("page:preload"),e.hooks.create("link:hover"),e.preload=this.preload,e.preloadLinks=this.preloadLinks,this.replace("page:load",this.onPageLoad),this.preloadLinks(),this.on("page:view",()=>this.preloadLinks()),this.options.preloadVisibleLinks.enabled&&(this.preloadVisibleLinks(),this.on("page:view",()=>this.preloadVisibleLinks())),this.options.preloadHoveredLinks&&this.preloadLinksOnAttention(),this.options.preloadInitialPage&&this.preload(V())):console.warn("SwupPreloadPlugin: swup cache needs to be enabled for preloading")}unmount(){var e,n,r;this.swup.preload=void 0,this.swup.preloadLinks=void 0,this.preloadPromises.clear(),(e=this.mouseEnterDelegate)==null||e.destroy(),(n=this.touchStartDelegate)==null||n.destroy(),(r=this.focusDelegate)==null||r.destroy(),this.stopPreloadingVisibleLinks()}async preload(e,n={}){var r;let s,i;const o=(r=n.priority)!=null&&r;if(Array.isArray(e))return Promise.all(e.map(l=>this.preload(l)));if(de(e))i=e,{href:s}=T.fromElement(e);else{if(typeof e!="string")return;s=e}if(!s)return;if(this.swup.cache.has(s))return this.swup.cache.get(s);if(this.preloadPromises.has(s))return this.preloadPromises.get(s);if(!this.shouldPreload(s,{el:i}))return;const a=new Promise(l=>{this.queue.add(()=>{this.performPreload(s).catch(()=>{}).then(c=>l(c)).finally(()=>{this.queue.next(),this.preloadPromises.delete(s)})},o)});return this.preloadPromises.set(s,a),a}preloadLinks(){ze(()=>{Array.from(document.querySelectorAll("a[data-swup-preload], [data-swup-preload-all] a")).forEach(e=>this.preload(e))})}preloadLinksOnAttention(){const{swup:e}=this,{linkSelector:n}=e.options,r={passive:!0,capture:!0};this.mouseEnterDelegate=e.delegateEvent(n,"mouseenter",this.onMouseEnter,r),this.touchStartDelegate=e.delegateEvent(n,"touchstart",this.onTouchStart,r),this.focusDelegate=e.delegateEvent(n,"focus",this.onFocus,r)}preloadVisibleLinks(){if(this.preloadObserver)return void this.preloadObserver.update();const{threshold:e,delay:n,containers:r}=this.options.preloadVisibleLinks;this.preloadObserver=(function({threshold:s,delay:i,containers:o,callback:a,filter:l}){const c=new Map,u=new IntersectionObserver(w=>{w.forEach(v=>{v.isIntersecting?h(v.target):m(v.target)})},{threshold:s}),h=w=>{var v;const{href:b}=T.fromElement(w),k=(v=c.get(b))!=null?v:new Set;c.set(b,k),k.add(w),setTimeout(()=>{const p=c.get(b);p!=null&&p.size&&(a(w),u.unobserve(w),p.delete(w))},i)},m=w=>{var v;const{href:b}=T.fromElement(w);(v=c.get(b))==null||v.delete(w)},g=()=>{ze(()=>{const w=o.map(v=>`${v} a[*|href]`).join(", ");Array.from(document.querySelectorAll(w)).filter(v=>l(v)).forEach(v=>u.observe(v))})};return{start:()=>g(),stop:()=>u.disconnect(),update:()=>(c.clear(),g())}})({threshold:e,delay:n,containers:r,callback:s=>this.preload(s),filter:s=>{if(this.options.preloadVisibleLinks.ignore(s)||!s.matches(this.swup.options.linkSelector))return!1;const{href:i}=T.fromElement(s);return this.shouldPreload(i,{el:s})}}),this.preloadObserver.start()}stopPreloadingVisibleLinks(){this.preloadObserver&&this.preloadObserver.stop()}shouldPreload(e,{el:n}={}){const{url:r,href:s}=T.fromUrl(e);return!(!(function(){if(navigator.connection){var i;if(navigator.connection.saveData||(i=navigator.connection.effectiveType)!=null&&i.endsWith("2g"))return!1}return!0})()||this.swup.cache.has(r)||this.preloadPromises.has(r)||this.swup.shouldIgnoreVisit(s,{el:n})||n&&this.swup.resolveUrl(r)===this.swup.resolveUrl(V()))}async performPreload(e){var n=this;const{url:r}=T.fromUrl(e),s=this.swup.createVisit({to:r});return await this.swup.hooks.call("page:preload",s,{url:r},async function(o,a){return a.page=await n.swup.fetchPage(e,{visit:o}),a.page})}}const $=200,fe=50,B="cubic-bezier(0.4, 0, 0.2, 1)";function _(t){return new Promise(e=>setTimeout(e,t))}function Ge(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function Ye(){return new Promise(t=>requestAnimationFrame(()=>requestAnimationFrame(t)))}function z(){var r;const t=document.querySelector('[data-link="projects"]'),e=(r=t==null?void 0:t.parentElement)==null?void 0:r.querySelector(".categories"),n=e?[...e.querySelectorAll(".categories-item")]:[];return{projectsLink:t,categories:e,items:n}}async function Vt(){const{projectsLink:t}=z();t&&(t.style.transition=`opacity ${$}ms ${B}`,t.offsetHeight,t.style.opacity="0",t.style.pointerEvents="none",await _($))}async function Ut(){const{projectsLink:t}=z();t&&(t.style.transition="none",t.style.opacity="0",await Ye(),t.style.transition=`opacity ${$}ms ${B}`,t.style.opacity="1",t.style.pointerEvents="",await _($))}async function Ht(){const{categories:t,items:e}=z();!t||!e.length||(e.forEach(n=>{n.style.transition="none",n.style.opacity="0"}),await Ye(),t.style.pointerEvents="auto",e.forEach((n,r)=>{const s=r*fe;n.style.transition=`opacity ${$}ms ${B} ${s}ms`,n.style.opacity="1"}),await _($+(e.length-1)*fe))}async function Wt(){const{categories:t,items:e}=z();!t||!e.length||(e.forEach((n,r)=>{const s=r*fe;n.style.transition=`opacity ${$}ms ${B} ${s}ms`,n.style.opacity="0"}),await _($+(e.length-1)*fe),t.style.pointerEvents="none")}async function Bt(){const t=Vt();await _($/2);const e=Ht();await Promise.all([t,e])}async function zt(){const t=Wt();await _($/2);const e=Ut();await Promise.all([t,e])}async function Gt(){const t=document.querySelector(".video-controls");t&&(t.style.transition=`transform ${$}ms ${B}`,t.style.transform="translateY(100%)",await _($))}async function Yt(){const t=document.querySelector(".video-controls");t&&(t.style.transition="none",t.style.transform="translateY(100%)",t.offsetHeight,t.style.transition=`transform ${$}ms ${B}`,t.style.transform="translateY(0%)",await _($))}function Qt(){const{projectsLink:t,categories:e,items:n}=z();!t||!e||(t.style.transition="none",t.style.opacity="0",t.style.pointerEvents="none",e.style.pointerEvents="auto",n.forEach(r=>{r.style.transition="none",r.style.opacity="1"}))}function Jt(){const{projectsLink:t,categories:e,items:n}=z();!t||!e||(t.style.transition="none",t.style.opacity="1",t.style.pointerEvents="",e.style.pointerEvents="none",n.forEach(r=>{r.style.transition="none",r.style.opacity="0"}))}function Kt({initCurrentPage:t,cleanupCurrentPage:e}){const n=new Nt({containers:["#swup"],animationSelector:'[class*="transition-"]',plugins:[new Dt]});let r=!1;return n.hooks.before("content:replace",()=>{e()}),n.hooks.on("content:replace",()=>{t()}),n.hooks.replace("animation:out:await",async(s,i,o)=>{var u;const a=Ge(),l=!!((u=s.trigger.el)!=null&&u.closest('[data-link="projects"]'));r=a==="projects"&&!l;const c=[o(s,i)];a==="home"&&c.push(Gt()),l&&c.push(Bt()),r&&c.push(zt()),await Promise.all(c)}),n.hooks.replace("animation:in:await",async(s,i,o)=>{const a=Ge(),l=[o(s,i)];a==="home"&&l.push(Yt()),await Promise.all(l)}),n}let pe=null;function Xt(t){Qe(),Ke(),Je(),t.hooks.on("page:view",()=>{Qe()}),t.hooks.before("content:replace",()=>{Zt()}),t.hooks.on("content:replace",()=>{Ke(),Je()})}function Qe(){var e;const t=(e=document.querySelector("#swup"))==null?void 0:e.dataset.namespace;document.querySelectorAll("[data-link]").forEach(n=>{const r=n.dataset.link===t;n.classList.toggle("w--current",r),n.classList.toggle("is-active",r)})}function Je(){const t=document.querySelector("#currentYear"),e=document.querySelector("#currentTime");if(t&&(t.textContent=new Date().getFullYear()),e){const n=()=>{e.textContent=new Date().toLocaleTimeString("fr-FR",{timeZone:"Europe/Paris",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})+" CET"};n(),pe=setInterval(n,1e3)}}function Zt(){pe&&(clearInterval(pe),pe=null)}function Ke(){document.querySelectorAll("img").forEach(t=>{t.dataset.watched||(t.dataset.watched="true",t.complete&&t.naturalWidth>0?t.style.opacity="1":t.addEventListener("load",()=>{t.style.opacity="1"},{once:!0}))})}/*! @vimeo/player v2.30.2 | (c) 2026 Vimeo | MIT License | https://github.com/vimeo/player.js */const en=typeof global<"u"&&{}.toString.call(global)==="[object global]",tn=typeof Bun<"u",nn=typeof Deno<"u",rn=typeof WebSocketPair=="function"&&typeof(caches==null?void 0:caches.default)<"u",Xe=en||tn||nn||rn;function Ze(t,e){return t.indexOf(e.toLowerCase())===0?t:`${e.toLowerCase()}${t.substr(0,1).toUpperCase()}${t.substr(1)}`}function sn(t){return!!(t&&t.nodeType===1&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function on(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function j(t){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(t)}function et(t){return/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/.test(t)}function an(t){const e=(t||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),n=(e&&e[1]||"").replace("player.",""),r=[".videoji.hk",".vimeo.work",".videoji.cn"];for(const s of r)if(n.endsWith(s))return n;return"vimeo.com"}function tt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=t.id,n=t.url,r=e||n;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(on(r))return`https://vimeo.com/${r}`;if(j(r))return r.replace("http:","https:");throw e?new TypeError(`“${e}” is not a valid video id.`):new TypeError(`“${r}” is not a vimeo.com url.`)}const nt=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener";const i=typeof e=="string"?[e]:e;return i.forEach(o=>{t[r](o,n)}),{cancel:()=>i.forEach(o=>t[s](o,n))}};function me(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;if(!t||!e||typeof e.querySelectorAll!="function")return null;const n=e.querySelectorAll("iframe");for(let r=0;r<n.length;r++)if(n[r]&&n[r].contentWindow===t)return n[r];return null}const ln=typeof Array.prototype.indexOf<"u",cn=typeof window<"u"&&typeof window.postMessage<"u";if(!Xe&&(!ln||!cn))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function un(t,e){return e={exports:{}},t(e,e.exports),e.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(t){if(t.WeakMap)return;var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}})(),r=function(i,o,a){n?Object.defineProperty(i,o,{configurable:!0,writable:!0,value:a}):i[o]=a};t.WeakMap=(function(){function i(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",a("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(i.prototype,"delete",function(c){if(o(this,"delete"),!s(c))return!1;var u=c[this._id];return u&&u[0]===c?(delete c[this._id],!0):!1}),r(i.prototype,"get",function(c){if(o(this,"get"),!!s(c)){var u=c[this._id];if(u&&u[0]===c)return u[1]}}),r(i.prototype,"has",function(c){if(o(this,"has"),!s(c))return!1;var u=c[this._id];return!!(u&&u[0]===c)}),r(i.prototype,"set",function(c,u){if(o(this,"set"),!s(c))throw new TypeError("Invalid value used as weak map key");var h=c[this._id];return h&&h[0]===c?(h[1]=u,this):(r(c,this._id,[c,u]),this)});function o(c,u){if(!s(c)||!e.call(c,"_id"))throw new TypeError(u+" method called on incompatible receiver "+typeof c)}function a(c){return c+"_"+l()+"."+l()}function l(){return Math.random().toString().substring(2)}return r(i,"_polyfill",!0),i})();function s(i){return Object(i)===i}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:G);var L=un(function(t){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,r,s){r[n]=r[n]||s(),t.exports&&(t.exports=r[n])})("Promise",G,function(){var n,r,s,i=Object.prototype.toString,o=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(d,f,y,E){return Object.defineProperty(d,f,{value:y,writable:!0,configurable:E!==!1})}}catch{n=function(f,y,E){return f[y]=E,f}}s=(function(){var d,f,y;function E(P,A){this.fn=P,this.self=A,this.next=void 0}return{add:function(A,N){y=new E(A,N),f?f.next=y:d=y,f=y,y=void 0},drain:function(){var A=d;for(d=f=r=void 0;A;)A.fn.call(A.self),A=A.next}}})();function a(p,d){s.add(p,d),r||(r=o(s.drain))}function l(p){var d,f=typeof p;return p!=null&&(f=="object"||f=="function")&&(d=p.then),typeof d=="function"?d:!1}function c(){for(var p=0;p<this.chain.length;p++)u(this,this.state===1?this.chain[p].success:this.chain[p].failure,this.chain[p]);this.chain.length=0}function u(p,d,f){var y,E;try{d===!1?f.reject(p.msg):(d===!0?y=p.msg:y=d.call(void 0,p.msg),y===f.promise?f.reject(TypeError("Promise-chain cycle")):(E=l(y))?E.call(y,f.resolve,f.reject):f.resolve(y))}catch(P){f.reject(P)}}function h(p){var d,f=this;if(!f.triggered){f.triggered=!0,f.def&&(f=f.def);try{(d=l(p))?a(function(){var y=new w(f);try{d.call(p,function(){h.apply(y,arguments)},function(){m.apply(y,arguments)})}catch(E){m.call(y,E)}}):(f.msg=p,f.state=1,f.chain.length>0&&a(c,f))}catch(y){m.call(new w(f),y)}}}function m(p){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=p,d.state=2,d.chain.length>0&&a(c,d))}function g(p,d,f,y){for(var E=0;E<d.length;E++)(function(A){p.resolve(d[A]).then(function(D){f(A,D)},y)})(E)}function w(p){this.def=p,this.triggered=!1}function v(p){this.promise=p,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(p){if(typeof p!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new v(this);this.then=function(y,E){var P={success:typeof y=="function"?y:!0,failure:typeof E=="function"?E:!1};return P.promise=new this.constructor(function(N,D){if(typeof N!="function"||typeof D!="function")throw TypeError("Not a function");P.resolve=N,P.reject=D}),d.chain.push(P),d.state!==0&&a(c,d),P.promise},this.catch=function(y){return this.then(void 0,y)};try{p.call(void 0,function(y){h.call(d,y)},function(y){m.call(d,y)})}catch(f){m.call(d,f)}}var k=n({},"constructor",b,!1);return b.prototype=k,n(k,"__NPO__",0,!1),n(b,"resolve",function(d){var f=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new f(function(E,P){if(typeof E!="function"||typeof P!="function")throw TypeError("Not a function");E(d)})}),n(b,"reject",function(d){return new this(function(y,E){if(typeof y!="function"||typeof E!="function")throw TypeError("Not a function");E(d)})}),n(b,"all",function(d){var f=this;return i.call(d)!="[object Array]"?f.reject(TypeError("Not an array")):d.length===0?f.resolve([]):new f(function(E,P){if(typeof E!="function"||typeof P!="function")throw TypeError("Not a function");var A=d.length,N=Array(A),D=0;g(f,d,function(Dn,Vn){N[Dn]=Vn,++D===A&&E(N)},P)})}),n(b,"race",function(d){var f=this;return i.call(d)!="[object Array]"?f.reject(TypeError("Not an array")):new f(function(E,P){if(typeof E!="function"||typeof P!="function")throw TypeError("Not a function");g(f,d,function(N,D){E(D)},P)})}),b})});const O=new WeakMap;function ne(t,e,n){const r=O.get(t.element)||{};e in r||(r[e]=[]),r[e].push(n),O.set(t.element,r)}function ge(t,e){return(O.get(t.element)||{})[e]||[]}function ye(t,e,n){const r=O.get(t.element)||{};if(!r[e])return!0;if(!n)return r[e]=[],O.set(t.element,r),!0;const s=r[e].indexOf(n);return s!==-1&&r[e].splice(s,1),O.set(t.element,r),r[e]&&r[e].length===0}function hn(t,e){const n=ge(t,e);if(n.length<1)return!1;const r=n.shift();return ye(t,e,r),r}function dn(t,e){const n=O.get(t);O.set(e,n),O.delete(t)}function re(t){if(typeof t=="string")try{t=JSON.parse(t)}catch(e){return console.warn(e),{}}return t}function U(t,e,n){if(!t.element.contentWindow||!t.element.contentWindow.postMessage)return;let r={method:e};n!==void 0&&(r.value=n);const s=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));s>=8&&s<10&&(r=JSON.stringify(r)),t.element.contentWindow.postMessage(r,t.origin)}function fn(t,e){e=re(e);let n=[],r;if(e.event)e.event==="error"&&ge(t,e.data.method).forEach(i=>{const o=new Error(e.data.message);o.name=e.data.name,i.reject(o),ye(t,e.data.method,i)}),n=ge(t,`event:${e.event}`),r=e.data;else if(e.method){const s=hn(t,e.method);s&&(n.push(s),r=e.value)}n.forEach(s=>{try{if(typeof s=="function"){s.call(t,r);return}s.resolve(r)}catch{}})}const pn=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","initial_quality","interactive_params","keyboard","loop","maxheight","max_quality","maxwidth","min_quality","muted","play_button_position","playsinline","portrait","preload","progress_bar","quality","quality_selector","responsive","skipping_forward","speed","start_time","texttrack","thumbnail_id","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function rt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pn.reduce((n,r)=>{const s=t.getAttribute(`data-vimeo-${r}`);return(s||s==="")&&(n[r]=s===""?1:s),n},e)}function qe(t,e){let{html:n}=t;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");const r=document.createElement("div");return r.innerHTML=n,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function st(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((r,s)=>{if(!j(t))throw new TypeError(`“${t}” is not a vimeo.com url.`);let o=`https://${an(t)}/api/oembed.json?url=${encodeURIComponent(t)}`;for(const l in e)e.hasOwnProperty(l)&&(o+=`&${l}=${encodeURIComponent(e[l])}`);const a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){if(a.status===404){s(new Error(`“${t}” was not found.`));return}if(a.status===403){s(new Error(`“${t}” is not embeddable.`));return}try{const l=JSON.parse(a.responseText);if(l.domain_status_code===403){qe(l,n),s(new Error(`“${t}” is not embeddable.`));return}r(l)}catch(l){s(l)}},a.onerror=function(){const l=a.status?` (${a.status})`:"";s(new Error(`There was an error fetching the embed code from Vimeo${l}.`))},a.send()})}function mn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=r=>{"console"in window&&console.error&&console.error(`There was an error creating an embed: ${r}`)};e.forEach(r=>{try{if(r.getAttribute("data-vimeo-defer")!==null)return;const s=rt(r),i=tt(s);st(i,s,r).then(o=>qe(o,r)).catch(n)}catch(s){n(s)}})}function gn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(window.VimeoPlayerResizeEmbeds_)return;window.VimeoPlayerResizeEmbeds_=!0;const e=n=>{if(!j(n.origin)||!n.data||n.data.event!=="spacechange")return;const r=n.source?me(n.source,t):null;if(r){const s=r.parentElement;s.style.paddingBottom=`${n.data.data[0].bottom}px`}};window.addEventListener("message",e)}function yn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(window.VimeoSeoMetadataAppended)return;window.VimeoSeoMetadataAppended=!0;const e=n=>{if(!j(n.origin))return;const r=re(n.data);if(!r||r.event!=="ready")return;const s=n.source?me(n.source,t):null;s&&et(s.src)&&new se(s).callMethod("appendVideoMetadata",window.location.href)};window.addEventListener("message",e)}function wn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(window.VimeoCheckedUrlTimeParam)return;window.VimeoCheckedUrlTimeParam=!0;const e=r=>{"console"in window&&console.error&&console.error(`There was an error getting video Id: ${r}`)},n=r=>{if(!j(r.origin))return;const s=re(r.data);if(!s||s.event!=="ready")return;const i=r.source?me(r.source,t):null;if(i&&et(i.src)){const o=new se(i);o.getVideoId().then(a=>{const l=new RegExp(`[?&]vimeo_t_${a}=([^&#]*)`).exec(window.location.href);if(l&&l[1]){const c=decodeURI(l[1]);o.setCurrentTime(c)}}).catch(e)}};window.addEventListener("message",n)}function vn(){if(window.VimeoDRMEmbedsUpdated)return;window.VimeoDRMEmbedsUpdated=!0;const t=e=>{if(!j(e.origin))return;const n=re(e.data);if(!n||n.event!=="drminitfailed")return;const r=e.source?me(e.source):null;if(!r)return;const s=r.getAttribute("allow")||"";if(!s.includes("encrypted-media")){r.setAttribute("allow",`${s}; encrypted-media`);const o=new URL(r.getAttribute("src"));o.searchParams.set("forcereload","drm"),r.setAttribute("src",o.toString());return}};window.addEventListener("message",t)}function bn(){const t=(function(){let r;const s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];let i=0;const o=s.length,a={};for(;i<o;i++)if(r=s[i],r&&r[1]in document){for(i=0;i<r.length;i++)a[s[0][i]]=r[i];return a}return!1})(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.fullscreenerror},n={request(r){return new Promise((s,i)=>{const o=function(){n.off("fullscreenchange",o),s()};n.on("fullscreenchange",o),r=r||document.documentElement;const a=r[t.requestFullscreen]();a instanceof Promise&&a.then(o).catch(i)})},exit(){return new Promise((r,s)=>{if(!n.isFullscreen){r();return}const i=function(){n.off("fullscreenchange",i),r()};n.on("fullscreenchange",i);const o=document[t.exitFullscreen]();o instanceof Promise&&o.then(i).catch(s)})},on(r,s){const i=e[r];i&&document.addEventListener(i,s)},off(r,s){const i=e[r];i&&document.removeEventListener(i,s)}};return Object.defineProperties(n,{isFullscreen:{get(){return!!document[t.fullscreenElement]}},element:{enumerable:!0,get(){return document[t.fullscreenElement]}},isEnabled:{enumerable:!0,get(){return!!document[t.fullscreenEnabled]}}}),n}const En={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1};class kn extends EventTarget{constructor(n,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;super();Te(this,"logger");Te(this,"speedAdjustment",0);Te(this,"adjustSpeed",async(n,r)=>{if(this.speedAdjustment===r)return;const s=await n.getPlaybackRate()-this.speedAdjustment+r;this.log(`New playbackRate:  ${s}`),await n.setPlaybackRate(s),this.speedAdjustment=r});this.logger=i,this.init(r,n,{...En,...s})}disconnect(){this.dispatchEvent(new Event("disconnect"))}async init(n,r,s){if(await this.waitForTOReadyState(n,"open"),s.role==="viewer"){await this.updatePlayer(n,r,s);const i=nt(n,"change",()=>this.updatePlayer(n,r,s)),o=this.maintainPlaybackPosition(n,r,s);this.addEventListener("disconnect",()=>{o.cancel(),i.cancel()})}else{await this.updateTimingObject(n,r);const i=nt(r,["seeked","play","pause","ratechange"],()=>this.updateTimingObject(n,r),"on","off");this.addEventListener("disconnect",()=>i.cancel())}}async updateTimingObject(n,r){const[s,i,o]=await Promise.all([r.getCurrentTime(),r.getPaused(),r.getPlaybackRate()]);n.update({position:s,velocity:i?0:o})}async updatePlayer(n,r,s){const{position:i,velocity:o}=n.query();typeof i=="number"&&r.setCurrentTime(i),typeof o=="number"&&(o===0?await r.getPaused()===!1&&r.pause():o>0&&(await r.getPaused()===!0&&(await r.play().catch(async a=>{a.name==="NotAllowedError"&&s.autoPlayMuted&&(await r.setMuted(!0),await r.play().catch(l=>console.error("Couldn't play the video from TimingSrcConnector. Error:",l)))}),this.updatePlayer(n,r,s)),await r.getPlaybackRate()!==o&&r.setPlaybackRate(o)))}maintainPlaybackPosition(n,r,s){const{allowedDrift:i,maxAllowedDrift:o,minCheckInterval:a,maxRateAdjustment:l,maxTimeToCatchUp:c}=s,u=Math.min(c,Math.max(a,o))*1e3,h=async()=>{if(n.query().velocity===0||await r.getPaused()===!0)return;const g=n.query().position-await r.getCurrentTime(),w=Math.abs(g);if(this.log(`Drift: ${g}`),w>o)await this.adjustSpeed(r,0),r.setCurrentTime(n.query().position),this.log("Resync by currentTime");else if(w>i){const v=w/c,b=l,k=v<b?(b-v)/2:b;await this.adjustSpeed(r,k*Math.sign(g)),this.log("Resync by playbackRate")}},m=setInterval(()=>h(),u);return{cancel:()=>clearInterval(m)}}log(n){var r;(r=this.logger)==null||r.call(this,`TimingSrcConnector: ${n}`)}waitForTOReadyState(n,r){return new Promise(s=>{const i=()=>{n.readyState===r?s():n.addEventListener("readystatechange",i,{once:!0})};i()})}}const Y=new WeakMap,xe=new WeakMap;let M={};class se{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!sn(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){const s=e.querySelector("iframe");s&&(e=s)}if(e.nodeName==="IFRAME"&&!j(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(Y.has(e))return Y.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";const r=new L((s,i)=>{if(this._onMessage=o=>{if(!j(o.origin)||this.element.contentWindow!==o.source)return;this.origin==="*"&&(this.origin=o.origin);const a=re(o.data);if(a&&a.event==="error"&&a.data&&a.data.method==="ready"){const m=new Error(a.data.message);m.name=a.data.name,i(m);return}const u=a&&a.event==="ready",h=a&&a.method==="ping";if(u||h){this.element.setAttribute("data-ready","true"),s();return}fn(this,a)},this._window.addEventListener("message",this._onMessage),this.element.nodeName!=="IFRAME"){const o=rt(e,n),a=tt(o);st(a,o,e).then(l=>{const c=qe(l,e);return this.element=c,this._originalElement=e,dn(e,c),Y.set(this.element,this),l}).catch(i)}});if(xe.set(this,r),Y.set(this.element,this),this.element.nodeName==="IFRAME"&&U(this,"ping"),M.isEnabled){const s=()=>M.exit();this.fullscreenchangeHandler=()=>{M.isFullscreen?ne(this,"event:exitFullscreen",s):ye(this,"event:exitFullscreen",s),this.ready().then(()=>{U(this,"fullscreenchange",M.isFullscreen)})},M.on("fullscreenchange",this.fullscreenchangeHandler)}return this}static isVimeoUrl(e){return j(e)}callMethod(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(e==null)throw new TypeError("You must pass a method name.");return new L((i,o)=>this.ready().then(()=>{ne(this,e,{resolve:i,reject:o}),r.length===0?r={}:r.length===1&&(r=r[0]),U(this,e,r)}).catch(o))}get(e){return new L((n,r)=>(e=Ze(e,"get"),this.ready().then(()=>{ne(this,e,{resolve:n,reject:r}),U(this,e)}).catch(r)))}set(e,n){return new L((r,s)=>{if(e=Ze(e,"set"),n==null)throw new TypeError("There must be a value to set.");return this.ready().then(()=>{ne(this,e,{resolve:r,reject:s}),U(this,e,n)}).catch(s)})}on(e,n){if(!e)throw new TypeError("You must pass an event name.");if(!n)throw new TypeError("You must pass a callback function.");if(typeof n!="function")throw new TypeError("The callback must be a function.");ge(this,`event:${e}`).length===0&&this.callMethod("addEventListener",e).catch(()=>{}),ne(this,`event:${e}`,n)}off(e,n){if(!e)throw new TypeError("You must pass an event name.");if(n&&typeof n!="function")throw new TypeError("The callback must be a function.");ye(this,`event:${e}`,n)&&this.callMethod("removeEventListener",e).catch(s=>{})}loadVideo(e){return this.callMethod("loadVideo",e)}ready(){const e=xe.get(this)||new L((n,r)=>{r(new Error("Unknown player. Probably unloaded."))});return L.resolve(e)}addCuePoint(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:n})}removeCuePoint(e){return this.callMethod("removeCuePoint",e)}enableTextTrack(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:n,showing:r})}disableTextTrack(){return this.callMethod("disableTextTrack")}selectAudioTrack(e,n){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("selectAudioTrack",{language:e,kind:n})}selectDefaultAudioTrack(){return this.callMethod("selectDefaultAudioTrack")}pause(){return this.callMethod("pause")}play(){return this.callMethod("play")}requestFullscreen(){return M.isEnabled?M.request(this.element):this.callMethod("requestFullscreen")}exitFullscreen(){return M.isEnabled?M.exit():this.callMethod("exitFullscreen")}getFullscreen(){return M.isEnabled?L.resolve(M.isFullscreen):this.get("fullscreen")}requestPictureInPicture(){return this.callMethod("requestPictureInPicture")}exitPictureInPicture(){return this.callMethod("exitPictureInPicture")}getPictureInPicture(){return this.get("pictureInPicture")}remotePlaybackPrompt(){return this.callMethod("remotePlaybackPrompt")}unload(){return this.callMethod("unload")}destroy(){return new L(e=>{if(xe.delete(this),Y.delete(this.element),this._originalElement&&(Y.delete(this._originalElement),this._originalElement.removeAttribute("data-vimeo-initialized")),this.element&&this.element.nodeName==="IFRAME"&&this.element.parentNode&&(this.element.parentNode.parentNode&&this._originalElement&&this._originalElement!==this.element.parentNode?this.element.parentNode.parentNode.removeChild(this.element.parentNode):this.element.parentNode.removeChild(this.element)),this.element&&this.element.nodeName==="DIV"&&this.element.parentNode){this.element.removeAttribute("data-vimeo-initialized");const n=this.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&this._originalElement&&this._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}this._window.removeEventListener("message",this._onMessage),M.isEnabled&&M.off("fullscreenchange",this.fullscreenchangeHandler),e()})}getAutopause(){return this.get("autopause")}setAutopause(e){return this.set("autopause",e)}getBuffered(){return this.get("buffered")}getCameraProps(){return this.get("cameraProps")}setCameraProps(e){return this.set("cameraProps",e)}getChapters(){return this.get("chapters")}getCurrentChapter(){return this.get("currentChapter")}getColor(){return this.get("color")}getColors(){return L.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}setColor(e){return this.set("color",e)}setColors(e){if(!Array.isArray(e))return new L((s,i)=>i(new TypeError("Argument must be an array.")));const n=new L(s=>s(null)),r=[e[0]?this.set("colorOne",e[0]):n,e[1]?this.set("colorTwo",e[1]):n,e[2]?this.set("colorThree",e[2]):n,e[3]?this.set("colorFour",e[3]):n];return L.all(r)}getCuePoints(){return this.get("cuePoints")}getCurrentTime(){return this.get("currentTime")}setCurrentTime(e){return this.set("currentTime",e)}getDuration(){return this.get("duration")}getEnded(){return this.get("ended")}getLoop(){return this.get("loop")}setLoop(e){return this.set("loop",e)}setMuted(e){return this.set("muted",e)}getMuted(){return this.get("muted")}getPaused(){return this.get("paused")}getPlaybackRate(){return this.get("playbackRate")}setPlaybackRate(e){return this.set("playbackRate",e)}getPlayed(){return this.get("played")}getQualities(){return this.get("qualities")}getQuality(){return this.get("quality")}setQuality(e){return this.set("quality",e)}getRemotePlaybackAvailability(){return this.get("remotePlaybackAvailability")}getRemotePlaybackState(){return this.get("remotePlaybackState")}getSeekable(){return this.get("seekable")}getSeeking(){return this.get("seeking")}getTextTracks(){return this.get("textTracks")}getAudioTracks(){return this.get("audioTracks")}getEnabledAudioTrack(){return this.get("enabledAudioTrack")}getDefaultAudioTrack(){return this.get("defaultAudioTrack")}getVideoEmbedCode(){return this.get("videoEmbedCode")}getVideoId(){return this.get("videoId")}getVideoTitle(){return this.get("videoTitle")}getVideoWidth(){return this.get("videoWidth")}getVideoHeight(){return this.get("videoHeight")}getVideoUrl(){return this.get("videoUrl")}getVolume(){return this.get("volume")}setVolume(e){return this.set("volume",e)}async setTimingSrc(e,n){if(!e)throw new TypeError("A Timing Object must be provided.");await this.ready();const r=new kn(this,e,n);return U(this,"notifyTimingObjectConnect"),r.addEventListener("disconnect",()=>U(this,"notifyTimingObjectDisconnect")),r}}Xe||(M=bn(),mn(),gn(),yn(),wn(),vn());const Pn=200;let q=[],F=new Map,I=-1,Q=!0,J=!1,we="",ve=null,be=null,C=null,Ee=-1,Re=0,ie=0,K=0,X=!1;function Sn(){C=document.querySelector(".selected-list"),q=C?[...C.querySelectorAll(".selected-item")]:[],!(!C||!q.length)&&(q.forEach((t,e)=>{var l,c;const n=t.querySelector(".selected-full iframe");if(!n)return;n.dataset.managed="true";const r=t.querySelector(".selected-cover"),s=n.src||n.dataset.src;if(s&&r){const u=(l=s.match(/player\.vimeo\.com\/video\/(\d+)/))==null?void 0:l[1];if(u){const h=(c=s.match(/[?&]h=([a-f0-9]+)/))==null?void 0:c[1],m=h?`https://vimeo.com/${u}/${h}`:`https://vimeo.com/${u}`;fetch(`https://vimeo.com/api/oembed.json?url=${encodeURIComponent(m)}`).then(g=>g.json()).then(g=>{g.width&&g.height&&(r.style.aspectRatio=`${g.width} / ${g.height}`)}).catch(()=>{})}}const i=new se(n);F.set(e,i),i.setLoop(!1),i.setMuted(!0),i.play().catch(()=>{});const o=t.querySelector(".selected-full-poster");let a=!1;i.on("timeupdate",u=>{!a&&o&&u.seconds>0&&(a=!0,o.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",o.style.opacity="0",o.style.pointerEvents="none"),e===I&&(Re=u.seconds,ie=performance.now(),K=u.duration)}),i.on("ended",()=>{e===I&&ot((e+1)%q.length)}),i.on("play",()=>{e===I&&(X=!0,ie=performance.now())}),i.on("pause",()=>{e===I&&(X=!1)})}),C.addEventListener("scroll",it,{passive:!0}),q.forEach((t,e)=>{t.addEventListener("click",()=>ot(e))}),$n(),Cn(),je(0))}function Tn(){cancelAnimationFrame(ve),cancelAnimationFrame(be),F.forEach(t=>{try{t.pause()}catch{}}),F.clear(),C==null||C.removeEventListener("scroll",it),q=[],C=null,I=-1,Ee=-1,J=!1,Q=!0,X=!1,ve=null}function it(){be||(be=requestAnimationFrame(()=>{An(),be=null}))}function An(){if(!C||!q.length||Ee>=0)return;const t=C.getBoundingClientRect().left;let e=0,n=1/0;q.forEach((r,s)=>{const i=Math.abs(r.getBoundingClientRect().left-t);i<n&&(n=i,e=s)}),n<Pn&&e!==I&&je(e)}function ot(t){if(!C||!q[t])return;Ee=t;const e=q[t];C.scrollTo({left:e.offsetLeft-C.offsetLeft,behavior:"smooth"});let n=null;const r=()=>{clearTimeout(n),n=setTimeout(()=>{C.removeEventListener("scroll",r),Ee=-1},100)};C.addEventListener("scroll",r,{passive:!0}),J=!1;const s=document.querySelector('[data-controls="pause"]');s&&we&&(s.textContent=we),je(t)}function je(t){if(t===I)return;const e=I;I=t,q.forEach((r,s)=>{r.classList.toggle("active",s===t)}),e>=0&&F.has(e)&&F.get(e).pause(),Re=0,ie=performance.now(),K=0,X=!1,at(0,0);const n=F.get(t);n&&(n.setCurrentTime(0),n.setMuted(Q),J||n.play().then(()=>{X=!0,ie=performance.now()}),n.getDuration().then(r=>{K=r}))}function Cn(){function t(){if(I>=0&&X&&K>0){const n=(performance.now()-ie)/1e3,r=Math.min(Re+n,K),s=r/K;at(s,r)}ve=requestAnimationFrame(t)}ve=requestAnimationFrame(t)}function at(t,e){const n=q[I];if(!n)return;const r=`${(t*100).toFixed(2)}%`,s=n.querySelector(".selected-progress");s&&(s.style.left=r);const i=n.querySelector(".selected-cover");i&&i.style.setProperty("--progress",r);const o=document.querySelector("#videoDuration");o&&(o.textContent=Ln(e))}function $n(){const t=document.querySelector('[data-controls="pause"]');t&&(we=t.textContent,t.addEventListener("click",Mn));const e=document.querySelector('[data-controls="muted"]');e&&e.addEventListener("click",In)}function Mn(){const t=F.get(I),e=document.querySelector('[data-controls="pause"]');!t||!e||(J=!J,J?(t.pause(),e.textContent="Jouer"):(t.play(),e.textContent=we))}function In(){const t=document.querySelector('[data-controls="muted"]');if(!t)return;Q=!Q,t.classList.toggle("active",Q);const e=F.get(I);e&&e.setMuted(Q)}function Ln(t){const e=Math.floor(t/60),n=Math.floor(t%60),r=Math.floor(t%1*1e3);return String(e).padStart(2,"0")+":"+String(n).padStart(2,"0")+":"+String(r).padStart(3,"0")}const lt=200,ct="cubic-bezier(0.4, 0, 0.2, 1)";let oe=null,ke=new Map,Z=null,Pe=[];function qn(){const t=document.querySelectorAll(".projects-item");t.length&&(Pe=[...document.querySelectorAll(".categories-button[data-categories]")],Pe.forEach(e=>{e.addEventListener("click",()=>Rn(e))}),oe=new IntersectionObserver(xn,{threshold:.25}),t.forEach(e=>{var a,l;const n=e.querySelector(".projects-cover-inner");if(!n)return;const r=n.querySelector(".projects-cover iframe"),s=n.querySelector(".projects-cover-poster");if(!r)return;const i=r.src||r.dataset.src;if(!i)return;const o=(a=i.match(/player\.vimeo\.com\/video\/(\d+)/))==null?void 0:a[1];if(o){const c=(l=i.match(/[?&]h=([a-f0-9]+)/))==null?void 0:l[1],u=c?`https://vimeo.com/${o}/${c}`:`https://vimeo.com/${o}`;fetch(`https://vimeo.com/api/oembed.json?url=${encodeURIComponent(u)}`).then(h=>h.json()).then(h=>{h.width&&h.height&&(n.style.aspectRatio=`${h.width} / ${h.height}`)}).catch(()=>{})}r.dataset.src=i,r.removeAttribute("src"),ke.set(r,{player:null,poster:s,coverInner:n,loaded:!1,playing:!1}),oe.observe(e)}))}function xn(t){t.forEach(e=>{const r=e.target.querySelector(".projects-cover iframe");if(!r)return;const s=ke.get(r);if(s)if(e.isIntersecting)if(s.loaded)s.player&&s.player.play().catch(()=>{});else{r.src=r.dataset.src,s.loaded=!0;const i=new se(r);s.player=i,i.setMuted(!0),i.setLoop(!0),i.on("timeupdate",o=>{s.poster&&!s.playing&&o.seconds>0&&(s.playing=!0,s.poster.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",s.poster.style.opacity="0",s.poster.style.pointerEvents="none")}),i.ready().then(()=>{e.isIntersecting&&i.play().catch(()=>{})})}else s.player&&s.player.pause().catch(()=>{})})}function Rn(t){const e=t.dataset.categories;if(Z===e)t.classList.remove("active"),Z=null,document.querySelectorAll(".projects-item[data-filter]").forEach(ut);else{if(Z){const n=Pe.find(r=>r.dataset.categories===Z);n&&n.classList.remove("active")}t.classList.add("active"),Z=e,document.querySelectorAll(".projects-item[data-filter]").forEach(n=>{n.dataset.filter===e?ut(n):jn(n)})}}function jn(t){if(t.style.height==="0px")return;const e=t.offsetHeight;t.style.height=e+"px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${lt}ms ${ct}`,t.style.height="0px"}function ut(t){if(!t.style.height||t.style.height==="")return;t.style.transition="none",t.style.height="",t.style.overflow="";const e=t.offsetHeight;t.style.height="0px",t.style.overflow="hidden",t.offsetHeight,t.style.transition=`height ${lt}ms ${ct}`,t.style.height=e+"px";const n=()=>{t.style.height="",t.style.overflow="",t.style.transition=""};t.addEventListener("transitionend",n,{once:!0})}function On(){oe&&(oe.disconnect(),oe=null),ke.forEach(t=>{if(t.player)try{t.player.pause()}catch{}}),ke.clear(),Z=null,Pe=[],document.querySelectorAll(".projects-item[data-filter]").forEach(t=>{t.style.height="",t.style.overflow="",t.style.transition=""})}let ae=null,x=null;function Nn(){const t=document.querySelector(".background-full");if(!t)return;const e=t.querySelector("iframe"),n=document.querySelector(".background-full-poster");if(!e)return;const r=new se(e);r.setMuted(!0),r.setLoop(!0),x={player:r,poster:n,playing:!1},r.on("timeupdate",s=>{x.poster&&!x.playing&&s.seconds>0&&(x.playing=!0,x.poster.style.transition="opacity 200ms cubic-bezier(0.4, 0, 0.2, 1)",x.poster.style.opacity="0",x.poster.style.pointerEvents="none")}),ae=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting?r.play().catch(()=>{}):r.pause().catch(()=>{})})},{threshold:.25}),ae.observe(t)}function _n(){if(ae&&(ae.disconnect(),ae=null),x!=null&&x.player)try{x.player.pause()}catch{}x=null}const Se={home:{init:Sn,cleanup:Tn},projects:{init:qn,cleanup:On},information:{init:Nn,cleanup:_n}};function Oe(){var t;return((t=document.querySelector("#swup"))==null?void 0:t.dataset.namespace)||null}function ht(){const t=Oe();t&&Se[t]&&Se[t].init()}function Fn(){const t=Oe();t&&Se[t]&&Se[t].cleanup()}document.addEventListener("DOMContentLoaded",()=>{W();const t=Kt({initCurrentPage:ht,cleanupCurrentPage:Fn});Xt(t),Oe()==="projects"?Qt():Jt(),ht()})})();
